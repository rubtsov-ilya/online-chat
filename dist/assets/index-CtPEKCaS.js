function bO(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function qp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mS={exports:{}},Gp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO=Symbol.for("react.transitional.element"),EO=Symbol.for("react.fragment");function gS(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:wO,type:t,key:i,ref:e!==void 0?e:null,props:n}}Gp.Fragment=EO;Gp.jsx=gS;Gp.jsxs=gS;mS.exports=Gp;var C=mS.exports,_S={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=Symbol.for("react.transitional.element"),CO=Symbol.for("react.portal"),SO=Symbol.for("react.fragment"),TO=Symbol.for("react.strict_mode"),xO=Symbol.for("react.profiler"),AO=Symbol.for("react.consumer"),RO=Symbol.for("react.context"),OO=Symbol.for("react.forward_ref"),NO=Symbol.for("react.suspense"),MO=Symbol.for("react.memo"),vS=Symbol.for("react.lazy"),jb=Symbol.iterator;function IO(t){return t===null||typeof t!="object"?null:(t=jb&&t[jb]||t["@@iterator"],typeof t=="function"?t:null)}var yS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bS=Object.assign,wS={};function Nl(t,e,n){this.props=t,this.context=e,this.refs=wS,this.updater=n||yS}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ES(){}ES.prototype=Nl.prototype;function B1(t,e,n){this.props=t,this.context=e,this.refs=wS,this.updater=n||yS}var z1=B1.prototype=new ES;z1.constructor=B1;bS(z1,Nl.prototype);z1.isPureReactComponent=!0;var Bb=Array.isArray,at={H:null,A:null,T:null,S:null},CS=Object.prototype.hasOwnProperty;function H1(t,e,n,i,r,s){return n=s.ref,{$$typeof:j1,type:t,key:e,ref:n!==void 0?n:null,props:s}}function DO(t,e){return H1(t.type,e,void 0,void 0,void 0,t.props)}function $1(t){return typeof t=="object"&&t!==null&&t.$$typeof===j1}function kO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zb=/\/+/g;function qm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kO(""+t.key):e.toString(36)}function Hb(){}function LO(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Hb,Hb):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function So(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case j1:case CO:a=!0;break;case vS:return a=t._init,So(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+qm(t,0):i,Bb(r)?(n="",a!=null&&(n=a.replace(zb,"$&/")+"/"),So(r,e,n,"",function(u){return u})):r!=null&&($1(r)&&(r=DO(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(zb,"$&/")+"/")+a)),e.push(r)),1;a=0;var o=i===""?".":i+":";if(Bb(t))for(var l=0;l<t.length;l++)i=t[l],s=o+qm(i,l),a+=So(i,e,n,s,r);else if(l=IO(t),typeof l=="function")for(t=l.call(t),l=0;!(i=t.next()).done;)i=i.value,s=o+qm(i,l++),a+=So(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return So(LO(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Dd(t,e,n){if(t==null)return t;var i=[],r=0;return So(t,i,"","",function(s){return e.call(n,s,r++)}),i}function UO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $b=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function PO(){}we.Children={map:Dd,forEach:function(t,e,n){Dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dd(t,function(){e++}),e},toArray:function(t){return Dd(t,function(e){return e})||[]},only:function(t){if(!$1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Nl;we.Fragment=SO;we.Profiler=xO;we.PureComponent=B1;we.StrictMode=TO;we.Suspense=NO;we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at;we.act=function(){throw Error("act(...) is not supported in production builds of React.")};we.cache=function(t){return function(){return t.apply(null,arguments)}};we.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=bS({},t.props),r=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(r=""+e.key),e)!CS.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}return H1(t.type,r,void 0,void 0,s,i)};we.createContext=function(t){return t={$$typeof:RO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:AO,_context:t},t};we.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)CS.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return H1(t,s,void 0,void 0,null,r)};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:OO,render:t}};we.isValidElement=$1;we.lazy=function(t){return{$$typeof:vS,_payload:{_status:-1,_result:t},_init:UO}};we.memo=function(t,e){return{$$typeof:MO,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=at.T,n={};at.T=n;try{var i=t(),r=at.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(PO,$b)}catch(s){$b(s)}finally{at.T=e}};we.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()};we.use=function(t){return at.H.use(t)};we.useActionState=function(t,e,n){return at.H.useActionState(t,e,n)};we.useCallback=function(t,e){return at.H.useCallback(t,e)};we.useContext=function(t){return at.H.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t,e){return at.H.useDeferredValue(t,e)};we.useEffect=function(t,e){return at.H.useEffect(t,e)};we.useId=function(){return at.H.useId()};we.useImperativeHandle=function(t,e,n){return at.H.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return at.H.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return at.H.useLayoutEffect(t,e)};we.useMemo=function(t,e){return at.H.useMemo(t,e)};we.useOptimistic=function(t,e){return at.H.useOptimistic(t,e)};we.useReducer=function(t,e,n){return at.H.useReducer(t,e,n)};we.useRef=function(t){return at.H.useRef(t)};we.useState=function(t){return at.H.useState(t)};we.useSyncExternalStore=function(t,e,n){return at.H.useSyncExternalStore(t,e,n)};we.useTransition=function(){return at.H.useTransition()};we.version="19.0.0";_S.exports=we;var x=_S.exports;const ne=qp(x),R_=bO({__proto__:null,default:ne},[x]);var SS={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO=x;function TS(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Gr(){}var nn={d:{f:Gr,r:function(){throw Error(TS(522))},D:Gr,C:Gr,L:Gr,m:Gr,X:Gr,S:Gr,M:Gr},p:0,findDOMNode:null},BO=Symbol.for("react.portal");function zO(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:BO,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ic=jO.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Wp(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nn;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(TS(299));return zO(t,e,null,n)};ln.flushSync=function(t){var e=Ic.T,n=nn.p;try{if(Ic.T=null,nn.p=2,t)return t()}finally{Ic.T=e,nn.p=n,nn.d.f()}};ln.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,nn.d.C(t,e))};ln.prefetchDNS=function(t){typeof t=="string"&&nn.d.D(t)};ln.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Wp(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?nn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&nn.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ln.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Wp(e.as,e.crossOrigin);nn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&nn.d.M(t)};ln.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Wp(n,e.crossOrigin);nn.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ln.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Wp(e.as,e.crossOrigin);nn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else nn.d.m(t)};ln.requestFormReset=function(t){nn.d.r(t)};ln.unstable_batchedUpdates=function(t,e){return t(e)};ln.useFormState=function(t,e,n){return Ic.H.useFormState(t,e,n)};ln.useFormStatus=function(){return Ic.H.useHostTransitionStatus()};ln.version="19.0.0";function xS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xS)}catch(t){console.error(t)}}xS(),SS.exports=ln;var Ml=SS.exports;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},du.apply(this,arguments)}var ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ms||(ms={}));const Fb="popstate";function HO(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return O_("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:qf(r)}return FO(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $O(){return Math.random().toString(36).substr(2,8)}function Vb(t,e){return{usr:t.state,key:t.key,idx:e}}function O_(t,e,n,i){return n===void 0&&(n=null),du({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Il(e):e,{state:n,key:e&&e.key||i||$O()})}function qf(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function FO(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=ms.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(du({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=ms.Pop;let y=c(),m=y==null?null:y-u;u=y,l&&l({action:o,location:v.location,delta:m})}function f(y,m){o=ms.Push;let g=O_(v.location,y,m);u=c()+1;let _=Vb(g,u),b=v.createHref(g);try{a.pushState(_,"",b)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(b)}s&&l&&l({action:o,location:v.location,delta:1})}function h(y,m){o=ms.Replace;let g=O_(v.location,y,m);u=c();let _=Vb(g,u),b=v.createHref(g);a.replaceState(_,"",b),s&&l&&l({action:o,location:v.location,delta:0})}function p(y){let m=r.location.origin!=="null"?r.location.origin:r.location.href,g=typeof y=="string"?y:qf(y);return g=g.replace(/ $/,"%20"),vt(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let v={get action(){return o},get location(){return t(r,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Fb,d),l=y,()=>{r.removeEventListener(Fb,d),l=null}},createHref(y){return e(r,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:h,go(y){return a.go(y)}};return v}var qb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qb||(qb={}));function VO(t,e,n){return n===void 0&&(n="/"),qO(t,e,n,!1)}function qO(t,e,n,i){let r=typeof e=="string"?Il(e):e,s=F1(r.pathname||"/",n);if(s==null)return null;let a=RS(t);GO(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=iN(s);o=tN(a[l],u,i)}return o}function RS(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Cs([i,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(vt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),RS(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:JO(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let l of OS(s.path))r(s,a,l)}),e}function OS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=OS(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function GO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const WO=/^:[\w-]+$/,YO=3,XO=2,KO=1,QO=10,ZO=-2,Gb=t=>t==="*";function JO(t,e){let n=t.split("/"),i=n.length;return n.some(Gb)&&(i+=ZO),e&&(i+=XO),n.filter(r=>!Gb(r)).reduce((r,s)=>r+(WO.test(s)?YO:s===""?KO:QO),i)}function eN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function tN(t,e,n){let{routesMeta:i}=t,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Wb({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!i[i.length-1].route.index&&(d=Wb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),a.push({params:r,pathname:Cs([s,d.pathname]),pathnameBase:oN(Cs([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Cs([s,d.pathnameBase]))}return a}function Wb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=nN(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,c,d)=>{let{paramName:f,isOptional:h}=c;if(f==="*"){let v=o[d]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[d];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function nN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),AS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function iN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function F1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function rN(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Il(t):t;return{pathname:n?n.startsWith("/")?n:sN(n,e):e,search:lN(i),hash:cN(r)}}function sN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Gm(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function V1(t,e){let n=aN(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function q1(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Il(t):(r=du({},t),vt(!r.pathname||!r.pathname.includes("?"),Gm("?","pathname","search",r)),vt(!r.pathname||!r.pathname.includes("#"),Gm("#","pathname","hash",r)),vt(!r.search||!r.search.includes("#"),Gm("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!i&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=rN(r,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Cs=t=>t.join("/").replace(/\/\/+/g,"/"),oN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NS=["post","put","patch","delete"];new Set(NS);const dN=["get",...NS];new Set(dN);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fu.apply(this,arguments)}const G1=x.createContext(null),fN=x.createContext(null),Ks=x.createContext(null),Yp=x.createContext(null),Br=x.createContext({outlet:null,matches:[],isDataRoute:!1}),MS=x.createContext(null);function hN(t,e){let{relative:n}=e===void 0?{}:e;Dl()||vt(!1);let{basename:i,navigator:r}=x.useContext(Ks),{hash:s,pathname:a,search:o}=DS(t,{relative:n}),l=a;return i!=="/"&&(l=a==="/"?i:Cs([i,a])),r.createHref({pathname:l,search:o,hash:s})}function Dl(){return x.useContext(Yp)!=null}function Qs(){return Dl()||vt(!1),x.useContext(Yp).location}function IS(t){x.useContext(Ks).static||x.useLayoutEffect(t)}function kl(){let{isDataRoute:t}=x.useContext(Br);return t?RN():pN()}function pN(){Dl()||vt(!1);let t=x.useContext(G1),{basename:e,future:n,navigator:i}=x.useContext(Ks),{matches:r}=x.useContext(Br),{pathname:s}=Qs(),a=JSON.stringify(V1(r,n.v7_relativeSplatPath)),o=x.useRef(!1);return IS(()=>{o.current=!0}),x.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){i.go(u);return}let d=q1(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Cs([e,d.pathname])),(c.replace?i.replace:i.push)(d,c.state,c)},[e,i,a,s,t])}const mN=x.createContext(null);function gN(t){let e=x.useContext(Br).outlet;return e&&x.createElement(mN.Provider,{value:t},e)}function DS(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=x.useContext(Ks),{matches:r}=x.useContext(Br),{pathname:s}=Qs(),a=JSON.stringify(V1(r,i.v7_relativeSplatPath));return x.useMemo(()=>q1(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function _N(t,e){return vN(t,e)}function vN(t,e,n,i){Dl()||vt(!1);let{navigator:r}=x.useContext(Ks),{matches:s}=x.useContext(Br),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Qs(),c;if(e){var d;let y=typeof e=="string"?Il(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||vt(!1),c=y}else c=u;let f=c.pathname||"/",h=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=VO(t,{pathname:h}),v=CN(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Cs([l,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Cs([l,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,i);return e&&v?x.createElement(Yp.Provider,{value:{location:fu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ms.Pop}},v):v}function yN(){let t=AN(),e=uN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:r},n):null,null)}const bN=x.createElement(yN,null);class wN extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(Br.Provider,{value:this.props.routeContext},x.createElement(MS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EN(t){let{routeContext:e,match:n,children:i}=t,r=x.useContext(G1);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Br.Provider,{value:e},i)}function CN(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||vt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let h,p=!1,v=null,y=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||bN,l&&(u<0&&f===0?(p=!0,y=null):u===f&&(p=!0,y=d.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),g=()=>{let _;return h?_=v:p?_=y:d.route.Component?_=x.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,x.createElement(EN,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(wN,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var kS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kS||{}),Gf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gf||{});function SN(t){let e=x.useContext(G1);return e||vt(!1),e}function TN(t){let e=x.useContext(fN);return e||vt(!1),e}function xN(t){let e=x.useContext(Br);return e||vt(!1),e}function LS(t){let e=xN(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function AN(){var t;let e=x.useContext(MS),n=TN(Gf.UseRouteError),i=LS(Gf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function RN(){let{router:t}=SN(kS.UseNavigateStable),e=LS(Gf.UseNavigateStable),n=x.useRef(!1);return IS(()=>{n.current=!0}),x.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,fu({fromRouteId:e},s)))},[t,e])}const Yb={};function ON(t,e){Yb[e]||(Yb[e]=!0,console.warn(e))}const Xb=(t,e,n)=>ON(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function NN(t,e){t!=null&&t.v7_startTransition||Xb("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Xb("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function bi(t){let{to:e,replace:n,state:i,relative:r}=t;Dl()||vt(!1);let{future:s,static:a}=x.useContext(Ks),{matches:o}=x.useContext(Br),{pathname:l}=Qs(),u=kl(),c=q1(e,V1(o,s.v7_relativeSplatPath),l,r==="path"),d=JSON.stringify(c);return x.useEffect(()=>u(JSON.parse(d),{replace:n,state:i,relative:r}),[u,d,r,n,i]),null}function MN(t){return gN(t.context)}function Ti(t){vt(!1)}function IN(t){let{basename:e="/",children:n=null,location:i,navigationType:r=ms.Pop,navigator:s,static:a=!1,future:o}=t;Dl()&&vt(!1);let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:s,static:a,future:fu({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=Il(i));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:p="default"}=i,v=x.useMemo(()=>{let y=F1(c,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:p},navigationType:r}},[l,c,d,f,h,p,r]);return v==null?null:x.createElement(Ks.Provider,{value:u},x.createElement(Yp.Provider,{children:n,value:v}))}function DN(t){let{children:e,location:n}=t;return _N(N_(e),n)}new Promise(()=>{});function N_(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(i,r)=>{if(!x.isValidElement(i))return;let s=[...e,r];if(i.type===x.Fragment){n.push.apply(n,N_(i.props.children,s));return}i.type!==Ti&&vt(!1),!i.props.index||!i.props.children||vt(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=N_(i.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},M_.apply(this,arguments)}function kN(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function LN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UN(t,e){return t.button===0&&(!e||e==="_self")&&!LN(t)}const PN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jN="6";try{window.__reactRouterVersion=jN}catch{}const BN="startTransition",Kb=R_[BN];function zN(t){let{basename:e,children:n,future:i,window:r}=t,s=x.useRef();s.current==null&&(s.current=HO({window:r,v5Compat:!0}));let a=s.current,[o,l]=x.useState({action:a.action,location:a.location}),{v7_startTransition:u}=i||{},c=x.useCallback(d=>{u&&Kb?Kb(()=>l(d)):l(d)},[l,u]);return x.useLayoutEffect(()=>a.listen(c),[a,c]),x.useEffect(()=>NN(i),[i]),x.createElement(IN,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:i})}const HN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$N=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ec=x.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,f=kN(e,PN),{basename:h}=x.useContext(Ks),p,v=!1;if(typeof u=="string"&&$N.test(u)&&(p=u,HN))try{let _=new URL(window.location.href),b=u.startsWith("//")?new URL(_.protocol+u):new URL(u),A=F1(b.pathname,h);b.origin===_.origin&&A!=null?u=A+b.search+b.hash:v=!0}catch{}let y=hN(u,{relative:r}),m=FN(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:r,viewTransition:d});function g(_){i&&i(_),_.defaultPrevented||m(_)}return x.createElement("a",M_({},f,{href:p||y,onClick:v||s?i:g,ref:n,target:l}))});var Qb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qb||(Qb={}));var Zb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zb||(Zb={}));function FN(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=kl(),u=Qs(),c=DS(t,{relative:a});return x.useCallback(d=>{if(UN(d,n)){d.preventDefault();let f=i!==void 0?i:qf(u)===qf(c);l(t,{replace:f,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,i,r,n,t,s,a,o])}var US={exports:{}},Xp={},PS={exports:{}},jS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,O){var P=R.length;R.push(O);e:for(;0<P;){var U=P-1>>>1,B=R[U];if(0<r(B,O))R[U]=O,R[P]=B,P=U;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var O=R[0],P=R.pop();if(P!==O){R[0]=P;e:for(var U=0,B=R.length,V=B>>>1;U<V;){var z=2*(U+1)-1,q=R[z],$=z+1,H=R[$];if(0>r(q,P))$<B&&0>r(H,q)?(R[U]=H,R[$]=P,U=$):(R[U]=q,R[z]=P,U=z);else if($<B&&0>r(H,P))R[U]=H,R[$]=P,U=$;else break e}}return O}function r(R,O){var P=R.sortIndex-O.sortIndex;return P!==0?P:R.id-O.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function _(R){for(var O=n(u);O!==null;){if(O.callback===null)i(u);else if(O.startTime<=R)i(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(u)}}function b(R){if(v=!1,_(R),!p)if(n(l)!==null)p=!0,N();else{var O=n(u);O!==null&&L(b,O.startTime-R)}}var A=!1,E=-1,M=5,w=-1;function S(){return!(t.unstable_now()-w<M)}function T(){if(A){var R=t.unstable_now();w=R;var O=!0;try{e:{p=!1,v&&(v=!1,m(E),E=-1),h=!0;var P=f;try{t:{for(_(R),d=n(l);d!==null&&!(d.expirationTime>R&&S());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var B=U(d.expirationTime<=R);if(R=t.unstable_now(),typeof B=="function"){d.callback=B,_(R),O=!0;break t}d===n(l)&&i(l),_(R)}else i(l);d=n(l)}if(d!==null)O=!0;else{var V=n(u);V!==null&&L(b,V.startTime-R),O=!1}}break e}finally{d=null,f=P,h=!1}O=void 0}}finally{O?D():A=!1}}}var D;if(typeof g=="function")D=function(){g(T)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,k=I.port2;I.port1.onmessage=T,D=function(){k.postMessage(null)}}else D=function(){y(T,0)};function N(){A||(A=!0,D())}function L(R,O){E=y(function(){R(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,N())},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var P=f;f=O;try{return R()}finally{f=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var P=f;f=R;try{return O()}finally{f=P}},t.unstable_scheduleCallback=function(R,O,P){var U=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?U+P:U):P=U,R){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=P+B,R={id:c++,callback:O,priorityLevel:R,startTime:P,expirationTime:B,sortIndex:-1},P>U?(R.sortIndex=P,e(u,R),n(l)===null&&R===n(u)&&(v?(m(E),E=-1):v=!0,L(b,P-U))):(R.sortIndex=B,e(l,R),p||h||(p=!0,N())),R},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(R){var O=f;return function(){var P=f;f=O;try{return R.apply(this,arguments)}finally{f=P}}}})(jS);PS.exports=jS;var VN=PS.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=VN,BS=x,qN=Ml;function W(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var GN=Symbol.for("react.element"),kd=Symbol.for("react.transitional.element"),Cc=Symbol.for("react.portal"),No=Symbol.for("react.fragment"),HS=Symbol.for("react.strict_mode"),I_=Symbol.for("react.profiler"),WN=Symbol.for("react.provider"),$S=Symbol.for("react.consumer"),gr=Symbol.for("react.context"),W1=Symbol.for("react.forward_ref"),D_=Symbol.for("react.suspense"),k_=Symbol.for("react.suspense_list"),Y1=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),FS=Symbol.for("react.offscreen"),YN=Symbol.for("react.memo_cache_sentinel"),Jb=Symbol.iterator;function tc(t){return t===null||typeof t!="object"?null:(t=Jb&&t[Jb]||t["@@iterator"],typeof t=="function"?t:null)}var XN=Symbol.for("react.client.reference");function L_(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===XN?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case No:return"Fragment";case Cc:return"Portal";case I_:return"Profiler";case HS:return"StrictMode";case D_:return"Suspense";case k_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gr:return(t.displayName||"Context")+".Provider";case $S:return(t._context.displayName||"Context")+".Consumer";case W1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y1:return e=t.displayName||null,e!==null?e:L_(t.type)||"Memo";case es:e=t._payload,t=t._init;try{return L_(t(e))}catch{}}return null}var ve=BS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xe=Object.assign,Wm,ew;function Sc(t){if(Wm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wm=e&&e[1]||"",ew=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wm+t+ew}var Ym=!1;function Xm(t,e){if(!t||Ym)return"";Ym=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var f=h}Reflect.construct(t,[],d)}else{try{d.call()}catch(h){f=h}t.call(d.prototype)}}else{try{throw Error()}catch(h){f=h}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&f&&typeof h.stack=="string")return[h.stack,f.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),u=o.split(`
`);for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===u.length)for(i=l.length-1,r=u.length-1;1<=i&&0<=r&&l[i]!==u[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==u[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==u[r]){var c=`
`+l[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=r);break}}}finally{Ym=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Sc(n):""}function KN(t){switch(t.tag){case 26:case 27:case 5:return Sc(t.type);case 16:return Sc("Lazy");case 13:return Sc("Suspense");case 19:return Sc("SuspenseList");case 0:case 15:return t=Xm(t.type,!1),t;case 11:return t=Xm(t.type.render,!1),t;case 1:return t=Xm(t.type,!0),t;default:return""}}function tw(t){try{var e="";do e+=KN(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ll(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nw(t){if(Ll(t)!==t)throw Error(W(188))}function QN(t){var e=t.alternate;if(!e){if(e=Ll(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return nw(r),t;if(s===i)return nw(r),e;s=s.sibling}throw Error(W(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==i)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function qS(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=qS(t),e!==null)return e;t=t.sibling}return null}var Tc=Array.isArray,Ye=qN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ra={pending:!1,data:null,method:null,action:null},U_=[],Mo=-1;function Yi(t){return{current:t}}function jt(t){0>Mo||(t.current=U_[Mo],U_[Mo]=null,Mo--)}function tt(t,e){Mo++,U_[Mo]=t.current,t.current=e}var ji=Yi(null),hu=Yi(null),Ss=Yi(null),Wf=Yi(null);function Yf(t,e){switch(tt(Ss,e),tt(hu,t),tt(ji,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?i2(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=i2(t),e=ix(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}jt(ji),tt(ji,e)}function ul(){jt(ji),jt(hu),jt(Ss)}function P_(t){t.memoizedState!==null&&tt(Wf,t);var e=ji.current,n=ix(e,t.type);e!==n&&(tt(hu,t),tt(ji,n))}function Xf(t){hu.current===t&&(jt(ji),jt(hu)),Wf.current===t&&(jt(Wf),Su._currentValue=Ra)}var j_=Object.prototype.hasOwnProperty,X1=Nt.unstable_scheduleCallback,Km=Nt.unstable_cancelCallback,ZN=Nt.unstable_shouldYield,JN=Nt.unstable_requestPaint,Bi=Nt.unstable_now,e6=Nt.unstable_getCurrentPriorityLevel,GS=Nt.unstable_ImmediatePriority,WS=Nt.unstable_UserBlockingPriority,Kf=Nt.unstable_NormalPriority,t6=Nt.unstable_LowPriority,YS=Nt.unstable_IdlePriority,n6=Nt.log,i6=Nt.unstable_setDisableYieldValue,Ju=null,On=null;function r6(t){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Ju,t,void 0,(t.current.flags&128)===128)}catch{}}function gs(t){if(typeof n6=="function"&&i6(t),On&&typeof On.setStrictMode=="function")try{On.setStrictMode(Ju,t)}catch{}}var Nn=Math.clz32?Math.clz32:o6,s6=Math.log,a6=Math.LN2;function o6(t){return t>>>=0,t===0?32:31-(s6(t)/a6|0)|0}var Ld=128,Ud=4194304;function da(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kp(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=t.warmLanes;t=t.finishedLanes!==0;var o=n&134217727;return o!==0?(n=o&~r,n!==0?i=da(n):(s&=o,s!==0?i=da(s):t||(a=o&~a,a!==0&&(i=da(a))))):(o=n&~r,o!==0?i=da(o):s!==0?i=da(s):t||(a=n&~a,a!==0&&(i=da(a)))),i===0?0:e!==0&&e!==i&&!(e&r)&&(r=i&-i,a=e&-e,r>=a||r===32&&(a&4194176)!==0)?e:i}function ed(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function l6(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XS(){var t=Ld;return Ld<<=1,!(Ld&4194176)&&(Ld=128),t}function KS(){var t=Ud;return Ud<<=1,!(Ud&62914560)&&(Ud=4194304),t}function Qm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function td(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function c6(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var c=31-Nn(n),d=1<<c;o[c]=0,l[c]=-1;var f=u[c];if(f!==null)for(u[c]=null,c=0;c<f.length;c++){var h=f[c];h!==null&&(h.lane&=-536870913)}n&=~d}i!==0&&QS(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function QS(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Nn(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194218}function ZS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Nn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function JS(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function eT(){var t=Ye.p;return t!==0?t:(t=window.event,t===void 0?32:hx(t.type))}function u6(t,e){var n=Ye.p;try{return Ye.p=t,e()}finally{Ye.p=n}}var Zs=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Zs,vn="__reactProps$"+Zs,Ul="__reactContainer$"+Zs,B_="__reactEvents$"+Zs,d6="__reactListeners$"+Zs,f6="__reactHandles$"+Zs,iw="__reactResources$"+Zs,pu="__reactMarker$"+Zs;function K1(t){delete t[Gt],delete t[vn],delete t[B_],delete t[d6],delete t[f6]}function wa(t){var e=t[Gt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ul]||n[Gt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=s2(t);t!==null;){if(n=t[Gt])return n;t=s2(t)}return e}t=n,n=t.parentNode}return null}function Pl(t){if(t=t[Gt]||t[Ul]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function xc(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(W(33))}function Wo(t){var e=t[iw];return e||(e=t[iw]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Lt(t){t[pu]=!0}var tT=new Set,nT={};function Za(t,e){dl(t,e),dl(t+"Capture",e)}function dl(t,e){for(nT[t]=e,t=0;t<e.length;t++)tT.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rw={},sw={};function p6(t){return j_.call(sw,t)?!0:j_.call(rw,t)?!1:h6.test(t)?sw[t]=!0:(rw[t]=!0,!1)}function gf(t,e,n){if(p6(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Pd(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function tr(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Wn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m6(t){var e=iT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qf(t){t._valueTracker||(t._valueTracker=m6(t))}function rT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=iT(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var g6=/[\n"\\]/g;function Kn(t){return t.replace(g6,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function z_(t,e,n,i,r,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Wn(e)):t.value!==""+Wn(e)&&(t.value=""+Wn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?H_(t,a,Wn(e)):n!=null?H_(t,a,Wn(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Wn(o):t.removeAttribute("name")}function sT(t,e,n,i,r,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Wn(n):"",e=e!=null?""+Wn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=o?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function H_(t,e,n){e==="number"&&Zf(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Yo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Wn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function aT(t,e,n){if(e!=null&&(e=""+Wn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Wn(n):""}function oT(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(W(92));if(Tc(i)){if(1<i.length)throw Error(W(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Wn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function aw(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||_6.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function lT(t,e,n){if(e!=null&&typeof e!="object")throw Error(W(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&aw(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&aw(t,s,e[s])}function Q1(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _f(t){return y6.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $_=null;function Z1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Io=null,Xo=null;function ow(t){var e=Pl(t);if(e&&(t=e.stateNode)){var n=t[vn]||null;e:switch(t=e.stateNode,e.type){case"input":if(z_(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Kn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[vn]||null;if(!r)throw Error(W(90));z_(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&rT(i)}break e;case"textarea":aT(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Yo(t,!!n.multiple,e,!1)}}}var Zm=!1;function cT(t,e,n){if(Zm)return t(e,n);Zm=!0;try{var i=t(e);return i}finally{if(Zm=!1,(Io!==null||Xo!==null)&&(am(),Io&&(e=Io,t=Xo,Xo=Io=null,ow(e),t)))for(e=0;e<t.length;e++)ow(t[e])}}function mu(t,e){var n=t.stateNode;if(n===null)return null;var i=n[vn]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var F_=!1;if(Mr)try{var nc={};Object.defineProperty(nc,"passive",{get:function(){F_=!0}}),window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{F_=!1}var _s=null,J1=null,vf=null;function uT(){if(vf)return vf;var t,e=J1,n=e.length,i,r="value"in _s?_s.value:_s.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return vf=r.slice(t,1<i?1-i:void 0)}function yf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jd(){return!0}function lw(){return!1}function yn(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jd:lw,this.isPropagationStopped=lw,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jd)},persist:function(){},isPersistent:jd}),e}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qp=yn(Ja),nd=Xe({},Ja,{view:0,detail:0}),b6=yn(nd),Jm,eg,ic,Zp=Xe({},nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ic&&(ic&&t.type==="mousemove"?(Jm=t.screenX-ic.screenX,eg=t.screenY-ic.screenY):eg=Jm=0,ic=t),Jm)},movementY:function(t){return"movementY"in t?t.movementY:eg}}),cw=yn(Zp),w6=Xe({},Zp,{dataTransfer:0}),E6=yn(w6),C6=Xe({},nd,{relatedTarget:0}),tg=yn(C6),S6=Xe({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),T6=yn(S6),x6=Xe({},Ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A6=yn(x6),R6=Xe({},Ja,{data:0}),uw=yn(R6),O6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=M6[t])?!!e[t]:!1}function e0(){return I6}var D6=Xe({},nd,{key:function(t){if(t.key){var e=O6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e0,charCode:function(t){return t.type==="keypress"?yf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k6=yn(D6),L6=Xe({},Zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dw=yn(L6),U6=Xe({},nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e0}),P6=yn(U6),j6=Xe({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),B6=yn(j6),z6=Xe({},Zp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H6=yn(z6),$6=Xe({},Ja,{newState:0,oldState:0}),F6=yn($6),V6=[9,13,27,32],t0=Mr&&"CompositionEvent"in window,Dc=null;Mr&&"documentMode"in document&&(Dc=document.documentMode);var q6=Mr&&"TextEvent"in window&&!Dc,dT=Mr&&(!t0||Dc&&8<Dc&&11>=Dc),fw=" ",hw=!1;function fT(t,e){switch(t){case"keyup":return V6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Do=!1;function G6(t,e){switch(t){case"compositionend":return hT(e);case"keypress":return e.which!==32?null:(hw=!0,fw);case"textInput":return t=e.data,t===fw&&hw?null:t;default:return null}}function W6(t,e){if(Do)return t==="compositionend"||!t0&&fT(t,e)?(t=uT(),vf=J1=_s=null,Do=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dT&&e.locale!=="ko"?null:e.data;default:return null}}var Y6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y6[t.type]:e==="textarea"}function pT(t,e,n,i){Io?Xo?Xo.push(i):Xo=[i]:Io=i,e=ph(e,"onChange"),0<e.length&&(n=new Qp("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var kc=null,gu=null;function X6(t){ex(t,0)}function Jp(t){var e=xc(t);if(rT(e))return t}function mw(t,e){if(t==="change")return e}var mT=!1;if(Mr){var ng;if(Mr){var ig="oninput"in document;if(!ig){var gw=document.createElement("div");gw.setAttribute("oninput","return;"),ig=typeof gw.oninput=="function"}ng=ig}else ng=!1;mT=ng&&(!document.documentMode||9<document.documentMode)}function _w(){kc&&(kc.detachEvent("onpropertychange",gT),gu=kc=null)}function gT(t){if(t.propertyName==="value"&&Jp(gu)){var e=[];pT(e,gu,t,Z1(t)),cT(X6,e)}}function K6(t,e,n){t==="focusin"?(_w(),kc=e,gu=n,kc.attachEvent("onpropertychange",gT)):t==="focusout"&&_w()}function Q6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jp(gu)}function Z6(t,e){if(t==="click")return Jp(e)}function J6(t,e){if(t==="input"||t==="change")return Jp(e)}function eM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:eM;function _u(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!j_.call(e,r)||!In(t[r],e[r]))return!1}return!0}function vw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yw(t,e){var n=vw(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vw(n)}}function _T(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_T(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Zf(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zf(t.document)}return e}function n0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tM(t,e){var n=vT(e);e=t.focusedElem;var i=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&_T(e.ownerDocument.documentElement,e)){if(i!==null&&n0(e)){if(t=i.start,n=i.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var r=e.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=yw(e,s);var a=yw(e,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nM=Mr&&"documentMode"in document&&11>=document.documentMode,ko=null,V_=null,Lc=null,q_=!1;function bw(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;q_||ko==null||ko!==Zf(i)||(i=ko,"selectionStart"in i&&n0(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Lc&&_u(Lc,i)||(Lc=i,i=ph(V_,"onSelect"),0<i.length&&(e=new Qp("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ko)))}function aa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lo={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},rg={},yT={};Mr&&(yT=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function eo(t){if(rg[t])return rg[t];if(!Lo[t])return t;var e=Lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yT)return rg[t]=e[n];return t}var bT=eo("animationend"),wT=eo("animationiteration"),ET=eo("animationstart"),iM=eo("transitionrun"),rM=eo("transitionstart"),sM=eo("transitioncancel"),CT=eo("transitionend"),ST=new Map,ww="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function vi(t,e){ST.set(t,e),Za(e,[t])}var Gn=[],Uo=0,i0=0;function em(){for(var t=Uo,e=i0=Uo=0;e<t;){var n=Gn[e];Gn[e++]=null;var i=Gn[e];Gn[e++]=null;var r=Gn[e];Gn[e++]=null;var s=Gn[e];if(Gn[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&TT(n,r,s)}}function tm(t,e,n,i){Gn[Uo++]=t,Gn[Uo++]=e,Gn[Uo++]=n,Gn[Uo++]=i,i0|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function r0(t,e,n,i){return tm(t,e,n,i),Jf(t)}function Ps(t,e){return tm(t,null,null,e),Jf(t)}function TT(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;r&&e!==null&&t.tag===3&&(s=t.stateNode,r=31-Nn(n),s=s.hiddenUpdates,t=s[r],t===null?s[r]=[e]:t.push(e),e.lane=n|536870912)}function Jf(t){if(50<Wc)throw Wc=0,hv=null,Error(W(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Po={},Ew=new WeakMap;function Qn(t,e){if(typeof t=="object"&&t!==null){var n=Ew.get(t);return n!==void 0?n:(e={value:t,source:e,stack:tw(e)},Ew.set(t,e),e)}return{value:t,source:e,stack:tw(e)}}var jo=[],Bo=0,eh=null,th=0,Yn=[],Xn=0,Oa=null,_r=1,vr="";function fa(t,e){jo[Bo++]=th,jo[Bo++]=eh,eh=t,th=e}function xT(t,e,n){Yn[Xn++]=_r,Yn[Xn++]=vr,Yn[Xn++]=Oa,Oa=t;var i=_r;t=vr;var r=32-Nn(i)-1;i&=~(1<<r),n+=1;var s=32-Nn(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,_r=1<<32-Nn(e)+r|n<<r|i,vr=s+t}else _r=1<<s|n<<r|i,vr=t}function s0(t){t.return!==null&&(fa(t,1),xT(t,1,0))}function a0(t){for(;t===eh;)eh=jo[--Bo],jo[Bo]=null,th=jo[--Bo],jo[Bo]=null;for(;t===Oa;)Oa=Yn[--Xn],Yn[Xn]=null,vr=Yn[--Xn],Yn[Xn]=null,_r=Yn[--Xn],Yn[Xn]=null}var en=null,Ft=null,Ie=!1,ci=null,Ni=!1,G_=Error(W(519));function Ua(t){var e=Error(W(418,""));throw vu(Qn(e,t)),G_}function Cw(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Gt]=t,e[vn]=i,n){case"dialog":Ne("cancel",e),Ne("close",e);break;case"iframe":case"object":case"embed":Ne("load",e);break;case"video":case"audio":for(n=0;n<wu.length;n++)Ne(wu[n],e);break;case"source":Ne("error",e);break;case"img":case"image":case"link":Ne("error",e),Ne("load",e);break;case"details":Ne("toggle",e);break;case"input":Ne("invalid",e),sT(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Qf(e);break;case"select":Ne("invalid",e);break;case"textarea":Ne("invalid",e),oT(e,i.value,i.defaultValue,i.children),Qf(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||nx(e.textContent,n)?(i.popover!=null&&(Ne("beforetoggle",e),Ne("toggle",e)),i.onScroll!=null&&Ne("scroll",e),i.onScrollEnd!=null&&Ne("scrollend",e),i.onClick!=null&&(e.onclick=lm),e=!0):e=!1,e||Ua(t)}function Sw(t){for(en=t.return;en;)switch(en.tag){case 3:case 27:Ni=!0;return;case 5:case 13:Ni=!1;return;default:en=en.return}}function rc(t){if(t!==en)return!1;if(!Ie)return Sw(t),Ie=!0,!1;var e=!1,n;if((n=t.tag!==3&&t.tag!==27)&&((n=t.tag===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||bv(t.type,t.memoizedProps)),n=!n),n&&(e=!0),e&&Ft&&Ua(t),Sw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Ft=mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Ft=null}}else Ft=en?mi(t.stateNode.nextSibling):null;return!0}function id(){Ft=en=null,Ie=!1}function vu(t){ci===null?ci=[t]:ci.push(t)}var Uc=Error(W(460)),AT=Error(W(474)),W_={then:function(){}};function Tw(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bd(){}function RT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Bd,Bd),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===Uc?Error(W(483)):t;default:if(typeof e.status=="string")e.then(Bd,Bd);else{if(t=Ge,t!==null&&100<t.shellSuspendCounter)throw Error(W(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===Uc?Error(W(483)):t}throw Pc=e,Uc}}var Pc=null;function xw(){if(Pc===null)throw Error(W(459));var t=Pc;return Pc=null,t}var Ko=null,yu=0;function zd(t){var e=yu;return yu+=1,Ko===null&&(Ko=[]),RT(Ko,t,e)}function sc(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Hd(t,e){throw e.$$typeof===GN?Error(W(525)):(t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Aw(t){var e=t._init;return e(t._payload)}function OT(t){function e(m,g){if(t){var _=m.deletions;_===null?(m.deletions=[g],m.flags|=16):_.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function i(m){for(var g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function r(m,g){return m=As(m,g),m.index=0,m.sibling=null,m}function s(m,g,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<g?(m.flags|=33554434,g):_):(m.flags|=33554434,g)):(m.flags|=1048576,g)}function a(m){return t&&m.alternate===null&&(m.flags|=33554434),m}function o(m,g,_,b){return g===null||g.tag!==6?(g=gg(_,m.mode,b),g.return=m,g):(g=r(g,_),g.return=m,g)}function l(m,g,_,b){var A=_.type;return A===No?c(m,g,_.props.children,b,_.key):g!==null&&(g.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===es&&Aw(A)===g.type)?(g=r(g,_.props),sc(g,_),g.return=m,g):(g=Sf(_.type,_.key,_.props,null,m.mode,b),sc(g,_),g.return=m,g)}function u(m,g,_,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=_g(_,m.mode,b),g.return=m,g):(g=r(g,_.children||[]),g.return=m,g)}function c(m,g,_,b,A){return g===null||g.tag!==7?(g=Ma(_,m.mode,b,A),g.return=m,g):(g=r(g,_),g.return=m,g)}function d(m,g,_){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=gg(""+g,m.mode,_),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case kd:return _=Sf(g.type,g.key,g.props,null,m.mode,_),sc(_,g),_.return=m,_;case Cc:return g=_g(g,m.mode,_),g.return=m,g;case es:var b=g._init;return g=b(g._payload),d(m,g,_)}if(Tc(g)||tc(g))return g=Ma(g,m.mode,_,null),g.return=m,g;if(typeof g.then=="function")return d(m,zd(g),_);if(g.$$typeof===gr)return d(m,$d(m,g),_);Hd(m,g)}return null}function f(m,g,_,b){var A=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return A!==null?null:o(m,g,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kd:return _.key===A?l(m,g,_,b):null;case Cc:return _.key===A?u(m,g,_,b):null;case es:return A=_._init,_=A(_._payload),f(m,g,_,b)}if(Tc(_)||tc(_))return A!==null?null:c(m,g,_,b,null);if(typeof _.then=="function")return f(m,g,zd(_),b);if(_.$$typeof===gr)return f(m,g,$d(m,_),b);Hd(m,_)}return null}function h(m,g,_,b,A){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return m=m.get(_)||null,o(g,m,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kd:return m=m.get(b.key===null?_:b.key)||null,l(g,m,b,A);case Cc:return m=m.get(b.key===null?_:b.key)||null,u(g,m,b,A);case es:var E=b._init;return b=E(b._payload),h(m,g,_,b,A)}if(Tc(b)||tc(b))return m=m.get(_)||null,c(g,m,b,A,null);if(typeof b.then=="function")return h(m,g,_,zd(b),A);if(b.$$typeof===gr)return h(m,g,_,$d(g,b),A);Hd(g,b)}return null}function p(m,g,_,b){for(var A=null,E=null,M=g,w=g=0,S=null;M!==null&&w<_.length;w++){M.index>w?(S=M,M=null):S=M.sibling;var T=f(m,M,_[w],b);if(T===null){M===null&&(M=S);break}t&&M&&T.alternate===null&&e(m,M),g=s(T,g,w),E===null?A=T:E.sibling=T,E=T,M=S}if(w===_.length)return n(m,M),Ie&&fa(m,w),A;if(M===null){for(;w<_.length;w++)M=d(m,_[w],b),M!==null&&(g=s(M,g,w),E===null?A=M:E.sibling=M,E=M);return Ie&&fa(m,w),A}for(M=i(M);w<_.length;w++)S=h(M,m,w,_[w],b),S!==null&&(t&&S.alternate!==null&&M.delete(S.key===null?w:S.key),g=s(S,g,w),E===null?A=S:E.sibling=S,E=S);return t&&M.forEach(function(D){return e(m,D)}),Ie&&fa(m,w),A}function v(m,g,_,b){if(_==null)throw Error(W(151));for(var A=null,E=null,M=g,w=g=0,S=null,T=_.next();M!==null&&!T.done;w++,T=_.next()){M.index>w?(S=M,M=null):S=M.sibling;var D=f(m,M,T.value,b);if(D===null){M===null&&(M=S);break}t&&M&&D.alternate===null&&e(m,M),g=s(D,g,w),E===null?A=D:E.sibling=D,E=D,M=S}if(T.done)return n(m,M),Ie&&fa(m,w),A;if(M===null){for(;!T.done;w++,T=_.next())T=d(m,T.value,b),T!==null&&(g=s(T,g,w),E===null?A=T:E.sibling=T,E=T);return Ie&&fa(m,w),A}for(M=i(M);!T.done;w++,T=_.next())T=h(M,m,w,T.value,b),T!==null&&(t&&T.alternate!==null&&M.delete(T.key===null?w:T.key),g=s(T,g,w),E===null?A=T:E.sibling=T,E=T);return t&&M.forEach(function(I){return e(m,I)}),Ie&&fa(m,w),A}function y(m,g,_,b){if(typeof _=="object"&&_!==null&&_.type===No&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case kd:e:{for(var A=_.key;g!==null;){if(g.key===A){if(A=_.type,A===No){if(g.tag===7){n(m,g.sibling),b=r(g,_.props.children),b.return=m,m=b;break e}}else if(g.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===es&&Aw(A)===g.type){n(m,g.sibling),b=r(g,_.props),sc(b,_),b.return=m,m=b;break e}n(m,g);break}else e(m,g);g=g.sibling}_.type===No?(b=Ma(_.props.children,m.mode,b,_.key),b.return=m,m=b):(b=Sf(_.type,_.key,_.props,null,m.mode,b),sc(b,_),b.return=m,m=b)}return a(m);case Cc:e:{for(A=_.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(m,g.sibling),b=r(g,_.children||[]),b.return=m,m=b;break e}else{n(m,g);break}else e(m,g);g=g.sibling}b=_g(_,m.mode,b),b.return=m,m=b}return a(m);case es:return A=_._init,_=A(_._payload),y(m,g,_,b)}if(Tc(_))return p(m,g,_,b);if(tc(_)){if(A=tc(_),typeof A!="function")throw Error(W(150));return _=A.call(_),v(m,g,_,b)}if(typeof _.then=="function")return y(m,g,zd(_),b);if(_.$$typeof===gr)return y(m,g,$d(m,_),b);Hd(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,g!==null&&g.tag===6?(n(m,g.sibling),b=r(g,_),b.return=m,m=b):(n(m,g),b=gg(_,m.mode,b),b.return=m,m=b),a(m)):n(m,g)}return function(m,g,_,b){try{yu=0;var A=y(m,g,_,b);return Ko=null,A}catch(M){if(M===Uc)throw M;var E=Zn(29,M,null,m.mode);return E.lanes=b,E.return=m,E}finally{}}}var Pa=OT(!0),NT=OT(!1),hl=Yi(null),nh=Yi(0);function Rw(t,e){t=kr,tt(nh,t),tt(hl,e),kr=t|e.baseLanes}function Y_(){tt(nh,kr),tt(hl,hl.current)}function o0(){kr=nh.current,jt(hl),jt(nh)}var ti=Yi(null),zi=null;function is(t){var e=t.alternate;tt(Rt,Rt.current&1),tt(ti,t),zi===null&&(e===null||hl.current!==null||e.memoizedState!==null)&&(zi=t)}function MT(t){if(t.tag===22){if(tt(Rt,Rt.current),tt(ti,t),zi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(zi=t)}}else rs()}function rs(){tt(Rt,Rt.current),tt(ti,ti.current)}function yr(t){jt(ti),zi===t&&(zi=null),jt(Rt)}var Rt=Yi(0);function ih(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var aM=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},oM=Nt.unstable_scheduleCallback,lM=Nt.unstable_NormalPriority,At={$$typeof:gr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function l0(){return{controller:new aM,data:new Map,refCount:0}}function rd(t){t.refCount--,t.refCount===0&&oM(lM,function(){t.controller.abort()})}var jc=null,X_=0,pl=0,Qo=null;function cM(t,e){if(jc===null){var n=jc=[];X_=0,pl=M0(),Qo={status:"pending",value:void 0,then:function(i){n.push(i)}}}return X_++,e.then(Ow,Ow),e}function Ow(){if(--X_===0&&jc!==null){Qo!==null&&(Qo.status="fulfilled");var t=jc;jc=null,pl=0,Qo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function uM(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Nw=ve.S;ve.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&cM(t,e),Nw!==null&&Nw(t,e)};var Na=Yi(null);function c0(){var t=Na.current;return t!==null?t:Ge.pooledCache}function bf(t,e){e===null?tt(Na,Na.current):tt(Na,e.pool)}function IT(){var t=c0();return t===null?null:{parent:At._currentValue,pool:t}}var js=0,Te=null,Be=null,wt=null,rh=!1,Zo=!1,ja=!1,sh=0,bu=0,Jo=null,dM=0;function _t(){throw Error(W(321))}function u0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!In(t[n],e[n]))return!1;return!0}function d0(t,e,n,i,r,s){return js=s,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ve.H=t===null||t.memoizedState===null?to:Js,ja=!1,s=n(i,r),ja=!1,Zo&&(s=kT(e,n,i,r)),DT(t),s}function DT(t){ve.H=Gi;var e=Be!==null&&Be.next!==null;if(js=0,wt=Be=Te=null,rh=!1,bu=0,Jo=null,e)throw Error(W(300));t===null||Pt||(t=t.dependencies,t!==null&&lh(t)&&(Pt=!0))}function kT(t,e,n,i){Te=t;var r=0;do{if(Zo&&(Jo=null),bu=0,Zo=!1,25<=r)throw Error(W(301));if(r+=1,wt=Be=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ve.H=no,s=e(n,i)}while(Zo);return s}function fM(){var t=ve.H,e=t.useState()[0];return e=typeof e.then=="function"?sd(e):e,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(Te.flags|=1024),e}function f0(){var t=sh!==0;return sh=0,t}function h0(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function p0(t){if(rh){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}rh=!1}js=0,wt=Be=Te=null,Zo=!1,bu=sh=0,Jo=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Te.memoizedState=wt=t:wt=wt.next=t,wt}function Ct(){if(Be===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=wt===null?Te.memoizedState:wt.next;if(e!==null)wt=e,Be=t;else{if(t===null)throw Te.alternate===null?Error(W(467)):Error(W(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},wt===null?Te.memoizedState=wt=t:wt=wt.next=t}return wt}var nm;nm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sd(t){var e=bu;return bu+=1,Jo===null&&(Jo=[]),t=RT(Jo,t,e),e=Te,(wt===null?e.memoizedState:wt.next)===null&&(e=e.alternate,ve.H=e===null||e.memoizedState===null?to:Js),t}function im(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sd(t);if(t.$$typeof===gr)return Wt(t)}throw Error(W(438,String(t)))}function m0(t){var e=null,n=Te.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Te.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=nm(),Te.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=YN;return e.index++,n}function Ir(t,e){return typeof e=="function"?e(t):e}function wf(t){var e=Ct();return g0(e,Be,t)}function g0(t,e,n){var i=t.queue;if(i===null)throw Error(W(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var o=a=null,l=null,u=e,c=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Me&d)===d:(js&d)===d){var f=u.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===pl&&(c=!0);else if((js&f)===f){u=u.next,f===pl&&(c=!0);continue}else d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=d,a=s):l=l.next=d,Te.lanes|=f,zs|=f;d=u.action,ja&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,a=s):l=l.next=f,Te.lanes|=d,zs|=d;u=u.next}while(u!==null&&u!==e);if(l===null?a=s:l.next=o,!In(s,t.memoizedState)&&(Pt=!0,c&&(n=Qo,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=l,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function sg(t){var e=Ct(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);In(s,e.memoizedState)||(Pt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function LT(t,e,n){var i=Te,r=Ct(),s=Ie;if(s){if(n===void 0)throw Error(W(407));n=n()}else n=e();var a=!In((Be||r).memoizedState,n);if(a&&(r.memoizedState=n,Pt=!0),r=r.queue,_0(jT.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||wt!==null&&wt.memoizedState.tag&1){if(i.flags|=2048,ml(9,PT.bind(null,i,r,n,e),{destroy:void 0},null),Ge===null)throw Error(W(349));s||js&60||UT(i,e,n)}return n}function UT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e=nm(),Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PT(t,e,n,i){e.value=n,e.getSnapshot=i,BT(e)&&zT(t)}function jT(t,e,n){return n(function(){BT(e)&&zT(t)})}function BT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!In(t,n)}catch{return!0}}function zT(t){var e=Ps(t,2);e!==null&&sn(e,t,2)}function K_(t){var e=fn();if(typeof t=="function"){var n=t;if(t=n(),ja){gs(!0);try{n()}finally{gs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:t},e}function HT(t,e,n,i){return t.baseState=n,g0(t,Be,typeof i=="function"?i:Ir)}function hM(t,e,n,i,r){if(sm(t))throw Error(W(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};ve.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,$T(e,s)):(s.next=n.next,e.pending=n.next=s)}}function $T(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=ve.T,a={};ve.T=a;try{var o=n(r,i),l=ve.S;l!==null&&l(a,o),Mw(t,e,o)}catch(u){Q_(t,e,u)}finally{ve.T=s}}else try{s=n(r,i),Mw(t,e,s)}catch(u){Q_(t,e,u)}}function Mw(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Iw(t,e,i)},function(i){return Q_(t,e,i)}):Iw(t,e,n)}function Iw(t,e,n){e.status="fulfilled",e.value=n,FT(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,$T(t,n)))}function Q_(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,FT(e),e=e.next;while(e!==i)}t.action=null}function FT(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function VT(t,e){return e}function qT(t,e){if(Ie){var n=Ge.formState;if(n!==null){e:{var i=Te;if(Ie){if(Ft){t:{for(var r=Ft,s=Ni;r.nodeType!==8;){if(!s){r=null;break t}if(r=mi(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Ft=mi(r.nextSibling),i=r.data==="F!";break e}}Ua(i)}i=!1}i&&(e=n[0])}}return n=fn(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VT,lastRenderedState:e},n.queue=i,n=l4.bind(null,Te,i),i.dispatch=n,i=K_(!1),s=w0.bind(null,Te,!1,i.queue),i=fn(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=hM.bind(null,Te,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function GT(t){var e=Ct();return WT(e,Be,t)}function WT(t,e,n){e=g0(t,e,VT)[0],t=wf(Ir)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?sd(e):e;var i=Ct(),r=i.queue,s=r.dispatch;return n!==i.memoizedState&&(Te.flags|=2048,ml(9,pM.bind(null,r,n),{destroy:void 0},null)),[e,s,t]}function pM(t,e){t.action=e}function YT(t){var e=Ct(),n=Be;if(n!==null)return WT(e,n,t);Ct(),e=e.memoizedState,n=Ct();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function ml(t,e,n,i){return t={tag:t,create:e,inst:n,deps:i,next:null},e=Te.updateQueue,e===null&&(e=nm(),Te.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function XT(){return Ct().memoizedState}function Ef(t,e,n,i){var r=fn();Te.flags|=t,r.memoizedState=ml(1|e,n,{destroy:void 0},i===void 0?null:i)}function rm(t,e,n,i){var r=Ct();i=i===void 0?null:i;var s=r.memoizedState.inst;Be!==null&&i!==null&&u0(i,Be.memoizedState.deps)?r.memoizedState=ml(e,n,s,i):(Te.flags|=t,r.memoizedState=ml(1|e,n,s,i))}function Dw(t,e){Ef(8390656,8,t,e)}function _0(t,e){rm(2048,8,t,e)}function KT(t,e){return rm(4,2,t,e)}function QT(t,e){return rm(4,4,t,e)}function ZT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JT(t,e,n){n=n!=null?n.concat([t]):null,rm(4,4,ZT.bind(null,e,t),n)}function v0(){}function e4(t,e){var n=Ct();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&u0(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function t4(t,e){var n=Ct();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&u0(e,i[1]))return i[0];if(i=t(),ja){gs(!0);try{t()}finally{gs(!1)}}return n.memoizedState=[i,e],i}function y0(t,e,n){return n===void 0||js&1073741824?t.memoizedState=e:(t.memoizedState=n,t=F4(),Te.lanes|=t,zs|=t,n)}function n4(t,e,n,i){return In(n,e)?n:hl.current!==null?(t=y0(t,n,i),In(t,e)||(Pt=!0),t):js&42?(t=F4(),Te.lanes|=t,zs|=t,e):(Pt=!0,t.memoizedState=n)}function i4(t,e,n,i,r){var s=Ye.p;Ye.p=s!==0&&8>s?s:8;var a=ve.T,o={};ve.T=o,w0(t,!1,e,n);try{var l=r(),u=ve.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=uM(l,i);Bc(t,e,c,Mn(t))}else Bc(t,e,i,Mn(t))}catch(d){Bc(t,e,{then:function(){},status:"rejected",reason:d},Mn())}finally{Ye.p=s,ve.T=a}}function mM(){}function Z_(t,e,n,i){if(t.tag!==5)throw Error(W(476));var r=r4(t).queue;i4(t,r,e,Ra,n===null?mM:function(){return s4(t),n(i)})}function r4(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ra,baseState:Ra,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:Ra},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function s4(t){var e=r4(t).next.queue;Bc(t,e,{},Mn())}function b0(){return Wt(Su)}function a4(){return Ct().memoizedState}function o4(){return Ct().memoizedState}function gM(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Mn();t=Ts(n);var i=xs(e,t,n);i!==null&&(sn(i,e,n),Hc(i,e,n)),e={cache:l0()},t.payload=e;return}e=e.return}}function _M(t,e,n){var i=Mn();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},sm(t)?c4(e,n):(n=r0(t,e,n,i),n!==null&&(sn(n,t,i),u4(n,e,i)))}function l4(t,e,n){var i=Mn();Bc(t,e,n,i)}function Bc(t,e,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(sm(t))c4(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,In(o,a))return tm(t,e,r,0),Ge===null&&em(),!1}catch{}finally{}if(n=r0(t,e,r,i),n!==null)return sn(n,t,i),u4(n,e,i),!0}return!1}function w0(t,e,n,i){if(i={lane:2,revertLane:M0(),action:i,hasEagerState:!1,eagerState:null,next:null},sm(t)){if(e)throw Error(W(479))}else e=r0(t,n,i,2),e!==null&&sn(e,t,2)}function sm(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function c4(t,e){Zo=rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function u4(t,e,n){if(n&4194176){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ZS(t,n)}}var Gi={readContext:Wt,use:im,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};Gi.useCacheRefresh=_t;Gi.useMemoCache=_t;Gi.useHostTransitionStatus=_t;Gi.useFormState=_t;Gi.useActionState=_t;Gi.useOptimistic=_t;var to={readContext:Wt,use:im,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:Wt,useEffect:Dw,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ef(4194308,4,ZT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ef(4194308,4,t,e)},useInsertionEffect:function(t,e){Ef(4,2,t,e)},useMemo:function(t,e){var n=fn();e=e===void 0?null:e;var i=t();if(ja){gs(!0);try{t()}finally{gs(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=fn();if(n!==void 0){var r=n(e);if(ja){gs(!0);try{n(e)}finally{gs(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=_M.bind(null,Te,t),[i.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:function(t){t=K_(t);var e=t.queue,n=l4.bind(null,Te,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:v0,useDeferredValue:function(t,e){var n=fn();return y0(n,t,e)},useTransition:function(){var t=K_(!1);return t=i4.bind(null,Te,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Te,r=fn();if(Ie){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ge===null)throw Error(W(349));Me&60||UT(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Dw(jT.bind(null,i,s,t),[t]),i.flags|=2048,ml(9,PT.bind(null,i,s,n,e),{destroy:void 0},null),n},useId:function(){var t=fn(),e=Ge.identifierPrefix;if(Ie){var n=vr,i=_r;n=(i&~(1<<32-Nn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=sh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return fn().memoizedState=gM.bind(null,Te)}};to.useMemoCache=m0;to.useHostTransitionStatus=b0;to.useFormState=qT;to.useActionState=qT;to.useOptimistic=function(t){var e=fn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=w0.bind(null,Te,!0,n),n.dispatch=e,[t,e]};var Js={readContext:Wt,use:im,useCallback:e4,useContext:Wt,useEffect:_0,useImperativeHandle:JT,useInsertionEffect:KT,useLayoutEffect:QT,useMemo:t4,useReducer:wf,useRef:XT,useState:function(){return wf(Ir)},useDebugValue:v0,useDeferredValue:function(t,e){var n=Ct();return n4(n,Be.memoizedState,t,e)},useTransition:function(){var t=wf(Ir)[0],e=Ct().memoizedState;return[typeof t=="boolean"?t:sd(t),e]},useSyncExternalStore:LT,useId:a4};Js.useCacheRefresh=o4;Js.useMemoCache=m0;Js.useHostTransitionStatus=b0;Js.useFormState=GT;Js.useActionState=GT;Js.useOptimistic=function(t,e){var n=Ct();return HT(n,Be,t,e)};var no={readContext:Wt,use:im,useCallback:e4,useContext:Wt,useEffect:_0,useImperativeHandle:JT,useInsertionEffect:KT,useLayoutEffect:QT,useMemo:t4,useReducer:sg,useRef:XT,useState:function(){return sg(Ir)},useDebugValue:v0,useDeferredValue:function(t,e){var n=Ct();return Be===null?y0(n,t,e):n4(n,Be.memoizedState,t,e)},useTransition:function(){var t=sg(Ir)[0],e=Ct().memoizedState;return[typeof t=="boolean"?t:sd(t),e]},useSyncExternalStore:LT,useId:a4};no.useCacheRefresh=o4;no.useMemoCache=m0;no.useHostTransitionStatus=b0;no.useFormState=YT;no.useActionState=YT;no.useOptimistic=function(t,e){var n=Ct();return Be!==null?HT(n,Be,t,e):(n.baseState=t,[t,n.queue.dispatch])};function ag(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var J_={isMounted:function(t){return(t=t._reactInternals)?Ll(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Mn(),r=Ts(i);r.payload=e,n!=null&&(r.callback=n),e=xs(t,r,i),e!==null&&(sn(e,t,i),Hc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Mn(),r=Ts(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=xs(t,r,i),e!==null&&(sn(e,t,i),Hc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mn(),i=Ts(n);i.tag=2,e!=null&&(i.callback=e),e=xs(t,i,n),e!==null&&(sn(e,t,n),Hc(e,t,n))}};function kw(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!_u(n,i)||!_u(r,s):!0}function Lw(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&J_.enqueueReplaceState(e,e.state,null)}function Ba(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Xe({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var ah=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function d4(t){ah(t)}function f4(t){console.error(t)}function h4(t){ah(t)}function oh(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Uw(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ev(t,e,n){return n=Ts(n),n.tag=3,n.payload={element:null},n.callback=function(){oh(t,e)},n}function p4(t){return t=Ts(t),t.tag=3,t}function m4(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){Uw(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Uw(e,n,i),typeof r!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function vM(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&ad(e,n,r,!0),n=ti.current,n!==null){switch(n.tag){case 13:return zi===null?mv():n.alternate===null&&ht===0&&(ht=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===W_?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),yg(t,i,r)),!1;case 22:return n.flags|=65536,i===W_?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),yg(t,i,r)),!1}throw Error(W(435,n.tag))}return yg(t,i,r),mv(),!1}if(Ie)return e=ti.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==G_&&(t=Error(W(422),{cause:i}),vu(Qn(t,n)))):(i!==G_&&(e=Error(W(423),{cause:i}),vu(Qn(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Qn(i,n),r=ev(t.stateNode,i,r),fg(t,r),ht!==4&&(ht=2)),!1;var s=Error(W(520),{cause:i});if(s=Qn(s,n),qc===null?qc=[s]:qc.push(s),ht!==4&&(ht=2),e===null)return!0;i=Qn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=ev(n.stateNode,i,t),fg(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Rs===null||!Rs.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=p4(r),m4(r,t,n,i),fg(n,r),!1}n=n.return}while(n!==null);return!1}var g4=Error(W(461)),Pt=!1;function $t(t,e,n,i){e.child=t===null?NT(e,null,n,i):Pa(e,t.child,n,i)}function Pw(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return za(e),i=d0(t,e,n,a,s,r),o=f0(),t!==null&&!Pt?(h0(t,e,r),Dr(t,e,r)):(Ie&&o&&s0(e),e.flags|=1,$t(t,e,i,r),e.child)}function jw(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!x0(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,_4(t,e,s,i,r)):(t=Sf(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!E0(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:_u,n(a,i)&&t.ref===e.ref)return Dr(t,e,r)}return e.flags|=1,t=As(s,i),t.ref=e.ref,t.return=e,e.child=t}function _4(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(_u(s,i)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=i=s,E0(t,r))t.flags&131072&&(Pt=!0);else return e.lanes=t.lanes,Dr(t,e,r)}return tv(t,e,n,i,r)}function v4(t,e,n){var i=e.pendingProps,r=i.children,s=(e.stateNode._pendingVisibility&2)!==0,a=t!==null?t.memoizedState:null;if(zc(t,e),i.mode==="hidden"||s){if(e.flags&128){if(i=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;e.childLanes=s&~i}else e.childLanes=0,e.child=null;return Bw(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&bf(e,a!==null?a.cachePool:null),a!==null?Rw(e,a):Y_(),MT(e);else return e.lanes=e.childLanes=536870912,Bw(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(bf(e,a.cachePool),Rw(e,a),rs(),e.memoizedState=null):(t!==null&&bf(e,null),Y_(),rs());return $t(t,e,r,n),e.child}function Bw(t,e,n,i){var r=c0();return r=r===null?null:{parent:At._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&bf(e,null),Y_(),MT(e),t!==null&&ad(t,e,i,!0),null}function zc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(W(284));(t===null||t.ref!==n)&&(e.flags|=2097664)}}function tv(t,e,n,i,r){return za(e),n=d0(t,e,n,i,void 0,r),i=f0(),t!==null&&!Pt?(h0(t,e,r),Dr(t,e,r)):(Ie&&i&&s0(e),e.flags|=1,$t(t,e,n,r),e.child)}function zw(t,e,n,i,r,s){return za(e),e.updateQueue=null,n=kT(e,i,n,r),DT(t),i=f0(),t!==null&&!Pt?(h0(t,e,s),Dr(t,e,s)):(Ie&&i&&s0(e),e.flags|=1,$t(t,e,n,s),e.child)}function Hw(t,e,n,i,r){if(za(e),e.stateNode===null){var s=Po,a=n.contextType;typeof a=="object"&&a!==null&&(s=Wt(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=J_,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},C0(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?Wt(a):Po,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(ag(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&J_.enqueueReplaceState(s,s.state,null),Fc(e,i,s,r),$c(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=Ba(n,o);s.props=l;var u=s.context,c=n.contextType;a=Po,typeof c=="object"&&c!==null&&(a=Wt(c));var d=n.getDerivedStateFromProps;c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==a)&&Lw(e,s,i,a),ts=!1;var f=e.memoizedState;s.state=f,Fc(e,i,s,r),$c(),u=e.memoizedState,o||f!==u||ts?(typeof d=="function"&&(ag(e,n,d,i),u=e.memoizedState),(l=ts||kw(e,n,l,i,f,u,a))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),s.props=i,s.state=u,s.context=a,i=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,ov(t,e),a=e.memoizedProps,c=Ba(n,a),s.props=c,d=e.pendingProps,f=s.context,u=n.contextType,l=Po,typeof u=="object"&&u!==null&&(l=Wt(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Lw(e,s,i,l),ts=!1,f=e.memoizedState,s.state=f,Fc(e,i,s,r),$c();var h=e.memoizedState;a!==d||f!==h||ts||t!==null&&t.dependencies!==null&&lh(t.dependencies)?(typeof o=="function"&&(ag(e,n,o,i),h=e.memoizedState),(c=ts||kw(e,n,c,i,f,h,l)||t!==null&&t.dependencies!==null&&lh(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,h,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,h,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=h),s.props=i,s.state=h,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,zc(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Pa(e,t.child,null,r),e.child=Pa(e,null,n,r)):$t(t,e,n,r),e.memoizedState=s.state,t=e.child):t=Dr(t,e,r),t}function $w(t,e,n,i){return id(),e.flags|=256,$t(t,e,n,i),e.child}var og={dehydrated:null,treeContext:null,retryLane:0};function lg(t){return{baseLanes:t,cachePool:IT()}}function cg(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Jn),t}function y4(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ie){if(r?is(e):rs(),Ie){var o=Ft,l;if(l=o){e:{for(l=o,o=Ni;l.nodeType!==8;){if(!o){o=null;break e}if(l=mi(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:Oa!==null?{id:_r,overflow:vr}:null,retryLane:536870912},l=Zn(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,en=e,Ft=null,l=!0):l=!1}l||Ua(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return o.data==="$!"?e.lanes=16:e.lanes=536870912,null;yr(e)}return o=i.children,i=i.fallback,r?(rs(),r=e.mode,o=iv({mode:"hidden",children:o},r),i=Ma(i,r,n,null),o.return=e,i.return=e,o.sibling=i,e.child=o,r=e.child,r.memoizedState=lg(n),r.childLanes=cg(t,a,n),e.memoizedState=og,i):(is(e),nv(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(is(e),e.flags&=-257,e=ug(t,e,n)):e.memoizedState!==null?(rs(),e.child=t.child,e.flags|=128,e=null):(rs(),r=i.fallback,o=e.mode,i=iv({mode:"visible",children:i.children},o),r=Ma(r,o,n,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,Pa(e,t.child,null,n),i=e.child,i.memoizedState=lg(n),i.childLanes=cg(t,a,n),e.memoizedState=og,e=r);else if(is(e),o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,i=Error(W(419)),i.stack="",i.digest=a,vu({value:i,source:null,stack:null}),e=ug(t,e,n)}else if(Pt||ad(t,e,n,!1),a=(n&t.childLanes)!==0,Pt||a){if(a=Ge,a!==null){if(i=n&-n,i&42)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==l.retryLane)throw l.retryLane=i,Ps(t,i),sn(a,t,i),g4}o.data==="$?"||mv(),e=ug(t,e,n)}else o.data==="$?"?(e.flags|=128,e.child=t.child,e=DM.bind(null,t),o._reactRetry=e,e=null):(t=l.treeContext,Ft=mi(o.nextSibling),en=e,Ie=!0,ci=null,Ni=!1,t!==null&&(Yn[Xn++]=_r,Yn[Xn++]=vr,Yn[Xn++]=Oa,_r=t.id,vr=t.overflow,Oa=e),e=nv(e,i.children),e.flags|=4096);return e}return r?(rs(),r=i.fallback,o=e.mode,l=t.child,u=l.sibling,i=As(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&31457280,u!==null?r=As(u,r):(r=Ma(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o===null?o=lg(n):(l=o.cachePool,l!==null?(u=At._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=IT(),o={baseLanes:o.baseLanes|n,cachePool:l}),r.memoizedState=o,r.childLanes=cg(t,a,n),e.memoizedState=og,i):(is(e),n=t.child,t=n.sibling,n=As(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function nv(t,e){return e=iv({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function iv(t,e){return H4(t,e,0,null)}function ug(t,e,n){return Pa(e,t.child,null,n),t=nv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fw(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),sv(t.return,e,n)}function dg(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function b4(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if($t(t,e,i.children,n),i=Rt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fw(t,n,e);else if(t.tag===19)Fw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(tt(Rt,i),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ih(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),dg(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ih(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}dg(e,!0,n,null,s);break;case"together":dg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zs|=e.lanes,!(n&e.childLanes))if(t!==null){if(ad(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=As(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=As(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function E0(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&lh(t)))}function yM(t,e,n){switch(e.tag){case 3:Yf(e,e.stateNode.containerInfo),ss(e,At,t.memoizedState.cache),id();break;case 27:case 5:P_(e);break;case 4:Yf(e,e.stateNode.containerInfo);break;case 10:ss(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(is(e),e.flags|=128,null):n&e.child.childLanes?y4(t,e,n):(is(e),t=Dr(t,e,n),t!==null?t.sibling:null);is(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(ad(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return b4(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),tt(Rt,Rt.current),i)break;return null;case 22:case 23:return e.lanes=0,v4(t,e,n);case 24:ss(e,At,t.memoizedState.cache)}return Dr(t,e,n)}function w4(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Pt=!0;else{if(!E0(t,n)&&!(e.flags&128))return Pt=!1,yM(t,e,n);Pt=!!(t.flags&131072)}else Pt=!1,Ie&&e.flags&1048576&&xT(e,th,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,typeof i=="function")x0(i)?(t=Ba(i,t),e.tag=1,e=Hw(null,e,i,t,n)):(e.tag=0,e=tv(null,e,i,t,n));else{if(i!=null){if(r=i.$$typeof,r===W1){e.tag=11,e=Pw(null,e,i,t,n);break e}else if(r===Y1){e.tag=14,e=jw(null,e,i,t,n);break e}}throw e=L_(i)||i,Error(W(306,e,""))}}return e;case 0:return tv(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=Ba(i,e.pendingProps),Hw(t,e,i,r,n);case 3:e:{if(Yf(e,e.stateNode.containerInfo),t===null)throw Error(W(387));var s=e.pendingProps;r=e.memoizedState,i=r.element,ov(t,e),Fc(e,s,null,n);var a=e.memoizedState;if(s=a.cache,ss(e,At,s),s!==r.cache&&av(e,[At],n,!0),$c(),s=a.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=$w(t,e,s,n);break e}else if(s!==i){i=Qn(Error(W(424)),e),vu(i),e=$w(t,e,s,n);break e}else for(Ft=mi(e.stateNode.containerInfo.firstChild),en=e,Ie=!0,ci=null,Ni=!0,n=NT(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(id(),s===i){e=Dr(t,e,n);break e}$t(t,e,s,n)}e=e.child}return e;case 26:return zc(t,e),t===null?(n=o2(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ie||(n=e.type,t=e.pendingProps,i=mh(Ss.current).createElement(n),i[Gt]=e,i[vn]=t,Vt(i,n,t),Lt(i),e.stateNode=i):e.memoizedState=o2(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return P_(e),t===null&&Ie&&(i=e.stateNode=sx(e.type,e.pendingProps,Ss.current),en=e,Ni=!0,Ft=mi(i.firstChild)),i=e.pendingProps.children,t!==null||Ie?$t(t,e,i,n):e.child=Pa(e,null,i,n),zc(t,e),e.child;case 5:return t===null&&Ie&&((r=i=Ft)&&(i=XM(i,e.type,e.pendingProps,Ni),i!==null?(e.stateNode=i,en=e,Ft=mi(i.firstChild),Ni=!1,r=!0):r=!1),r||Ua(e)),P_(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,bv(r,s)?i=null:a!==null&&bv(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=d0(t,e,fM,null,null,n),Su._currentValue=r),zc(t,e),$t(t,e,i,n),e.child;case 6:return t===null&&Ie&&((t=n=Ft)&&(n=KM(n,e.pendingProps,Ni),n!==null?(e.stateNode=n,en=e,Ft=null,t=!0):t=!1),t||Ua(e)),null;case 13:return y4(t,e,n);case 4:return Yf(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Pa(e,null,i,n):$t(t,e,i,n),e.child;case 11:return Pw(t,e,e.type,e.pendingProps,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,ss(e,e.type,i.value),$t(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,za(e),r=Wt(r),i=i(r),e.flags|=1,$t(t,e,i,n),e.child;case 14:return jw(t,e,e.type,e.pendingProps,n);case 15:return _4(t,e,e.type,e.pendingProps,n);case 19:return b4(t,e,n);case 22:return v4(t,e,n);case 24:return za(e),i=Wt(At),t===null?(r=c0(),r===null&&(r=Ge,s=l0(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},C0(e),ss(e,At,r)):(t.lanes&n&&(ov(t,e),Fc(e,null,null,n),$c()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),ss(e,At,i)):(i=s.cache,ss(e,At,i),i!==r.cache&&av(e,[At],n,!0))),$t(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(W(156,e.tag))}var rv=Yi(null),io=null,br=null;function ss(t,e,n){tt(rv,e._currentValue),e._currentValue=n}function Tr(t){t._currentValue=rv.current,jt(rv)}function sv(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function av(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=r;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),sv(s.return,n,t),i||(a=null);break e}s=o.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(W(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),sv(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function ad(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(W(387));if(a=a.memoizedProps,a!==null){var o=r.type;In(r.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(r===Wf.current){if(a=r.alternate,a===null)throw Error(W(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Su):t=[Su])}r=r.return}t!==null&&av(e,t,n,i),e.flags|=262144}function lh(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function za(t){io=t,br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return E4(io,t)}function $d(t,e){return io===null&&za(t),E4(t,e)}function E4(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},br===null){if(t===null)throw Error(W(308));br=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else br=br.next=e;return n}var ts=!1;function C0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ov(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xs(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ot&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Jf(t),TT(t,null,n),e}return tm(t,i,e,n),Jf(t)}function Hc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194176)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ZS(t,n)}}function fg(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var lv=!1;function $c(){if(lv){var t=Qo;if(t!==null)throw t}}function Fc(t,e,n,i){lv=!1;var r=t.updateQueue;ts=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;a=0,c=u=l=null,o=s;do{var f=o.lane&-536870913,h=f!==o.lane;if(h?(Me&f)===f:(i&f)===f){f!==0&&f===pl&&(lv=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=t,v=o;f=e;var y=n;switch(v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(y,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(y,d,f):p,f==null)break e;d=Xe({},d,f);break e;case 2:ts=!0}}f=o.callback,f!==null&&(t.flags|=64,h&&(t.flags|=8192),h=r.callbacks,h===null?r.callbacks=[f]:h.push(f))}else h={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;h=o,o=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);c===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,s===null&&(r.shared.lanes=0),zs|=a,t.lanes=a,t.memoizedState=d}}function C4(t,e){if(typeof t!="function")throw Error(W(191,t));t.call(e)}function S4(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)C4(n[t],e)}function od(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(o){$e(e,e.return,o)}}function Bs(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,r=e;var l=n;try{o()}catch(u){$e(r,l,u)}}}i=i.next}while(i!==s)}}catch(u){$e(e,e.return,u)}}function T4(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{S4(e,n)}catch(i){$e(t,t.return,i)}}}function x4(t,e,n){n.props=Ba(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){$e(t,e,i)}}function Ea(t,e){try{var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 26:case 27:case 5:var r=i;break;default:r=i}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(s){$e(t,e,s)}}function Tn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){$e(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function A4(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){$e(t,t.return,r)}}function Vw(t,e,n){try{var i=t.stateNode;VM(i,t.type,n,e),i[vn]=e}catch(r){$e(t,t.return,r)}}function R4(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function hg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cv(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lm));else if(i!==4&&i!==27&&(t=t.child,t!==null))for(cv(t,e,n),t=t.sibling;t!==null;)cv(t,e,n),t=t.sibling}function ch(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&i!==27&&(t=t.child,t!==null))for(ch(t,e,n),t=t.sibling;t!==null;)ch(t,e,n),t=t.sibling}var hr=!1,dt=!1,pg=!1,qw=typeof WeakSet=="function"?WeakSet:Set,Dt=null,Gw=!1;function bM(t,e){if(t=t.containerInfo,vv=yh,t=vT(t),n0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(o=a+r),d!==s||i!==0&&d.nodeType!==3||(l=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===r&&(o=a),f===s&&++c===i&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yv={focusedElem:t,selectionRange:n},yh=!1,Dt=e;Dt!==null;)if(e=Dt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Dt=t;else for(;Dt!==null;){switch(e=Dt,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var p=Ba(n.type,r,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(p,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(v){$e(n,n.return,v)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)wv(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wv(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(W(163))}if(t=e.sibling,t!==null){t.return=e.return,Dt=t;break}Dt=e.return}return p=Gw,Gw=!1,p}function O4(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ir(t,n),i&4&&od(5,n);break;case 1:if(ir(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){$e(n,n.return,o)}else{var r=Ba(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){$e(n,n.return,o)}}i&64&&T4(n),i&512&&Ea(n,n.return);break;case 3:if(ir(t,n),i&64&&(i=n.updateQueue,i!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{S4(i,t)}catch(o){$e(n,n.return,o)}}break;case 26:ir(t,n),i&512&&Ea(n,n.return);break;case 27:case 5:ir(t,n),e===null&&i&4&&A4(n),i&512&&Ea(n,n.return);break;case 12:ir(t,n);break;case 13:ir(t,n),i&4&&I4(t,n);break;case 22:if(r=n.memoizedState!==null||hr,!r){e=e!==null&&e.memoizedState!==null||dt;var s=hr,a=dt;hr=r,(dt=e)&&!a?Jr(t,n,(n.subtreeFlags&8772)!==0):ir(t,n),hr=s,dt=a}i&512&&(n.memoizedProps.mode==="manual"?Ea(n,n.return):Tn(n,n.return));break;default:ir(t,n)}}function N4(t){var e=t.alternate;e!==null&&(t.alternate=null,N4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&K1(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,wn=!1;function nr(t,e,n){for(n=n.child;n!==null;)M4(t,e,n),n=n.sibling}function M4(t,e,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Ju,n)}catch{}switch(n.tag){case 26:dt||Tn(n,e),nr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:dt||Tn(n,e);var i=bt,r=wn;for(bt=n.stateNode,nr(t,e,n),n=n.stateNode,e=n.attributes;e.length;)n.removeAttributeNode(e[0]);K1(n),bt=i,wn=r;break;case 5:dt||Tn(n,e);case 6:r=bt;var s=wn;if(bt=null,nr(t,e,n),bt=r,wn=s,bt!==null)if(wn)try{t=bt,i=n.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)}catch(a){$e(n,e,a)}else try{bt.removeChild(n.stateNode)}catch(a){$e(n,e,a)}break;case 18:bt!==null&&(wn?(e=bt,n=n.stateNode,e.nodeType===8?xg(e.parentNode,n):e.nodeType===1&&xg(e,n),Au(e)):xg(bt,n.stateNode));break;case 4:i=bt,r=wn,bt=n.stateNode.containerInfo,wn=!0,nr(t,e,n),bt=i,wn=r;break;case 0:case 11:case 14:case 15:dt||Bs(2,n,e),dt||Bs(4,n,e),nr(t,e,n);break;case 1:dt||(Tn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&x4(n,e,i)),nr(t,e,n);break;case 21:nr(t,e,n);break;case 22:dt||Tn(n,e),dt=(i=dt)||n.memoizedState!==null,nr(t,e,n),dt=i;break;default:nr(t,e,n)}}function I4(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Au(t)}catch(n){$e(e,e.return,n)}}function wM(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new qw),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new qw),e;default:throw Error(W(435,t.tag))}}function mg(t,e){var n=wM(t);e.forEach(function(i){var r=kM.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}function Bn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:case 5:bt=o.stateNode,wn=!1;break e;case 3:bt=o.stateNode.containerInfo,wn=!0;break e;case 4:bt=o.stateNode.containerInfo,wn=!0;break e}o=o.return}if(bt===null)throw Error(W(160));M4(s,a,r),bt=null,wn=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)D4(e,t),e=e.sibling}var li=null;function D4(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bn(e,t),zn(t),i&4&&(Bs(3,t,t.return),od(3,t),Bs(5,t,t.return));break;case 1:Bn(e,t),zn(t),i&512&&(dt||n===null||Tn(n,n.return)),i&64&&hr&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=li;if(Bn(e,t),zn(t),i&512&&(dt||n===null||Tn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[pu]||s[Gt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),Vt(s,i,n),s[Gt]=t,Lt(s),i=s;break e;case"link":var a=c2("link","href",r).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=r.createElement(i),Vt(s,i,n),r.head.appendChild(s);break;case"meta":if(a=c2("meta","content",r).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=r.createElement(i),Vt(s,i,n),r.head.appendChild(s);break;default:throw Error(W(468,i))}s[Gt]=t,Lt(s),i=s}t.stateNode=i}else u2(r,t.type,t.stateNode);else t.stateNode=l2(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?u2(r,t.type,t.stateNode):l2(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Vw(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(i&4&&t.alternate===null){r=t.stateNode,s=t.memoizedProps;try{for(var l=r.firstChild;l;){var u=l.nextSibling,c=l.nodeName;l[pu]||c==="HEAD"||c==="BODY"||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&l.rel.toLowerCase()==="stylesheet"||r.removeChild(l),l=u}for(var d=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Vt(r,d,s),r[Gt]=t,r[vn]=s}catch(p){$e(t,t.return,p)}}case 5:if(Bn(e,t),zn(t),i&512&&(dt||n===null||Tn(n,n.return)),t.flags&32){r=t.stateNode;try{fl(r,"")}catch(p){$e(t,t.return,p)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,Vw(t,r,n!==null?n.memoizedProps:r)),i&1024&&(pg=!0);break;case 6:if(Bn(e,t),zn(t),i&4){if(t.stateNode===null)throw Error(W(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(p){$e(t,t.return,p)}}break;case 3:if(xf=null,r=li,li=gh(e.containerInfo),Bn(e,t),li=r,zn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(p){$e(t,t.return,p)}pg&&(pg=!1,k4(t));break;case 4:i=li,li=gh(t.stateNode.containerInfo),Bn(e,t),zn(t),li=i;break;case 12:Bn(e,t),zn(t);break;case 13:Bn(e,t),zn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(O0=Bi()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,mg(t,i)));break;case 22:if(i&512&&(dt||n===null||Tn(n,n.return)),l=t.memoizedState!==null,u=n!==null&&n.memoizedState!==null,c=hr,d=dt,hr=c||l,dt=d||u,Bn(e,t),dt=d,hr=c,zn(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,i&8192&&(e._visibility=l?e._visibility&-2:e._visibility|1,l&&(e=hr||dt,n===null||u||e||To(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(n=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(n===null){u=n=e;try{if(r=u.stateNode,l)s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{a=u.stateNode,o=u.memoizedProps.style;var h=o!=null&&o.hasOwnProperty("display")?o.display:null;a.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){$e(u,u.return,p)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=l?"":u.memoizedProps}catch(p){$e(u,u.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,mg(t,n))));break;case 19:Bn(e,t),zn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,mg(t,i)));break;case 21:break;default:Bn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var n=t.return;n!==null;){if(R4(n)){var i=n;break e}n=n.return}throw Error(W(160))}switch(i.tag){case 27:var r=i.stateNode,s=hg(t);ch(t,s,r);break;case 5:var a=i.stateNode;i.flags&32&&(fl(a,""),i.flags&=-33);var o=hg(t);ch(t,o,a);break;case 3:case 4:var l=i.stateNode.containerInfo,u=hg(t);cv(t,u,l);break;default:throw Error(W(161))}}}catch(c){$e(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function k4(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;k4(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ir(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)O4(t,e.alternate,e),e=e.sibling}function To(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Bs(4,e,e.return),To(e);break;case 1:Tn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&x4(e,e.return,n),To(e);break;case 26:case 27:case 5:Tn(e,e.return),To(e);break;case 22:Tn(e,e.return),e.memoizedState===null&&To(e);break;default:To(e)}t=t.sibling}}function Jr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Jr(r,s,n),od(4,s);break;case 1:if(Jr(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){$e(i,i.return,u)}if(i=s,r=i.updateQueue,r!==null){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)C4(l[r],o)}catch(u){$e(i,i.return,u)}}n&&a&64&&T4(s),Ea(s,s.return);break;case 26:case 27:case 5:Jr(r,s,n),n&&i===null&&a&4&&A4(s),Ea(s,s.return);break;case 12:Jr(r,s,n);break;case 13:Jr(r,s,n),n&&a&4&&I4(r,s);break;case 22:s.memoizedState===null&&Jr(r,s,n),Ea(s,s.return);break;default:Jr(r,s,n)}e=e.sibling}}function S0(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&rd(n))}function T0(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&rd(t))}function Wr(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)L4(t,e,n,i),e=e.sibling}function L4(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Wr(t,e,n,i),r&2048&&od(9,e);break;case 3:Wr(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&rd(t)));break;case 12:if(r&2048){Wr(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){$e(e,e.return,l)}}else Wr(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,e.memoizedState!==null?s._visibility&4?Wr(t,e,n,i):Vc(t,e):s._visibility&4?Wr(t,e,n,i):(s._visibility|=4,xo(t,e,n,i,(e.subtreeFlags&10256)!==0)),r&2048&&S0(e.alternate,e);break;case 24:Wr(t,e,n,i),r&2048&&T0(e.alternate,e);break;default:Wr(t,e,n,i)}}function xo(t,e,n,i,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=n,l=i,u=a.flags;switch(a.tag){case 0:case 11:case 15:xo(s,a,o,l,r),od(8,a);break;case 23:break;case 22:var c=a.stateNode;a.memoizedState!==null?c._visibility&4?xo(s,a,o,l,r):Vc(s,a):(c._visibility|=4,xo(s,a,o,l,r)),r&&u&2048&&S0(a.alternate,a);break;case 24:xo(s,a,o,l,r),r&&u&2048&&T0(a.alternate,a);break;default:xo(s,a,o,l,r)}e=e.sibling}}function Vc(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:Vc(n,i),r&2048&&S0(i.alternate,i);break;case 24:Vc(n,i),r&2048&&T0(i.alternate,i);break;default:Vc(n,i)}e=e.sibling}}var Ac=8192;function uo(t){if(t.subtreeFlags&Ac)for(t=t.child;t!==null;)U4(t),t=t.sibling}function U4(t){switch(t.tag){case 26:uo(t),t.flags&Ac&&t.memoizedState!==null&&cI(li,t.memoizedState,t.memoizedProps);break;case 5:uo(t);break;case 3:case 4:var e=li;li=gh(t.stateNode.containerInfo),uo(t),li=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Ac,Ac=16777216,uo(t),Ac=e):uo(t));break;default:uo(t)}}function P4(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ac(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Dt=i,B4(i,t)}P4(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)j4(t),t=t.sibling}function j4(t){switch(t.tag){case 0:case 11:case 15:ac(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:ac(t);break;case 12:ac(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,Cf(t)):ac(t);break;default:ac(t)}}function Cf(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Dt=i,B4(i,t)}P4(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Bs(8,e,e.return),Cf(e);break;case 22:n=e.stateNode,n._visibility&4&&(n._visibility&=-5,Cf(e));break;default:Cf(e)}t=t.sibling}}function B4(t,e){for(;Dt!==null;){var n=Dt;switch(n.tag){case 0:case 11:case 15:Bs(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:rd(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Dt=i;else e:for(n=t;Dt!==null;){i=Dt;var r=i.sibling,s=i.return;if(N4(i),i===n){Dt=null;break e}if(r!==null){r.return=s,Dt=r;break e}Dt=s}}}function EM(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,i){return new EM(t,e,n,i)}function x0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function As(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&31457280,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function z4(t,e){t.flags&=31457282;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Sf(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")x0(t)&&(a=1);else if(typeof t=="string")a=oI(t,n,ji.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case No:return Ma(n.children,r,s,e);case HS:a=8,r|=24;break;case I_:return t=Zn(12,n,e,r|2),t.elementType=I_,t.lanes=s,t;case D_:return t=Zn(13,n,e,r),t.elementType=D_,t.lanes=s,t;case k_:return t=Zn(19,n,e,r),t.elementType=k_,t.lanes=s,t;case FS:return H4(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WN:case gr:a=10;break e;case $S:a=9;break e;case W1:a=11;break e;case Y1:a=14;break e;case es:a=16,i=null;break e}a=29,n=Error(W(130,t===null?"null":typeof t,"")),i=null}return e=Zn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Ma(t,e,n,i){return t=Zn(7,t,i,e),t.lanes=n,t}function H4(t,e,n,i){t=Zn(22,t,i,e),t.elementType=FS,t.lanes=n;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var s=r._current;if(s===null)throw Error(W(456));if(!(r._pendingVisibility&2)){var a=Ps(s,2);a!==null&&(r._pendingVisibility|=2,sn(a,s,2))}},attach:function(){var s=r._current;if(s===null)throw Error(W(456));if(r._pendingVisibility&2){var a=Ps(s,2);a!==null&&(r._pendingVisibility&=-3,sn(a,s,2))}}};return t.stateNode=r,t}function gg(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function _g(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rr(t){t.flags|=4}function Ww(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!lx(e)){if(e=ti.current,e!==null&&((Me&4194176)===Me?zi!==null:(Me&62914560)!==Me&&!(Me&536870912)||e!==zi))throw Pc=W_,AT;t.flags|=8192}}function Fd(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?KS():536870912,t.lanes|=e,gl|=e)}function oc(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&31457280,i|=r.flags&31457280,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function CM(t,e,n){var i=e.pendingProps;switch(a0(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return rt(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Tr(At),ul(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(rc(e)?rr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ci!==null&&(pv(ci),ci=null))),rt(e),null;case 26:return n=e.memoizedState,t===null?(rr(e),n!==null?(rt(e),Ww(e,n)):(rt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(rr(e),rt(e),Ww(e,n)):(rt(e),e.flags&=-16777217):(t.memoizedProps!==i&&rr(e),rt(e),e.flags&=-16777217),null;case 27:Xf(e),n=Ss.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&rr(e);else{if(!i){if(e.stateNode===null)throw Error(W(166));return rt(e),null}t=ji.current,rc(e)?Cw(e):(t=sx(r,i,n),e.stateNode=t,rr(e))}return rt(e),null;case 5:if(Xf(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&rr(e);else{if(!i){if(e.stateNode===null)throw Error(W(166));return rt(e),null}if(t=ji.current,rc(e))Cw(e);else{switch(r=mh(Ss.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}t[Gt]=e,t[vn]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(Vt(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&rr(e)}}return rt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&rr(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(W(166));if(t=Ss.current,rc(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=en,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[Gt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||nx(t.nodeValue,n)),t||Ua(e)}else t=mh(t).createTextNode(i),t[Gt]=e,e.stateNode=t}return rt(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=rc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(W(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(W(317));r[Gt]=e}else id(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),r=!1}else ci!==null&&(pv(ci),ci=null),r=!0;if(!r)return e.flags&256?(yr(e),e):(yr(e),null)}if(yr(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Fd(e,e.updateQueue),rt(e),null;case 4:return ul(),t===null&&I0(e.stateNode.containerInfo),rt(e),null;case 10:return Tr(e.type),rt(e),null;case 19:if(jt(Rt),r=e.memoizedState,r===null)return rt(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)oc(r,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ih(t),s!==null){for(e.flags|=128,oc(r,!1),t=s.updateQueue,e.updateQueue=t,Fd(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)z4(n,t),n=n.sibling;return tt(Rt,Rt.current&1|2),e.child}t=t.sibling}r.tail!==null&&Bi()>uh&&(e.flags|=128,i=!0,oc(r,!1),e.lanes=4194304)}else{if(!i)if(t=ih(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Fd(e,t),oc(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Ie)return rt(e),null}else 2*Bi()-r.renderingStartTime>uh&&n!==536870912&&(e.flags|=128,i=!0,oc(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Bi(),e.sibling=null,t=Rt.current,tt(Rt,i?t&1|2:t&1),e):(rt(e),null);case 22:case 23:return yr(e),o0(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),n=e.updateQueue,n!==null&&Fd(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&jt(Na),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Tr(At),rt(e),null;case 25:return null}throw Error(W(156,e.tag))}function SM(t,e){switch(a0(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tr(At),ul(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Xf(e),null;case 13:if(yr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));id()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(Rt),null;case 4:return ul(),null;case 10:return Tr(e.type),null;case 22:case 23:return yr(e),o0(),t!==null&&jt(Na),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Tr(At),null;case 25:return null;default:return null}}function $4(t,e){switch(a0(e),e.tag){case 3:Tr(At),ul();break;case 26:case 27:case 5:Xf(e);break;case 4:ul();break;case 13:yr(e);break;case 19:jt(Rt);break;case 10:Tr(e.type);break;case 22:case 23:yr(e),o0(),t!==null&&jt(Na);break;case 24:Tr(At)}}var TM={getCacheForType:function(t){var e=Wt(At),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},xM=typeof WeakMap=="function"?WeakMap:Map,ot=0,Ge=null,Ae=null,Me=0,Ve=0,En=null,pr=!1,jl=!1,A0=!1,kr=0,ht=0,zs=0,Ia=0,R0=0,Jn=0,gl=0,qc=null,Mi=null,uv=!1,O0=0,uh=1/0,dh=null,Rs=null,Vd=!1,_a=null,Gc=0,dv=0,fv=null,Wc=0,hv=null;function Mn(){if(ot&2&&Me!==0)return Me&-Me;if(ve.T!==null){var t=pl;return t!==0?t:M0()}return eT()}function F4(){Jn===0&&(Jn=!(Me&536870912)||Ie?XS():536870912);var t=ti.current;return t!==null&&(t.flags|=32),Jn}function sn(t,e,n){(t===Ge&&Ve===2||t.cancelPendingCommit!==null)&&(_l(t,0),mr(t,Me,Jn,!1)),td(t,n),(!(ot&2)||t!==Ge)&&(t===Ge&&(!(ot&2)&&(Ia|=n),ht===4&&mr(t,Me,Jn,!1)),Xi(t))}function V4(t,e,n){if(ot&6)throw Error(W(327));var i=!n&&(e&60)===0&&(e&t.expiredLanes)===0||ed(t,e),r=i?OM(t,e):vg(t,e,!0),s=i;do{if(r===0){jl&&!i&&mr(t,e,0,!1);break}else if(r===6)mr(t,e,0,!pr);else{if(n=t.current.alternate,s&&!AM(n)){r=vg(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;r=qc;var l=o.current.memoizedState.isDehydrated;if(l&&(_l(o,a).flags|=256),a=vg(o,a,!1),a!==2){if(A0&&!l){o.errorRecoveryDisabledLanes|=s,Ia|=s,r=4;break e}s=Mi,Mi=r,s!==null&&pv(s)}r=a}if(s=!1,r!==2)continue}}if(r===1){_l(t,0),mr(t,e,0,!0);break}e:{switch(i=t,r){case 0:case 1:throw Error(W(345));case 4:if((e&4194176)===e){mr(i,e,Jn,!pr);break e}break;case 2:Mi=null;break;case 3:case 5:break;default:throw Error(W(329))}if(i.finishedWork=n,i.finishedLanes=e,(e&62914560)===e&&(s=O0+300-Bi(),10<s)){if(mr(i,e,Jn,!pr),Kp(i,0)!==0)break e;i.timeoutHandle=rx(Yw.bind(null,i,n,Mi,dh,uv,e,Jn,Ia,gl,pr,2,-0,0),s);break e}Yw(i,n,Mi,dh,uv,e,Jn,Ia,gl,pr,0,-0,0)}}break}while(!0);Xi(t)}function pv(t){Mi===null?Mi=t:Mi.push.apply(Mi,t)}function Yw(t,e,n,i,r,s,a,o,l,u,c,d,f){var h=e.subtreeFlags;if((h&8192||(h&16785408)===16785408)&&(Cu={stylesheets:null,count:0,unsuspend:lI},U4(e),e=uI(),e!==null)){t.cancelPendingCommit=e(Kw.bind(null,t,n,i,r,a,o,l,1,d,f)),mr(t,s,a,!u);return}Kw(t,n,i,r,a,o,l,c,d,f)}function AM(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!In(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mr(t,e,n,i){e&=~R0,e&=~Ia,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-Nn(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&QS(t,n,e)}function am(){return ot&6?!0:(ld(0),!1)}function N0(){if(Ae!==null){if(Ve===0)var t=Ae.return;else t=Ae,br=io=null,p0(t),Ko=null,yu=0,t=Ae;for(;t!==null;)$4(t.alternate,t),t=t.return;Ae=null}}function _l(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,GM(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),N0(),Ge=t,Ae=n=As(t.current,null),Me=e,Ve=0,En=null,pr=!1,jl=ed(t,e),A0=!1,gl=Jn=R0=Ia=zs=ht=0,Mi=qc=null,uv=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-Nn(i),s=1<<r;e|=t[r],i&=~s}return kr=e,em(),n}function q4(t,e){Te=null,ve.H=Gi,e===Uc?(e=xw(),Ve=3):e===AT?(e=xw(),Ve=4):Ve=e===g4?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,En=e,Ae===null&&(ht=1,oh(t,Qn(e,t.current)))}function G4(){var t=ve.H;return ve.H=Gi,t===null?Gi:t}function W4(){var t=ve.A;return ve.A=TM,t}function mv(){ht=4,pr||(Me&4194176)!==Me&&ti.current!==null||(jl=!0),!(zs&134217727)&&!(Ia&134217727)||Ge===null||mr(Ge,Me,Jn,!1)}function vg(t,e,n){var i=ot;ot|=2;var r=G4(),s=W4();(Ge!==t||Me!==e)&&(dh=null,_l(t,e)),e=!1;var a=ht;e:do try{if(Ve!==0&&Ae!==null){var o=Ae,l=En;switch(Ve){case 8:N0(),a=6;break e;case 3:case 2:case 6:ti.current===null&&(e=!0);var u=Ve;if(Ve=0,En=null,zo(t,o,l,u),n&&jl){a=0;break e}break;default:u=Ve,Ve=0,En=null,zo(t,o,l,u)}}RM(),a=ht;break}catch(c){q4(t,c)}while(!0);return e&&t.shellSuspendCounter++,br=io=null,ot=i,ve.H=r,ve.A=s,Ae===null&&(Ge=null,Me=0,em()),a}function RM(){for(;Ae!==null;)Y4(Ae)}function OM(t,e){var n=ot;ot|=2;var i=G4(),r=W4();Ge!==t||Me!==e?(dh=null,uh=Bi()+500,_l(t,e)):jl=ed(t,e);e:do try{if(Ve!==0&&Ae!==null){e=Ae;var s=En;t:switch(Ve){case 1:Ve=0,En=null,zo(t,e,s,1);break;case 2:if(Tw(s)){Ve=0,En=null,Xw(e);break}e=function(){Ve===2&&Ge===t&&(Ve=7),Xi(t)},s.then(e,e);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:Tw(s)?(Ve=0,En=null,Xw(e)):(Ve=0,En=null,zo(t,e,s,7));break;case 5:var a=null;switch(Ae.tag){case 26:a=Ae.memoizedState;case 5:case 27:var o=Ae;if(!a||lx(a)){Ve=0,En=null;var l=o.sibling;if(l!==null)Ae=l;else{var u=o.return;u!==null?(Ae=u,om(u)):Ae=null}break t}}Ve=0,En=null,zo(t,e,s,5);break;case 6:Ve=0,En=null,zo(t,e,s,6);break;case 8:N0(),ht=6;break e;default:throw Error(W(462))}}NM();break}catch(c){q4(t,c)}while(!0);return br=io=null,ve.H=i,ve.A=r,ot=n,Ae!==null?0:(Ge=null,Me=0,em(),ht)}function NM(){for(;Ae!==null&&!ZN();)Y4(Ae)}function Y4(t){var e=w4(t.alternate,t,kr);t.memoizedProps=t.pendingProps,e===null?om(t):Ae=e}function Xw(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=zw(n,e,e.pendingProps,e.type,void 0,Me);break;case 11:e=zw(n,e,e.pendingProps,e.type.render,e.ref,Me);break;case 5:p0(e);default:$4(n,e),e=Ae=z4(e,kr),e=w4(n,e,kr)}t.memoizedProps=t.pendingProps,e===null?om(t):Ae=e}function zo(t,e,n,i){br=io=null,p0(e),Ko=null,yu=0;var r=e.return;try{if(vM(t,r,e,n,Me)){ht=1,oh(t,Qn(n,t.current)),Ae=null;return}}catch(s){if(r!==null)throw Ae=r,s;ht=1,oh(t,Qn(n,t.current)),Ae=null;return}e.flags&32768?(Ie||i===1?t=!0:jl||Me&536870912?t=!1:(pr=t=!0,(i===2||i===3||i===6)&&(i=ti.current,i!==null&&i.tag===13&&(i.flags|=16384))),X4(e,t)):om(e)}function om(t){var e=t;do{if(e.flags&32768){X4(e,pr);return}t=e.return;var n=CM(e.alternate,e,kr);if(n!==null){Ae=n;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);ht===0&&(ht=5)}function X4(t,e){do{var n=SM(t.alternate,t);if(n!==null){n.flags&=32767,Ae=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=n}while(t!==null);ht=6,Ae=null}function Kw(t,e,n,i,r,s,a,o,l,u){var c=ve.T,d=Ye.p;try{Ye.p=2,ve.T=null,MM(t,e,n,i,d,r,s,a,o,l,u)}finally{ve.T=c,Ye.p=d}}function MM(t,e,n,i,r,s,a,o){do el();while(_a!==null);if(ot&6)throw Error(W(327));var l=t.finishedWork;if(i=t.finishedLanes,l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var u=l.lanes|l.childLanes;if(u|=i0,c6(t,i,u,s,a,o),t===Ge&&(Ae=Ge=null,Me=0),!(l.subtreeFlags&10256)&&!(l.flags&10256)||Vd||(Vd=!0,dv=u,fv=n,LM(Kf,function(){return el(),null})),n=(l.flags&15990)!==0,l.subtreeFlags&15990||n?(n=ve.T,ve.T=null,s=Ye.p,Ye.p=2,a=ot,ot|=4,bM(t,l),D4(l,t),tM(yv,t.containerInfo),yh=!!vv,yv=vv=null,t.current=l,O4(t,l.alternate,l),JN(),ot=a,Ye.p=s,ve.T=n):t.current=l,Vd?(Vd=!1,_a=t,Gc=i):K4(t,u),u=t.pendingLanes,u===0&&(Rs=null),r6(l.stateNode),Xi(t),e!==null)for(r=t.onRecoverableError,l=0;l<e.length;l++)u=e[l],r(u.value,{componentStack:u.stack});return Gc&3&&el(),u=t.pendingLanes,i&4194218&&u&42?t===hv?Wc++:(Wc=0,hv=t):Wc=0,ld(0),null}function K4(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,rd(e)))}function el(){if(_a!==null){var t=_a,e=dv;dv=0;var n=JS(Gc),i=ve.T,r=Ye.p;try{if(Ye.p=32>n?32:n,ve.T=null,_a===null)var s=!1;else{n=fv,fv=null;var a=_a,o=Gc;if(_a=null,Gc=0,ot&6)throw Error(W(331));var l=ot;if(ot|=4,j4(a.current),L4(a,a.current,o,n),ot=l,ld(0,!1),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Ju,a)}catch{}s=!0}return s}finally{Ye.p=r,ve.T=i,K4(t,e)}}return!1}function Qw(t,e,n){e=Qn(n,e),e=ev(t.stateNode,e,2),t=xs(t,e,2),t!==null&&(td(t,2),Xi(t))}function $e(t,e,n){if(t.tag===3)Qw(t,t,n);else for(;e!==null;){if(e.tag===3){Qw(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Rs===null||!Rs.has(i))){t=Qn(n,t),n=p4(2),i=xs(e,n,2),i!==null&&(m4(n,i,e,t),td(i,2),Xi(i));break}}e=e.return}}function yg(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new xM;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(A0=!0,r.add(n),t=IM.bind(null,t,e,n),e.then(t,t))}function IM(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ge===t&&(Me&n)===n&&(ht===4||ht===3&&(Me&62914560)===Me&&300>Bi()-O0?!(ot&2)&&_l(t,0):R0|=n,gl===Me&&(gl=0)),Xi(t)}function Q4(t,e){e===0&&(e=KS()),t=Ps(t,e),t!==null&&(td(t,e),Xi(t))}function DM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Q4(t,n)}function kM(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(W(314))}i!==null&&i.delete(e),Q4(t,n)}function LM(t,e){return X1(t,e)}var fh=null,Ao=null,gv=!1,hh=!1,bg=!1,Da=0;function Xi(t){t!==Ao&&t.next===null&&(Ao===null?fh=Ao=t:Ao=Ao.next=t),hh=!0,gv||(gv=!0,PM(UM))}function ld(t,e){if(!bg&&hh){bg=!0;do for(var n=!1,i=fh;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-Nn(42|t)+1)-1,s&=r&~(a&~o),s=s&201326677?s&201326677|1:s?s|2:0}s!==0&&(n=!0,Zw(i,s))}else s=Me,s=Kp(i,i===Ge?s:0),!(s&3)||ed(i,s)||(n=!0,Zw(i,s));i=i.next}while(n);bg=!1}}function UM(){hh=gv=!1;var t=0;Da!==0&&(qM()&&(t=Da),Da=0);for(var e=Bi(),n=null,i=fh;i!==null;){var r=i.next,s=Z4(i,e);s===0?(i.next=null,n===null?fh=r:n.next=r,r===null&&(Ao=n)):(n=i,(t!==0||s&3)&&(hh=!0)),i=r}ld(t)}function Z4(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Nn(s),o=1<<a,l=r[a];l===-1?(!(o&n)||o&i)&&(r[a]=l6(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=Ge,n=Me,n=Kp(t,t===e?n:0),i=t.callbackNode,n===0||t===e&&Ve===2||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Km(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||ed(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Km(i),JS(n)){case 2:case 8:n=WS;break;case 32:n=Kf;break;case 268435456:n=YS;break;default:n=Kf}return i=J4.bind(null,t),n=X1(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Km(i),t.callbackPriority=2,t.callbackNode=null,2}function J4(t,e){var n=t.callbackNode;if(el()&&t.callbackNode!==n)return null;var i=Me;return i=Kp(t,t===Ge?i:0),i===0?null:(V4(t,i,e),Z4(t,Bi()),t.callbackNode!=null&&t.callbackNode===n?J4.bind(null,t):null)}function Zw(t,e){if(el())return null;V4(t,e,!0)}function PM(t){WM(function(){ot&6?X1(GS,t):t()})}function M0(){return Da===0&&(Da=XS()),Da}function Jw(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_f(""+t)}function e2(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function jM(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=Jw((r[vn]||null).action),a=i.submitter;a&&(e=(e=a[vn]||null)?Jw(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new Qp("action","action",null,i,r);t.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Da!==0){var l=a?e2(r,a):new FormData(r);Z_(n,{pending:!0,data:l,method:r.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?e2(r,a):new FormData(r),Z_(n,{pending:!0,data:l,method:r.method,action:s},s,l))},currentTarget:r}]})}}for(var wg=0;wg<ww.length;wg++){var Eg=ww[wg],BM=Eg.toLowerCase(),zM=Eg[0].toUpperCase()+Eg.slice(1);vi(BM,"on"+zM)}vi(bT,"onAnimationEnd");vi(wT,"onAnimationIteration");vi(ET,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(iM,"onTransitionRun");vi(rM,"onTransitionStart");vi(sM,"onTransitionCancel");vi(CT,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Za("onBeforeInput",["compositionend","keypress","textInput","paste"]);Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function ex(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=u;try{s(r)}catch(c){ah(c)}r.currentTarget=null,s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=u;try{s(r)}catch(c){ah(c)}r.currentTarget=null,s=l}}}}function Ne(t,e){var n=e[B_];n===void 0&&(n=e[B_]=new Set);var i=t+"__bubble";n.has(i)||(tx(e,t,2,!1),n.add(i))}function Cg(t,e,n){var i=0;e&&(i|=4),tx(n,t,i,e)}var qd="_reactListening"+Math.random().toString(36).slice(2);function I0(t){if(!t[qd]){t[qd]=!0,tT.forEach(function(n){n!=="selectionchange"&&(HM.has(n)||Cg(n,!1,t),Cg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qd]||(e[qd]=!0,Cg("selectionchange",!1,e))}}function tx(t,e,n,i){switch(hx(e)){case 2:var r=hI;break;case 8:r=pI;break;default:r=U0}n=r.bind(null,e,n,t),r=void 0,!F_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Sg(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=wa(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){i=s=a;continue e}o=o.parentNode}}i=i.return}cT(function(){var u=s,c=Z1(n),d=[];e:{var f=ST.get(t);if(f!==void 0){var h=Qp,p=t;switch(t){case"keypress":if(yf(n)===0)break e;case"keydown":case"keyup":h=k6;break;case"focusin":p="focus",h=tg;break;case"focusout":p="blur",h=tg;break;case"beforeblur":case"afterblur":h=tg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=cw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=E6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=P6;break;case bT:case wT:case ET:h=T6;break;case CT:h=B6;break;case"scroll":case"scrollend":h=b6;break;case"wheel":h=H6;break;case"copy":case"cut":case"paste":h=A6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=dw;break;case"toggle":case"beforetoggle":h=F6}var v=(e&4)!==0,y=!v&&(t==="scroll"||t==="scrollend"),m=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,_;g!==null;){var b=g;if(_=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||_===null||m===null||(b=mu(g,m),b!=null&&v.push(Eu(g,b,_))),y)break;g=g.return}0<v.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==$_&&(p=n.relatedTarget||n.fromElement)&&(wa(p)||p[Ul]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?wa(p):null,p!==null&&(y=Ll(p),v=p.tag,p!==y||v!==5&&v!==27&&v!==6)&&(p=null)):(h=null,p=u),h!==p)){if(v=cw,b="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=dw,b="onPointerLeave",m="onPointerEnter",g="pointer"),y=h==null?f:xc(h),_=p==null?f:xc(p),f=new v(b,g+"leave",h,n,c),f.target=y,f.relatedTarget=_,b=null,wa(c)===u&&(v=new v(m,g+"enter",p,n,c),v.target=_,v.relatedTarget=y,b=v),y=b,h&&p)t:{for(v=h,m=p,g=0,_=v;_;_=fo(_))g++;for(_=0,b=m;b;b=fo(b))_++;for(;0<g-_;)v=fo(v),g--;for(;0<_-g;)m=fo(m),_--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=fo(v),m=fo(m)}v=null}else v=null;h!==null&&t2(d,f,h,v,!1),p!==null&&y!==null&&t2(d,y,p,v,!0)}}e:{if(f=u?xc(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var A=mw;else if(pw(f))if(mT)A=J6;else{A=Q6;var E=K6}else h=f.nodeName,!h||h.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&Q1(u.elementType)&&(A=mw):A=Z6;if(A&&(A=A(t,u))){pT(d,A,n,c);break e}E&&E(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&H_(f,"number",f.value)}switch(E=u?xc(u):window,t){case"focusin":(pw(E)||E.contentEditable==="true")&&(ko=E,V_=u,Lc=null);break;case"focusout":Lc=V_=ko=null;break;case"mousedown":q_=!0;break;case"contextmenu":case"mouseup":case"dragend":q_=!1,bw(d,n,c);break;case"selectionchange":if(nM)break;case"keydown":case"keyup":bw(d,n,c)}var M;if(t0)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Do?fT(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(dT&&n.locale!=="ko"&&(Do||w!=="onCompositionStart"?w==="onCompositionEnd"&&Do&&(M=uT()):(_s=c,J1="value"in _s?_s.value:_s.textContent,Do=!0)),E=ph(u,w),0<E.length&&(w=new uw(w,t,null,n,c),d.push({event:w,listeners:E}),M?w.data=M:(M=hT(n),M!==null&&(w.data=M)))),(M=q6?G6(t,n):W6(t,n))&&(w=ph(u,"onBeforeInput"),0<w.length&&(E=new uw("onBeforeInput","beforeinput",null,n,c),d.push({event:E,listeners:w}),E.data=M)),jM(d,t,u,n,c)}ex(d,e)})}function Eu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ph(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=mu(t,n),r!=null&&i.unshift(Eu(t,r,s)),r=mu(t,e),r!=null&&i.push(Eu(t,r,s))),t=t.return}return i}function fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t2(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||u===null||(l=u,r?(u=mu(n,s),u!=null&&a.unshift(Eu(n,u,l))):r||(u=mu(n,s),u!=null&&a.push(Eu(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var $M=/\r\n?/g,FM=/\u0000|\uFFFD/g;function n2(t){return(typeof t=="string"?t:""+t).replace($M,`
`).replace(FM,"")}function nx(t,e){return e=n2(e),n2(t)===e}function lm(){}function Pe(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||fl(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&fl(t,""+i);break;case"className":Pd(t,"class",i);break;case"tabIndex":Pd(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Pd(t,n,i);break;case"style":lT(t,i,s);break;case"data":if(e!=="object"){Pd(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=_f(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Pe(t,e,"name",r.name,r,null),Pe(t,e,"formEncType",r.formEncType,r,null),Pe(t,e,"formMethod",r.formMethod,r,null),Pe(t,e,"formTarget",r.formTarget,r,null)):(Pe(t,e,"encType",r.encType,r,null),Pe(t,e,"method",r.method,r,null),Pe(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=_f(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=lm);break;case"onScroll":i!=null&&Ne("scroll",t);break;case"onScrollEnd":i!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(W(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(W(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=_f(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),gf(t,"popover",i);break;case"xlinkActuate":tr(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":tr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":tr(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":tr(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":tr(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":tr(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":tr(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":tr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":tr(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":gf(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=v6.get(n)||n,gf(t,n,i))}}function _v(t,e,n,i,r,s){switch(n){case"style":lT(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(W(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(W(60));t.innerHTML=n}}break;case"children":typeof i=="string"?fl(t,i):(typeof i=="number"||typeof i=="bigint")&&fl(t,""+i);break;case"onScroll":i!=null&&Ne("scroll",t);break;case"onScrollEnd":i!=null&&Ne("scrollend",t);break;case"onClick":i!=null&&(t.onclick=lm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[vn]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):gf(t,n,i)}}}function Vt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(W(137,e));default:Pe(t,e,s,a,n,null)}}r&&Pe(t,e,"srcSet",n.srcSet,n,null),i&&Pe(t,e,"src",n.src,n,null);return;case"input":Ne("invalid",t);var o=s=a=r=null,l=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var c=n[i];if(c!=null)switch(i){case"name":r=c;break;case"type":a=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":s=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(W(137,e));break;default:Pe(t,e,i,c,n,null)}}sT(t,s,o,l,u,a,r,!1),Qf(t);return;case"select":Ne("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:Pe(t,e,r,o,n,null)}e=s,n=a,t.multiple=!!i,e!=null?Yo(t,!!i,e,!1):n!=null&&Yo(t,!!i,n,!0);return;case"textarea":Ne("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":r=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(W(91));break;default:Pe(t,e,a,o,n,null)}oT(t,i,r,s),Qf(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Pe(t,e,l,i,n,null)}return;case"dialog":Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(i=0;i<wu.length;i++)Ne(wu[i],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(W(137,e));default:Pe(t,e,u,i,n,null)}return;default:if(Q1(e)){for(c in n)n.hasOwnProperty(c)&&(i=n[c],i!==void 0&&_v(t,e,c,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&Pe(t,e,o,i,n,null))}function VM(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,o=null,l=null,u=null,c=null;for(h in n){var d=n[h];if(n.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":l=d;default:i.hasOwnProperty(h)||Pe(t,e,h,null,i,d)}}for(var f in i){var h=i[f];if(d=n[f],i.hasOwnProperty(f)&&(h!=null||d!=null))switch(f){case"type":s=h;break;case"name":r=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(W(137,e));break;default:h!==d&&Pe(t,e,f,h,i,d)}}z_(t,a,o,l,u,c,s,r);return;case"select":h=a=o=f=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":h=l;default:i.hasOwnProperty(s)||Pe(t,e,s,null,i,l)}for(r in i)if(s=i[r],l=n[r],i.hasOwnProperty(r)&&(s!=null||l!=null))switch(r){case"value":f=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&Pe(t,e,r,s,i,l)}e=o,n=a,i=h,f!=null?Yo(t,!!n,f,!1):!!i!=!!n&&(e!=null?Yo(t,!!n,e,!0):Yo(t,!!n,n?[]:"",!1));return;case"textarea":h=f=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Pe(t,e,o,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":f=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(W(91));break;default:r!==s&&Pe(t,e,a,r,i,s)}aT(t,f,h);return;case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&f!=null&&!i.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:Pe(t,e,p,null,i,f)}for(l in i)if(f=i[l],h=n[l],i.hasOwnProperty(l)&&f!==h&&(f!=null||h!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Pe(t,e,l,f,i,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!=null&&!i.hasOwnProperty(v)&&Pe(t,e,v,null,i,f);for(u in i)if(f=i[u],h=n[u],i.hasOwnProperty(u)&&f!==h&&(f!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(W(137,e));break;default:Pe(t,e,u,f,i,h)}return;default:if(Q1(e)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!==void 0&&!i.hasOwnProperty(y)&&_v(t,e,y,void 0,i,f);for(c in i)f=i[c],h=n[c],!i.hasOwnProperty(c)||f===h||f===void 0&&h===void 0||_v(t,e,c,f,i,h);return}}for(var m in n)f=n[m],n.hasOwnProperty(m)&&f!=null&&!i.hasOwnProperty(m)&&Pe(t,e,m,null,i,f);for(d in i)f=i[d],h=n[d],!i.hasOwnProperty(d)||f===h||f==null&&h==null||Pe(t,e,d,f,i,h)}var vv=null,yv=null;function mh(t){return t.nodeType===9?t:t.ownerDocument}function i2(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ix(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function bv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tg=null;function qM(){var t=window.event;return t&&t.type==="popstate"?t===Tg?!1:(Tg=t,!0):(Tg=null,!1)}var rx=typeof setTimeout=="function"?setTimeout:void 0,GM=typeof clearTimeout=="function"?clearTimeout:void 0,r2=typeof Promise=="function"?Promise:void 0,WM=typeof queueMicrotask=="function"?queueMicrotask:typeof r2<"u"?function(t){return r2.resolve(null).then(t).catch(YM)}:rx;function YM(t){setTimeout(function(){throw t})}function xg(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Au(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Au(e)}function wv(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wv(n),K1(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function XM(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[pu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=mi(t.nextSibling),t===null)break}return null}function KM(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=mi(t.nextSibling),t===null))return null;return t}function mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function s2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function sx(t,e,n){switch(e=mh(n),t){case"html":if(t=e.documentElement,!t)throw Error(W(452));return t;case"head":if(t=e.head,!t)throw Error(W(453));return t;case"body":if(t=e.body,!t)throw Error(W(454));return t;default:throw Error(W(451))}}var ni=new Map,a2=new Set;function gh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var zr=Ye.d;Ye.d={f:QM,r:ZM,D:JM,C:eI,L:tI,m:nI,X:rI,S:iI,M:sI};function QM(){var t=zr.f(),e=am();return t||e}function ZM(t){var e=Pl(t);e!==null&&e.tag===5&&e.type==="form"?s4(e):zr.r(t)}var Bl=typeof document>"u"?null:document;function ax(t,e,n){var i=Bl;if(i&&typeof e=="string"&&e){var r=Kn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),a2.has(r)||(a2.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),Vt(e,"link",t),Lt(e),i.head.appendChild(e)))}}function JM(t){zr.D(t),ax("dns-prefetch",t,null)}function eI(t,e){zr.C(t,e),ax("preconnect",t,e)}function tI(t,e,n){zr.L(t,e,n);var i=Bl;if(i&&t&&e){var r='link[rel="preload"][as="'+Kn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Kn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Kn(n.imageSizes)+'"]')):r+='[href="'+Kn(t)+'"]';var s=r;switch(e){case"style":s=vl(t);break;case"script":s=zl(t)}ni.has(s)||(t=Xe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ni.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(cd(s))||e==="script"&&i.querySelector(ud(s))||(e=i.createElement("link"),Vt(e,"link",t),Lt(e),i.head.appendChild(e)))}}function nI(t,e){zr.m(t,e);var n=Bl;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Kn(i)+'"][href="'+Kn(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=zl(t)}if(!ni.has(s)&&(t=Xe({rel:"modulepreload",href:t},e),ni.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ud(s)))return}i=n.createElement("link"),Vt(i,"link",t),Lt(i),n.head.appendChild(i)}}}function iI(t,e,n){zr.S(t,e,n);var i=Bl;if(i&&t){var r=Wo(i).hoistableStyles,s=vl(t);e=e||"default";var a=r.get(s);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(cd(s)))o.loading=5;else{t=Xe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ni.get(s))&&D0(t,n);var l=a=i.createElement("link");Lt(l),Vt(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Tf(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(s,a)}}}function rI(t,e){zr.X(t,e);var n=Bl;if(n&&t){var i=Wo(n).hoistableScripts,r=zl(t),s=i.get(r);s||(s=n.querySelector(ud(r)),s||(t=Xe({src:t,async:!0},e),(e=ni.get(r))&&k0(t,e),s=n.createElement("script"),Lt(s),Vt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function sI(t,e){zr.M(t,e);var n=Bl;if(n&&t){var i=Wo(n).hoistableScripts,r=zl(t),s=i.get(r);s||(s=n.querySelector(ud(r)),s||(t=Xe({src:t,async:!0,type:"module"},e),(e=ni.get(r))&&k0(t,e),s=n.createElement("script"),Lt(s),Vt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function o2(t,e,n,i){var r=(r=Ss.current)?gh(r):null;if(!r)throw Error(W(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=vl(n.href),n=Wo(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=vl(n.href);var s=Wo(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(cd(t)))&&!s._p&&(a.instance=s,a.state.loading=5),ni.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ni.set(t,n),s||aI(r,t,n,a.state))),e&&i===null)throw Error(W(528,""));return a}if(e&&i!==null)throw Error(W(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=zl(n),n=Wo(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(W(444,t))}}function vl(t){return'href="'+Kn(t)+'"'}function cd(t){return'link[rel="stylesheet"]['+t+"]"}function ox(t){return Xe({},t,{"data-precedence":t.precedence,precedence:null})}function aI(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Vt(e,"link",n),Lt(e),t.head.appendChild(e))}function zl(t){return'[src="'+Kn(t)+'"]'}function ud(t){return"script[async]"+t}function l2(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Kn(n.href)+'"]');if(i)return e.instance=i,Lt(i),i;var r=Xe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Lt(i),Vt(i,"style",r),Tf(i,n.precedence,t),e.instance=i;case"stylesheet":r=vl(n.href);var s=t.querySelector(cd(r));if(s)return e.state.loading|=4,e.instance=s,Lt(s),s;i=ox(n),(r=ni.get(r))&&D0(i,r),s=(t.ownerDocument||t).createElement("link"),Lt(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Vt(s,"link",i),e.state.loading|=4,Tf(s,n.precedence,t),e.instance=s;case"script":return s=zl(n.src),(r=t.querySelector(ud(s)))?(e.instance=r,Lt(r),r):(i=n,(r=ni.get(s))&&(i=Xe({},n),k0(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),Lt(r),Vt(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(W(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Tf(i,n.precedence,t));return e.instance}function Tf(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===e)s=o;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function D0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function k0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var xf=null;function c2(t,e,n){if(xf===null){var i=new Map,r=xf=new Map;r.set(n,i)}else r=xf,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[pu]||s[Gt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=i.get(a);o?o.push(s):i.set(a,[s])}}return i}function u2(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function oI(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function lx(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Cu=null;function lI(){}function cI(t,e,n){if(Cu===null)throw Error(W(475));var i=Cu;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=vl(n.href),s=t.querySelector(cd(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=_h.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=s,Lt(s);return}s=t.ownerDocument||t,n=ox(n),(r=ni.get(r))&&D0(n,r),s=s.createElement("link"),Lt(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Vt(s,"link",n),e.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=_h.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function uI(){if(Cu===null)throw Error(W(475));var t=Cu;return t.stylesheets&&t.count===0&&Ev(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Ev(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function _h(){if(this.count--,this.count===0){if(this.stylesheets)Ev(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vh=null;function Ev(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vh=new Map,e.forEach(dI,t),vh=null,_h.call(t))}function dI(t,e){if(!(e.state.loading&4)){var n=vh.get(t);if(n)var i=n.get(null);else{n=new Map,vh.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=_h.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Su={$$typeof:gr,Provider:null,Consumer:null,_currentValue:Ra,_currentValue2:Ra,_threadCount:0};function fI(t,e,n,i,r,s,a,o){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qm(0),this.hiddenUpdates=Qm(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function cx(t,e,n,i,r,s,a,o,l,u,c,d){return t=new fI(t,e,n,a,o,l,u,d),e=1,s===!0&&(e|=24),s=Zn(3,null,null,e),t.current=s,s.stateNode=t,e=l0(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},C0(s),t}function ux(t){return t?(t=Po,t):Po}function dx(t,e,n,i,r,s){r=ux(r),i.context===null?i.context=r:i.pendingContext=r,i=Ts(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=xs(t,i,e),n!==null&&(sn(n,t,e),Hc(n,t,e))}function d2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function L0(t,e){d2(t,e),(t=t.alternate)&&d2(t,e)}function fx(t){if(t.tag===13){var e=Ps(t,67108864);e!==null&&sn(e,t,67108864),L0(t,67108864)}}var yh=!0;function hI(t,e,n,i){var r=ve.T;ve.T=null;var s=Ye.p;try{Ye.p=2,U0(t,e,n,i)}finally{Ye.p=s,ve.T=r}}function pI(t,e,n,i){var r=ve.T;ve.T=null;var s=Ye.p;try{Ye.p=8,U0(t,e,n,i)}finally{Ye.p=s,ve.T=r}}function U0(t,e,n,i){if(yh){var r=Cv(i);if(r===null)Sg(t,e,i,bh,n),f2(t,i);else if(gI(r,t,e,n,i))i.stopPropagation();else if(f2(t,i),e&4&&-1<mI.indexOf(t)){for(;r!==null;){var s=Pl(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=da(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Nn(a);o.entanglements[1]|=l,a&=~l}Xi(s),!(ot&6)&&(uh=Bi()+500,ld(0))}}break;case 13:o=Ps(s,2),o!==null&&sn(o,s,2),am(),L0(s,2)}if(s=Cv(i),s===null&&Sg(t,e,i,bh,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Sg(t,e,i,null,n)}}function Cv(t){return t=Z1(t),P0(t)}var bh=null;function P0(t){if(bh=null,t=wa(t),t!==null){var e=Ll(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=VS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return bh=t,null}function hx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(e6()){case GS:return 2;case WS:return 8;case Kf:case t6:return 32;case YS:return 268435456;default:return 32}default:return 32}}var Sv=!1,Os=null,Ns=null,Ms=null,Tu=new Map,xu=new Map,as=[],mI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f2(t,e){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(e.pointerId)}}function lc(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Pl(e),e!==null&&fx(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function gI(t,e,n,i,r){switch(e){case"focusin":return Os=lc(Os,t,e,n,i,r),!0;case"dragenter":return Ns=lc(Ns,t,e,n,i,r),!0;case"mouseover":return Ms=lc(Ms,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Tu.set(s,lc(Tu.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,xu.set(s,lc(xu.get(s)||null,t,e,n,i,r)),!0}return!1}function px(t){var e=wa(t.target);if(e!==null){var n=Ll(e);if(n!==null){if(e=n.tag,e===13){if(e=VS(n),e!==null){t.blockedOn=e,u6(t.priority,function(){if(n.tag===13){var i=Mn(),r=Ps(n,i);r!==null&&sn(r,n,i),L0(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Af(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cv(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);$_=i,n.target.dispatchEvent(i),$_=null}else return e=Pl(n),e!==null&&fx(e),t.blockedOn=n,!1;e.shift()}return!0}function h2(t,e,n){Af(t)&&n.delete(e)}function _I(){Sv=!1,Os!==null&&Af(Os)&&(Os=null),Ns!==null&&Af(Ns)&&(Ns=null),Ms!==null&&Af(Ms)&&(Ms=null),Tu.forEach(h2),xu.forEach(h2)}function Gd(t,e){t.blockedOn===e&&(t.blockedOn=null,Sv||(Sv=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,_I)))}var Wd=null;function p2(t){Wd!==t&&(Wd=t,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,function(){Wd===t&&(Wd=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(P0(i||n)===null)continue;break}var s=Pl(n);s!==null&&(t.splice(e,3),e-=3,Z_(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Au(t){function e(l){return Gd(l,t)}Os!==null&&Gd(Os,t),Ns!==null&&Gd(Ns,t),Ms!==null&&Gd(Ms,t),Tu.forEach(e),xu.forEach(e);for(var n=0;n<as.length;n++){var i=as[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<as.length&&(n=as[0],n.blockedOn===null);)px(n),n.blockedOn===null&&as.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[vn]||null;if(typeof s=="function")a||p2(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[vn]||null)o=a.formAction;else if(P0(r)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),p2(n)}}}function j0(t){this._internalRoot=t}cm.prototype.render=j0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));var n=e.current,i=Mn();dx(n,i,t,e,null,null)};cm.prototype.unmount=j0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&el(),dx(t.current,2,null,t,null,null),am(),e[Ul]=null}};function cm(t){this._internalRoot=t}cm.prototype.unstable_scheduleHydration=function(t){if(t){var e=eT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<as.length&&e!==0&&e<as[n].priority;n++);as.splice(n,0,t),n===0&&px(t)}};var m2=BS.version;if(m2!=="19.0.0")throw Error(W(527,m2,"19.0.0"));Ye.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=QN(e),t=t!==null?qS(t):null,t=t===null?null:t.stateNode,t};var vI={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:ve,findFiberByHostInstance:wa,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{Ju=Yd.inject(vI),On=Yd}catch{}}Xp.createRoot=function(t,e){if(!zS(t))throw Error(W(299));var n=!1,i="",r=d4,s=f4,a=h4,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=cx(t,1,!1,null,null,n,i,r,s,a,o,null),t[Ul]=e.current,I0(t.nodeType===8?t.parentNode:t),new j0(e)};Xp.hydrateRoot=function(t,e,n){if(!zS(t))throw Error(W(299));var i=!1,r="",s=d4,a=f4,o=h4,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=cx(t,1,!0,e,n??null,i,r,s,a,o,l,u),e.context=ux(null),n=e.current,i=Mn(),r=Ts(i),r.callback=null,xs(n,r,i),e.current.lanes=i,td(e,i),Xi(e),t[Ul]=e.current,I0(t),new cm(e)};Xp.version="19.0.0";function mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mx)}catch(t){console.error(t)}}mx(),US.exports=Xp;var yI=US.exports;const bI=qp(yI),gx=x.createContext(null),wI=({children:t})=>{const e=document.querySelector("body"),[n,i]=x.useState(!1),[r,s]=x.useState(0);x.useEffect(()=>{/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||s(window.innerWidth-document.querySelector("#root").offsetWidth)},[]);const o={isBodyLock:n,lockPaddingValue:r,toggleBodyLock:()=>{e.classList.toggle("lock"),i(l=>!l)}};return C.jsx(gx.Provider,{value:o,children:t})};function EI(){const{pathname:t}=Qs();return x.useLayoutEffect(()=>{window.scrollTo(0,0)},[t]),null}const CI=x.createContext(null),SI=({children:t})=>{const e=document.querySelector("body"),[n,i]=x.useState(!1);x.useEffect(()=>{n?(e.classList.add("dark"),localStorage.setItem("theme","dark")):n||(e.classList.remove("dark"),localStorage.setItem("theme","light"))},[n]);const s={isDarkTheme:n,changeDarkThemeState:()=>{i(a=>!a)}};return C.jsx(CI.Provider,{value:s,children:t})};var g2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee=function(t,e){if(!t)throw Hl(e)},Hl=function(t){return new Error("Firebase Database ("+_x.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},TI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],o=t[n++],l=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},B0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,o=a?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=s>>2,d=(s&3)<<4|o>>4;let f=(o&15)<<2|u>>6,h=u&63;l||(h=64,a||(f=64)),i.push(n[c],n[d],n[f],n[h])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||o==null||u==null||d==null)throw new xI;const f=s<<2|o>>4;if(i.push(f),u!==64){const h=o<<4&240|u>>2;if(i.push(h),d!==64){const p=u<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yx=function(t){const e=vx(t);return B0.encodeByteArray(e,!0)},wh=function(t){return yx(t).replace(/\./g,"")},Eh=function(t){try{return B0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){return bx(void 0,t)}function bx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!RI(n)||(t[n]=bx(t[n],e[n]));return t}function RI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=()=>OI().__FIREBASE_DEFAULTS__,MI=()=>{if(typeof process>"u"||typeof g2>"u")return;const t=g2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},II=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Eh(t[1]);return e&&JSON.parse(e)},z0=()=>{try{return NI()||MI()||II()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wx=t=>{var e,n;return(n=(e=z0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ex=t=>{const e=wx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Cx=()=>{var t;return(t=z0())===null||t===void 0?void 0:t.config},Sx=t=>{var e;return(e=z0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wh(JSON.stringify(n)),wh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function DI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LI(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ax(){return _x.NODE_ADMIN===!0}function UI(){try{return typeof indexedDB=="object"}catch{return!1}}function PI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="FirebaseError";class Ki extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=jI,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dd.prototype.create)}}class dd{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?BI(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new Ki(r,o,i)}}function BI(t,e){return t.replace(zI,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const zI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){return JSON.parse(t)}function Ot(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=Ru(Eh(s[0])||""),n=Ru(Eh(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},HI=function(t){const e=Rx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},$I=function(t){const e=Rx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ch(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sh(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Th(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(_2(s)&&_2(a)){if(!Th(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function _2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Rc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=o^s&(a^o),c=1518500249):(u=s^a^o,c=1859775393):d<60?(u=s&a|o&(s|a),c=2400959708):(u=s^a^o,c=3395469782);const f=(r<<5|r>>>27)+u+l+c+i[d]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let a=this.inbuf_;for(;r<n;){if(a===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(s),a=0;break}}else for(;r<n;)if(s[a]=e[r],++a,++r,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function VI(t,e){const n=new qI(t,e);return n.subscribe.bind(n)}class qI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");GI(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Ag),r.error===void 0&&(r.error=Ag),r.complete===void 0&&(r.complete=Ag);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ag(){}function bl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,ee(i<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(i)-56320;r=65536+(s<<10)+a}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},um=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class Hs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YI=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Ii;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KI(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function XI(t){return t===ha?void 0:t}function KI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const ZI={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},JI=je.INFO,e7={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},t7=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=e7[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $0{constructor(e){this.name=e,this._logLevel=JI,this._logHandler=t7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const n7=(t,e)=>e.some(n=>t instanceof n);let v2,y2;function i7(){return v2||(v2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r7(){return y2||(y2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ox=new WeakMap,Tv=new WeakMap,Nx=new WeakMap,Rg=new WeakMap,F0=new WeakMap;function s7(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Is(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Ox.set(n,t)}).catch(()=>{}),F0.set(e,t),e}function a7(t){if(Tv.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Tv.set(t,e)}let xv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Nx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o7(t){xv=t(xv)}function l7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Og(this),e,...n);return Nx.set(i,e.sort?e.sort():[e]),Is(i)}:r7().includes(t)?function(...e){return t.apply(Og(this),e),Is(Ox.get(this))}:function(...e){return Is(t.apply(Og(this),e))}}function c7(t){return typeof t=="function"?l7(t):(t instanceof IDBTransaction&&a7(t),n7(t,i7())?new Proxy(t,xv):t)}function Is(t){if(t instanceof IDBRequest)return s7(t);if(Rg.has(t))return Rg.get(t);const e=c7(t);return e!==t&&(Rg.set(t,e),F0.set(e,t)),e}const Og=t=>F0.get(t);function u7(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),o=Is(a);return i&&a.addEventListener("upgradeneeded",l=>{i(Is(a.result),l.oldVersion,l.newVersion,Is(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const d7=["get","getKey","getAll","getAllKeys","count"],f7=["put","add","delete","clear"],Ng=new Map;function b2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=f7.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||d7.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),r&&l.done]))[0]};return Ng.set(e,s),s}o7(t=>({...t,get:(e,n,i)=>b2(e,n)||t.get(e,n,i),has:(e,n)=>!!b2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p7(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function p7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Av="@firebase/app",w2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new $0("@firebase/app"),m7="@firebase/app-compat",g7="@firebase/analytics-compat",_7="@firebase/analytics",v7="@firebase/app-check-compat",y7="@firebase/app-check",b7="@firebase/auth",w7="@firebase/auth-compat",E7="@firebase/database",C7="@firebase/data-connect",S7="@firebase/database-compat",T7="@firebase/functions",x7="@firebase/functions-compat",A7="@firebase/installations",R7="@firebase/installations-compat",O7="@firebase/messaging",N7="@firebase/messaging-compat",M7="@firebase/performance",I7="@firebase/performance-compat",D7="@firebase/remote-config",k7="@firebase/remote-config-compat",L7="@firebase/storage",U7="@firebase/storage-compat",P7="@firebase/firestore",j7="@firebase/vertexai-preview",B7="@firebase/firestore-compat",z7="firebase",H7="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="[DEFAULT]",$7={[Av]:"fire-core",[m7]:"fire-core-compat",[_7]:"fire-analytics",[g7]:"fire-analytics-compat",[y7]:"fire-app-check",[v7]:"fire-app-check-compat",[b7]:"fire-auth",[w7]:"fire-auth-compat",[E7]:"fire-rtdb",[C7]:"fire-data-connect",[S7]:"fire-rtdb-compat",[T7]:"fire-fn",[x7]:"fire-fn-compat",[A7]:"fire-iid",[R7]:"fire-iid-compat",[O7]:"fire-fcm",[N7]:"fire-fcm-compat",[M7]:"fire-perf",[I7]:"fire-perf-compat",[D7]:"fire-rc",[k7]:"fire-rc-compat",[L7]:"fire-gcs",[U7]:"fire-gcs-compat",[P7]:"fire-fst",[B7]:"fire-fst-compat",[j7]:"fire-vertex","fire-js":"fire-js",[z7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,F7=new Map,Ov=new Map;function E2(t,e){try{t.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ha(t){const e=t.name;if(Ov.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;Ov.set(e,t);for(const n of xh.values())E2(n,t);for(const n of F7.values())E2(n,t);return!0}function dm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ki(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new dd("app","Firebase",V7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=H7;function Mx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Rv,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ds.create("bad-app-name",{appName:String(r)});if(n||(n=Cx()),!n)throw Ds.create("no-options");const s=xh.get(r);if(s){if(Th(n,s.options)&&Th(i,s.config))return s;throw Ds.create("duplicate-app",{appName:r})}const a=new QI(r);for(const l of Ov.values())a.addComponent(l);const o=new q7(n,i,a);return xh.set(r,o),o}function V0(t=Rv){const e=xh.get(t);if(!e&&t===Rv&&Cx())return Mx();if(!e)throw Ds.create("no-app",{appName:t});return e}function Hi(t,e,n){var i;let r=(i=$7[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(o.join(" "));return}Ha(new Hs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="firebase-heartbeat-database",W7=1,Ou="firebase-heartbeat-store";let Mg=null;function Ix(){return Mg||(Mg=u7(G7,W7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ds.create("idb-open",{originalErrorMessage:t.message})})),Mg}async function Y7(t){try{const n=(await Ix()).transaction(Ou),i=await n.objectStore(Ou).get(Dx(t));return await n.done,i}catch(e){if(e instanceof Ki)Lr.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lr.warn(n.message)}}}async function C2(t,e){try{const i=(await Ix()).transaction(Ou,"readwrite");await i.objectStore(Ou).put(e,Dx(t)),await i.done}catch(n){if(n instanceof Ki)Lr.warn(n.message);else{const i=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lr.warn(i.message)}}}function Dx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=1024,K7=30*24*60*60*1e3;class Q7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J7(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=S2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=K7}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Lr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=S2(),{heartbeatsToSend:i,unsentEntries:r}=Z7(this._heartbeatsCache.heartbeats),s=wh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Lr.warn(n),""}}}function S2(){return new Date().toISOString().substring(0,10)}function Z7(t,e=X7){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),T2(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),T2(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class J7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UI()?PI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return C2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return C2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function T2(t){return wh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t){Ha(new Hs("platform-logger",e=>new h7(e),"PRIVATE")),Ha(new Hs("heartbeat",e=>new Q7(e),"PRIVATE")),Hi(Av,w2,t),Hi(Av,w2,"esm2017"),Hi("fire-js","")}e8("");function q0(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t8=kx,Lx=new dd("auth","Firebase",kx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new $0("@firebase/auth");function n8(t,...e){Ah.logLevel<=je.WARN&&Ah.warn(`Auth (${ro}): ${t}`,...e)}function Rf(t,...e){Ah.logLevel<=je.ERROR&&Ah.error(`Auth (${ro}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,...e){throw G0(t,...e)}function $i(t,...e){return G0(t,...e)}function Ux(t,e,n){const i=Object.assign(Object.assign({},t8()),{[e]:n});return new dd("auth","Firebase",i).create(e,{appName:t.name})}function xr(t){return Ux(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Lx.create(t,...e)}function me(t,e,...n){if(!t)throw G0(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rf(e),new Error(e)}function Ur(t,e){t||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function i8(){return x2()==="http:"||x2()==="https:"}function x2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i8()||kI()||"connection"in navigator)?navigator.onLine:!0}function s8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ur(n>e,"Short delay should be less than long delay!"),this.isMobile=H0()||xx()}get(){return r8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e){Ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=new fd(3e4,6e4);function Hr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $r(t,e,n,i,r={}){return jx(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const o=$l(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return DI()||(u.referrerPolicy="no-referrer"),Px.fetch()(Bx(t,t.config.apiHost,n,o),u)})}async function jx(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},a8),e);try{const r=new c8(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Xd(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Xd(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Xd(t,"user-disabled",a);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ux(t,c,u);_i(t,c)}}catch(r){if(r instanceof Ki)throw r;_i(t,"network-request-failed",{message:String(r)})}}async function hd(t,e,n,i,r={}){const s=await $r(t,e,n,i,r);return"mfaPendingCredential"in s&&_i(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Bx(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?W0(t.config,r):`${t.config.apiScheme}://${r}`}function l8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i($i(this.auth,"network-request-failed")),o8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=$i(t,e,i);return r.customData._tokenResponse=n,r}function A2(t){return t!==void 0&&t.enterprise!==void 0}class u8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return l8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function d8(t,e){return $r(t,"GET","/v2/recaptchaConfig",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(t,e){return $r(t,"POST","/v1/accounts:delete",e)}async function zx(t,e){return $r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h8(t,e=!1){const n=lt(t),i=await n.getIdToken(e),r=Y0(i);me(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Yc(Ig(r.auth_time)),issuedAtTime:Yc(Ig(r.iat)),expirationTime:Yc(Ig(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ig(t){return Number(t)*1e3}function Y0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const r=Eh(n);return r?JSON.parse(r):(Rf("Failed to decode base64 JWT payload"),null)}catch(r){return Rf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function R2(t){const e=Y0(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ki&&p8(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function p8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Nu(t,zx(n,{idToken:i}));me(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Hx(s.providerUserInfo):[],o=_8(t.providerData,a),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Mv(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function g8(t){const e=lt(t);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _8(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Hx(t){return t.map(e=>{var{providerId:n}=e,i=q0(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8(t,e){const n=await jx(t,{},async()=>{const i=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=Bx(t,r,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Px.fetch()(a,{method:"POST",headers:o,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y8(t,e){return $r(t,"POST","/v2/accounts:revokeToken",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=R2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await v8(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new tl;return i&&(me(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(me(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(me(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Er{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=q0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nu(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h8(this,e)}reload(){return g8(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await Nu(this,f8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,a,o,l,u,c;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(o=n.tenantId)!==null&&o!==void 0?o:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:b,isAnonymous:A,providerData:E,stsTokenManager:M}=n;me(_&&M,e,"internal-error");const w=tl.fromJSON(this.name,M);me(typeof _=="string",e,"internal-error"),Yr(d,e.name),Yr(f,e.name),me(typeof b=="boolean",e,"internal-error"),me(typeof A=="boolean",e,"internal-error"),Yr(h,e.name),Yr(p,e.name),Yr(v,e.name),Yr(y,e.name),Yr(m,e.name),Yr(g,e.name);const S=new Er({uid:_,auth:e,email:f,emailVerified:b,displayName:d,isAnonymous:A,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:w,createdAt:m,lastLoginAt:g});return E&&Array.isArray(E)&&(S.providerData=E.map(T=>Object.assign({},T))),y&&(S._redirectEventId=y),S}static async _fromIdTokenResponse(e,n,i=!1){const r=new tl;r.updateFromServerResponse(n);const s=new Er({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Rh(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];me(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?Hx(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new tl;o.updateFromIdToken(i);const l=new Er({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Mv(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new Map;function Cr(t){Ur(t instanceof Function,"Expected a class definition");let e=O2.get(t);return e?(Ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,O2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$x.type="NONE";const N2=$x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t,e,n){return`firebase:${t}:${e}:${n}`}class nl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Of(this.userKey,r.apiKey,s),this.fullPersistenceKey=Of("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new nl(Cr(N2),e,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Cr(N2);const a=Of(i,e.config.apiKey,e.name);let o=null;for(const u of n)try{const c=await u._get(a);if(c){const d=Er._fromJSON(e,c);u!==s&&(o=d),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new nl(s,e,i):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new nl(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yx(e))return"Blackberry";if(Xx(e))return"Webos";if(Vx(e))return"Safari";if((e.includes("chrome/")||qx(e))&&!e.includes("edge/"))return"Chrome";if(Wx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Fx(t=on()){return/firefox\//i.test(t)}function Vx(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qx(t=on()){return/crios\//i.test(t)}function Gx(t=on()){return/iemobile/i.test(t)}function Wx(t=on()){return/android/i.test(t)}function Yx(t=on()){return/blackberry/i.test(t)}function Xx(t=on()){return/webos/i.test(t)}function X0(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function b8(t=on()){var e;return X0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w8(){return LI()&&document.documentMode===10}function Kx(t=on()){return X0(t)||Wx(t)||Xx(t)||Yx(t)||/windows phone/i.test(t)||Gx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t,e=[]){let n;switch(t){case"Browser":n=M2(on());break;case"Worker":n=`${M2(on())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ro}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(t,e={}){return $r(t,"GET","/v2/passwordPolicy",Hr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=6;class T8{constructor(e){var n,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:S8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I2(this),this.idTokenSubscription=new I2(this),this.beforeStateQueue=new E8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zx(this,{idToken:e}),i=await Er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ki(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ki(this.app))return Promise.reject(xr(this));const n=e?lt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ki(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C8(this),n=new T8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dd("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await y8(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&n8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ea(t){return lt(t)}class I2{constructor(e){this.auth=e,this.observer=null,this.addObserver=VI(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A8(t){fm=t}function Zx(t){return fm.loadJS(t)}function R8(){return fm.recaptchaEnterpriseScript}function O8(){return fm.gapiScript}function N8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const M8="recaptcha-enterprise",I8="NO_RECAPTCHA";class D8{constructor(e){this.type=M8,this.auth=ea(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{d8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new u8(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function r(s,a,o){const l=window.grecaptcha;A2(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(I8)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{i(this.auth).then(o=>{if(!n&&A2(window.grecaptcha))r(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=R8();l.length!==0&&(l+=o),Zx(l).then(()=>{r(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function D2(t,e,n,i=!1){const r=new D8(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Oh(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await D2(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await D2(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t,e){const n=dm(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Th(s,e??{}))return r;_i(r,"already-initialized")}return n.initialize({options:e})}function L8(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function U8(t,e,n){const i=ea(t);me(i._canInitEmulator,i,"emulator-config-failed"),me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=Jx(e),{host:a,port:o}=P8(e),l=o===null?"":`:${o}`;i.config.emulator={url:`${s}//${a}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),j8()}function Jx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P8(t){const e=Jx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:k2(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:k2(a)}}}function k2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function B8(t,e){return $r(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e){return hd(t,"POST","/v1/accounts:signInWithPassword",Hr(t,e))}async function H8(t,e){return $r(t,"POST","/v1/accounts:sendOobCode",Hr(t,e))}async function $8(t,e){return H8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F8(t,e){return hd(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))}async function V8(t,e){return hd(t,"POST","/v1/accounts:signInWithEmailLink",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends K0{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Mu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Mu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,n,"signInWithPassword",z8);case"emailLink":return F8(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oh(e,i,"signUpPassword",B8);case"emailLink":return V8(e,{idToken:n,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t,e){return hd(t,"POST","/v1/accounts:signInWithIdp",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="http://localhost";class $a extends K0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=q0(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new $a(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return il(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,il(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,il(e,n)}buildRequest(){const e={requestUri:q8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W8(t){const e=Rc(Oc(t)).link,n=e?Rc(Oc(e)).deep_link_id:null,i=Rc(Oc(t)).deep_link_id;return(i?Rc(Oc(i)).link:null)||i||n||e||t}class Q0{constructor(e){var n,i,r,s,a,o;const l=Rc(Oc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(i=l.oobCode)!==null&&i!==void 0?i:null,d=G8((r=l.mode)!==null&&r!==void 0?r:null);me(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=W8(e);try{return new Q0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(e,n){return Mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Q0.parseLink(n);return me(i,"argument-error"),Mu._fromEmailAndCode(e,i.code,i.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends e3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends pd{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $a._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ls.credential(n,i)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends pd{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends pd{constructor(){super("twitter.com")}static credential(e,n){return $a._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return us.credential(n,i)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y8(t,e){return hd(t,"POST","/v1/accounts:signUp",Hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Er._fromIdTokenResponse(e,i,r),a=L2(i);return new Fa({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=L2(i);return new Fa({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function L2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Ki{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Nh(e,n,i,r)}}function t3(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(t,s,e,i):s})}async function X8(t,e,n=!1){const i=await Nu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fa._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(t,e,n=!1){const{auth:i}=t;if(ki(i.app))return Promise.reject(xr(i));const r="reauthenticate";try{const s=await Nu(t,t3(i,r,e,t),n);me(s.idToken,i,"internal-error");const a=Y0(s.idToken);me(a,i,"internal-error");const{sub:o}=a;return me(t.uid===o,i,"user-mismatch"),Fa._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_i(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e,n=!1){if(ki(t.app))return Promise.reject(xr(t));const i="signIn",r=await t3(t,i,e),s=await Fa._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function Q8(t,e){return n3(ea(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t){const e=ea(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Z8(t,e,n){const i=ea(t);await Oh(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$8)}async function J8(t,e,n){if(ki(t.app))return Promise.reject(xr(t));const i=ea(t),a=await Oh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Y8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&i3(t),l}),o=await Fa._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function eD(t,e,n){return ki(t.app)?Promise.reject(xr(t)):Q8(lt(t),Fl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&i3(t),i})}function tD(t,e,n,i){return lt(t).onIdTokenChanged(e,n,i)}function nD(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function iD(t,e,n,i){return lt(t).onAuthStateChanged(e,n,i)}function rD(t){return lt(t).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=1e3,aD=10;class s3 extends r3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);w8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,aD):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},sD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s3.type="LOCAL";const oD=s3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3 extends r3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a3.type="SESSION";const o3=a3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new hm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await lD(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=Z0("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return window}function uD(t){Fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function dD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hD(){return l3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="firebaseLocalStorageDb",pD=1,Ih="firebaseLocalStorage",u3="fbase_key";class md{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pm(t,e){return t.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function mD(){const t=indexedDB.deleteDatabase(c3);return new md(t).toPromise()}function Iv(){const t=indexedDB.open(c3,pD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ih,{keyPath:u3})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ih)?e(i):(i.close(),await mD(),e(await Iv()))})})}async function U2(t,e,n){const i=pm(t,!0).put({[u3]:e,value:n});return new md(i).toPromise()}async function gD(t,e){const n=pm(t,!1).get(e),i=await new md(n).toPromise();return i===void 0?null:i.value}function P2(t,e){const n=pm(t,!0).delete(e);return new md(n).toPromise()}const _D=800,vD=3;class d3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>vD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hm._getInstance(hD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dD(),!this.activeServiceWorker)return;this.sender=new cD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iv();return await U2(e,Mh,"1"),await P2(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>U2(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>gD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=pm(r,!1).getAll();return new md(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d3.type="LOCAL";const yD=d3;new fd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e){return e?Cr(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends K0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,n){return il(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wD(t){return n3(t.auth,new J0(t),t.bypassAuthState)}function ED(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),K8(n,new J0(t),t.bypassAuthState)}async function CD(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),X8(n,new J0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wD;case"linkViaPopup":case"linkViaRedirect":return CD;case"reauthViaPopup":case"reauthViaRedirect":return ED;default:_i(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new fd(2e3,1e4);class Ho extends f3{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=Z0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SD.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="pendingRedirect",Nf=new Map;class xD extends f3{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Nf.get(this.auth._key());if(!e){try{const i=await AD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Nf.set(this.auth._key(),e)}return this.bypassAuthState||Nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AD(t,e){const n=ND(e),i=OD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function RD(t,e){Nf.set(t._key(),e)}function OD(t){return Cr(t._redirectPersistence)}function ND(t){return Of(TD,t.config.apiKey,t.name)}async function MD(t,e,n=!1){if(ki(t.app))return Promise.reject(xr(t));const i=ea(t),r=bD(i,e),a=await new xD(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=10*60*1e3;class DD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!h3(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError($i(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ID&&this.cachedEventUids.clear(),this.cachedEventUids.has(j2(e))}saveEventToCache(e){this.cachedEventUids.add(j2(e)),this.lastProcessedEventTime=Date.now()}}function j2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function h3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t,e={}){return $r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PD=/^https?/;async function jD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LD(t);for(const n of e)try{if(BD(n))return}catch{}_i(t,"unauthorized-domain")}function BD(t){const e=Nv(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!PD.test(n))return!1;if(UD.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new fd(3e4,6e4);function B2(){const t=Fi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HD(t){return new Promise((e,n)=>{var i,r,s;function a(){B2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B2(),n($i(t,"network-request-failed"))},timeout:zD.get()})}if(!((r=(i=Fi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Fi().gapi)===null||s===void 0)&&s.load)a();else{const o=N8("iframefcb");return Fi()[o]=()=>{gapi.load?a():n($i(t,"network-request-failed"))},Zx(`${O8()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function $D(t){return Mf=Mf||HD(t),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new fd(5e3,15e3),VD="__/auth/iframe",qD="emulator/auth/iframe",GD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YD(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?W0(e,qD):`https://${t.config.authDomain}/${VD}`,i={apiKey:e.apiKey,appName:t.name,v:ro},r=WD.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${$l(i).slice(1)}`}async function XD(t){const e=await $D(t),n=Fi().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:YD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GD,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=$i(t,"network-request-failed"),o=Fi().setTimeout(()=>{s(a)},FD.get());function l(){Fi().clearTimeout(o),r(i)}i.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QD=500,ZD=600,JD="_blank",ek="http://localhost";class z2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tk(t,e,n,i=QD,r=ZD){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},KD),{width:i.toString(),height:r.toString(),top:s,left:a}),u=on().toLowerCase();n&&(o=qx(u)?JD:n),Fx(u)&&(e=e||ek,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(b8(u)&&o!=="_self")return nk(e||"",o),new z2(null);const d=window.open(e||"",o,c);me(d,t,"popup-blocked");try{d.focus()}catch{}return new z2(d)}function nk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="__/auth/handler",rk="emulator/auth/handler",sk=encodeURIComponent("fac");async function H2(t,e,n,i,r,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ro,eventId:r};if(e instanceof e3){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Ch(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))a[c]=d}if(e instanceof pd){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await t._getAppCheckToken(),u=l?`#${sk}=${encodeURIComponent(l)}`:"";return`${ak(t)}?${$l(o).slice(1)}${u}`}function ak({config:t}){return t.emulator?W0(t,rk):`https://${t.authDomain}/${ik}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="webStorageSupport";class ok{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o3,this._completeRedirectFn=MD,this._overrideRedirectResult=RD}async _openPopup(e,n,i,r){var s;Ur((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await H2(e,n,i,Nv(),r);return tk(e,a,Z0())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await H2(e,n,i,Nv(),r);return uD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Ur(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await XD(e),i=new DD(e);return n.register("authEvent",r=>(me(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dg,{type:Dg},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Dg];a!==void 0&&n(!!a),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kx()||Vx()||X0()}}const lk=ok;var $2="@firebase/auth",F2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dk(t){Ha(new Hs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;me(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qx(t)},u=new x8(i,r,s,l);return L8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ha(new Hs("auth-internal",e=>{const n=ea(e.getProvider("auth").getImmediate());return(i=>new ck(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi($2,F2,uk(t)),Hi($2,F2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=5*60,hk=Sx("authIdTokenMaxAge")||fk;let V2=null;const pk=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>hk)return;const r=n==null?void 0:n.token;V2!==r&&(V2=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ey(t=V0()){const e=dm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k8(t,{popupRedirectResolver:lk,persistence:[yD,oD,o3]}),i=Sx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=pk(s.toString());nD(n,a,()=>a(n.currentUser)),tD(n,o=>a(o))}}const r=wx("auth");return r&&U8(n,`http://${r}`),n}function mk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}A8({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=$i("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",mk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dk("Browser");var p3={exports:{}},m3={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=x;function gk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _k=typeof Object.is=="function"?Object.is:gk,vk=gd.useSyncExternalStore,yk=gd.useRef,bk=gd.useEffect,wk=gd.useMemo,Ek=gd.useDebugValue;m3.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var s=yk(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=wk(function(){function l(h){if(!u){if(u=!0,c=h,h=i(h),r!==void 0&&a.hasValue){var p=a.value;if(r(p,h))return d=p}return d=h}if(p=d,_k(c,h))return p;var v=i(h);return r!==void 0&&r(p,v)?(c=h,p):(c=h,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,i,r]);var o=vk(t,s[0],s[1]);return bk(function(){a.hasValue=!0,a.value=o},[o]),Ek(o),o};p3.exports=m3;var Ck=p3.exports,xn="default"in R_?ne:R_,q2=Symbol.for("react-redux-context"),G2=typeof globalThis<"u"?globalThis:{};function Sk(){if(!xn.createContext)return{};const t=G2[q2]??(G2[q2]=new Map);let e=t.get(xn.createContext);return e||(e=xn.createContext(null),t.set(xn.createContext,e)),e}var $s=Sk(),Tk=()=>{throw new Error("uSES not initialized!")};function ty(t=$s){return function(){return xn.useContext(t)}}var g3=ty(),_3=Tk,xk=t=>{_3=t},Ak=(t,e)=>t===e;function Rk(t=$s){const e=t===$s?g3:ty(t),n=(i,r={})=>{const{equalityFn:s=Ak,devModeChecks:a={}}=typeof r=="function"?{equalityFn:r}:r,{store:o,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=e();xn.useRef(!0);const f=xn.useCallback({[i.name](p){return i(p)}}[i.name],[i,c,a.stabilityCheck]),h=_3(l.addNestedSub,o.getState,u||o.getState,f,s);return xn.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var _d=Rk();function Ok(t){t()}function Nk(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Ok(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!i||t===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var W2={notify(){},get:()=>[]};function Mk(t,e){let n,i=W2,r=0,s=!1;function a(v){c();const y=i.subscribe(v);let m=!1;return()=>{m||(m=!0,y(),d())}}function o(){i.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return s}function c(){r++,n||(n=t.subscribe(l),i=Nk())}function d(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=W2)}function f(){s||(s=!0,c())}function h(){s&&(s=!1,d())}const p={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>i};return p}var Ik=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dk=typeof navigator<"u"&&navigator.product==="ReactNative",kk=Ik||Dk?xn.useLayoutEffect:xn.useEffect;function Lk({store:t,context:e,children:n,serverState:i,stabilityCheck:r="once",identityFunctionCheck:s="once"}){const a=xn.useMemo(()=>{const u=Mk(t);return{store:t,subscription:u,getServerState:i?()=>i:void 0,stabilityCheck:r,identityFunctionCheck:s}},[t,i,r,s]),o=xn.useMemo(()=>t.getState(),[t]);kk(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=e||$s;return xn.createElement(l.Provider,{value:a},n)}var Uk=Lk;function v3(t=$s){const e=t===$s?g3:ty(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var Pk=v3();function jk(t=$s){const e=t===$s?Pk:v3(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Ln=jk();xk(Ck.useSyncExternalStoreWithSelector);var Bk="firebase",zk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(Bk,zk,"app");var Y2={};const X2="@firebase/database",K2="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y3="";function Hk(t){y3=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ot(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ru(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Qi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $k(e)}}catch{}return new Fk},Ca=b3("localStorage"),Vk=b3("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new $0("@firebase/database"),qk=function(){let t=1;return function(){return t++}}(),w3=function(t){const e=WI(t),n=new FI;n.update(e);const i=n.digest();return B0.encodeByteArray(i)},vd=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=vd.apply(null,i):typeof i=="object"?e+=Ot(i):e+=i,e+=" "}return e};let Xc=null,Q2=!0;const Gk=function(t,e){ee(!e,"Can't turn on custom loggers persistently."),rl.logLevel=je.VERBOSE,Xc=rl.log.bind(rl)},Ut=function(...t){if(Q2===!0&&(Q2=!1,Xc===null&&Vk.get("logging_enabled")===!0&&Gk()),Xc){const e=vd.apply(null,t);Xc(e)}},yd=function(t){return function(...e){Ut(t,...e)}},Dv=function(...t){const e="FIREBASE INTERNAL ERROR: "+vd(...t);rl.error(e)},Pr=function(...t){const e=`FIREBASE FATAL ERROR: ${vd(...t)}`;throw rl.error(e),new Error(e)},an=function(...t){const e="FIREBASE WARNING: "+vd(...t);rl.warn(e)},Wk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&an("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Yk=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Fs="[MIN_NAME]",Vs="[MAX_NAME]",so=function(t,e){if(t===e)return 0;if(t===Fs||e===Vs)return-1;if(e===Fs||t===Vs)return 1;{const n=Z2(t),i=Z2(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Xk=function(t,e){return t===e?0:t<e?-1:1},cc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ot(e))},ny=function(t){if(typeof t!="object"||t===null)return Ot(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ot(e[i]),n+=":",n+=ny(t[e[i]]);return n+="}",n},E3=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Bt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const C3=function(t){ee(!mm(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,a,o,l;t===0?(s=0,a=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=o+i,a=Math.round(t*Math.pow(2,n-o)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Kk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Qk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Zk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const Jk=new RegExp("^-?(0*)\\d{1,10}$"),e9=-2147483648,t9=2147483647,Z2=function(t){if(Jk.test(t)){const e=Number(t);if(e>=e9&&e<=t9)return e}return null},Vl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw an("Exception was thrown by user callback.",n),e},Math.floor(0))}},n9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Kc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){an(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',an(e)}}class If{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}If.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="5",S3="v",T3="s",x3="r",A3="f",R3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,O3="ls",N3="p",kv="ac",M3="websocket",I3="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,i,r,s=!1,a="",o=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ca.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ca.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function s9(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function k3(t,e,n){ee(typeof e=="string","typeof type must == string"),ee(typeof n=="object","typeof params must == object");let i;if(e===M3)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===I3)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);s9(t)&&(n.ns=t.namespace);const r=[];return Bt(n,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.counters_={}}incrementCounter(e,n=1){Qi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return AI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg={},Lg={};function ry(t){const e=t.toString();return kg[e]||(kg[e]=new a9),kg[e]}function o9(t,e){const n=t.toString();return Lg[n]||(Lg[n]=e()),Lg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Vl(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="start",c9="close",u9="pLPCommand",d9="pRTLPCB",L3="id",U3="pw",P3="ser",f9="cb",h9="seg",p9="ts",m9="d",g9="dframe",j3=1870,B3=30,_9=j3-B3,v9=25e3,y9=3e4;class $o{constructor(e,n,i,r,s,a,o){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yd(e),this.stats_=ry(n),this.urlFn=l=>(this.appCheckToken&&(l[kv]=this.appCheckToken),k3(n,I3,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new l9(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(y9)),Yk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sy((...s)=>{const[a,o,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===J2)this.id=o,this.password=l;else if(a===c9)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const i={};i[J2]="t",i[P3]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[f9]=this.scriptTagHolder.uniqueCallbackIdentifier),i[S3]=iy,this.transportSessionId&&(i[T3]=this.transportSessionId),this.lastSessionId&&(i[O3]=this.lastSessionId),this.applicationId&&(i[N3]=this.applicationId),this.appCheckToken&&(i[kv]=this.appCheckToken),typeof location<"u"&&location.hostname&&R3.test(location.hostname)&&(i[x3]=A3);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$o.forceAllow_=!0}static forceDisallow(){$o.forceDisallow_=!0}static isAvailable(){return $o.forceAllow_?!0:!$o.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Kk()&&!Qk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=yx(n),r=E3(i,_9);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[g9]="t",i[L3]=e,i[U3]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ot(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class sy{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qk(),window[u9+this.uniqueCallbackIdentifier]=e,window[d9+this.uniqueCallbackIdentifier]=n,this.myIFrame=sy.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){Ut("frame writing exception"),o.stack&&Ut(o.stack),Ut(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ut("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[L3]=this.myID,e[U3]=this.myPW,e[P3]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+B3+i.length<=j3;){const a=this.pendingSegs.shift();i=i+"&"+h9+r+"="+a.seg+"&"+p9+r+"="+a.ts+"&"+m9+r+"="+a.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(v9)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=16384,w9=45e3;let Dh=null;typeof MozWebSocket<"u"?Dh=MozWebSocket:typeof WebSocket<"u"&&(Dh=WebSocket);class di{constructor(e,n,i,r,s,a,o){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yd(this.connId),this.stats_=ry(n),this.connURL=di.connectionURL_(n,a,o,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const a={};return a[S3]=iy,typeof location<"u"&&location.hostname&&R3.test(location.hostname)&&(a[x3]=A3),n&&(a[T3]=n),i&&(a[O3]=i),r&&(a[kv]=r),s&&(a[N3]=s),k3(e,M3,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ca.set("previous_websocket_failure",!0);try{let i;Ax(),this.mySock=new Dh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Dh!==null&&!di.forceDisallow_}static previouslyFailed(){return Ca.isInMemoryStorage||Ca.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ca.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ru(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ee(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=E3(n,b9);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(w9))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}di.responsesRequiredToBeHealthy=2;di.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[$o,di]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=di&&di.isAvailable();let i=n&&!di.previouslyFailed();if(e.webSocketOnly&&(n||an("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[di];else{const r=this.transports_=[];for(const s of Iu.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Iu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Iu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=6e4,C9=5e3,S9=10*1024,T9=100*1024,Ug="t",eE="d",x9="s",tE="r",A9="e",nE="o",iE="a",rE="n",sE="p",R9="h";class O9{constructor(e,n,i,r,s,a,o,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yd("c:"+this.id+":"),this.transportManager_=new Iu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Kc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>T9?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>S9?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ug in e){const n=e[Ug];n===iE?this.upgradeIfSecondaryHealthy_():n===tE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===nE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=cc("t",e),i=cc("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:iE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=cc("t",e),i=cc("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=cc(Ug,e);if(eE in e){const i=e[eE];if(n===R9){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===rE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===x9?this.onConnectionShutdown_(i):n===tE?this.onReset_(i):n===A9?Dv("Server Error: "+i):n===nE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),iy!==i&&an("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Kc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(E9))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(C9))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ca.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.allowedEvents_=e,this.listeners_={},ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){ee(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends H3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!H0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new kh}getInitialEvent(e){return ee(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=32,oE=768;let Le=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function De(){return new Le("")}function Ce(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qs(t){return t.pieces_.length-t.pieceNum_}function He(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Le(t.pieces_,e)}function ay(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function N9(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Du(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function $3(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Le(e,0)}function st(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Le)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Le(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function rn(t,e){const n=Ce(t),i=Ce(e);if(n===null)return e;if(n===i)return rn(He(t),He(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function M9(t,e){const n=Du(t,0),i=Du(e,0);for(let r=0;r<n.length&&r<i.length;r++){const s=so(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function oy(t,e){if(qs(t)!==qs(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function ei(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(qs(t)>qs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class I9{constructor(e,n){this.errorPrefix_=n,this.parts_=Du(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=um(this.parts_[i]);F3(this)}}function D9(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=um(e),F3(t)}function k9(t){const e=t.parts_.pop();t.byteLength_-=um(e),t.parts_.length>0&&(t.byteLength_-=1)}function F3(t){if(t.byteLength_>oE)throw new Error(t.errorPrefix_+"has a key path longer than "+oE+" bytes ("+t.byteLength_+").");if(t.parts_.length>aE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+aE+") or object contains a cycle "+pa(t))}function pa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends H3{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new ly}getInitialEvent(e){return ee(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=1e3,L9=60*5*1e3,lE=30*1e3,U9=1.3,P9=3e4,j9="server_kill",cE=3;class Ar extends z3{constructor(e,n,i,r,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=Ar.nextPersistentConnectionId_++,this.log_=yd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uc,this.maxReconnectDelay_=L9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Ax())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ly.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&kh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(Ot(s)),ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Ii,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ee(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},a="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,u=o.s;Ar.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",o),u!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Qi(e,"w")){const i=yl(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();an(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||$I(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=HI(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,a=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},a="n";r&&(s.q=i,s.t=r),this.sendRequest(a,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{r&&setTimeout(()=>{r(a.s,a.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const a={p:n,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ot(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Dv("Unrecognized action received from server: "+Ot(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>P9&&(this.reconnectDelay_=uc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*U9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ar.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,i())},u=function(d){ee(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);a?Ut("getToken() completed but was canceled"):(Ut("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,o=new O9(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,h=>{an(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(j9)},s))}catch(d){this.log_("Failed to get token: "+d),a||(this.repoInfo_.nodeAdmin&&an(d),l())}}}interrupt(e){Ut("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ut("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ch(this.interruptReasons_)&&(this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>ny(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Le(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){Ut("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=cE&&(this.reconnectDelay_=lE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ut("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=cE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+y3.replace(/\./g,"-")]=1,H0()?e["framework.cordova"]=1:xx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=kh.getInstance().currentlyOnline();return Ch(this.interruptReasons_)&&e}}Ar.nextPersistentConnectionId_=0;Ar.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new xe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new xe(Fs,e),r=new xe(Fs,n);return this.compare(i,r)!==0}minPost(){return xe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd;class V3 extends gm{static get __EMPTY_NODE(){return Kd}static set __EMPTY_NODE(e){Kd=e}compare(e,n){return so(e.name,n.name)}isDefinedOn(e){throw Hl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return xe.MIN}maxPost(){return new xe(Vs,Kd)}makePost(e,n){return ee(typeof e=="string","KeyIndex indexValue must always be a string."),new xe(e,Kd)}toString(){return".key"}}const Rr=new V3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?i(e.key,n):1,r&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class kt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??kt.RED,this.left=r??gn.EMPTY_NODE,this.right=s??gn.EMPTY_NODE}copy(e,n,i,r,s){return new kt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return gn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return gn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}kt.RED=!0;kt.BLACK=!1;class B9{copy(e,n,i,r,s){return this}insert(e,n,i){return new kt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gn{constructor(e,n=gn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(e){return new gn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qd(this.root_,null,this.comparator_,!0,e)}}gn.EMPTY_NODE=new B9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t,e){return so(t.name,e.name)}function cy(t,e){return so(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv;function H9(t){Lv=t}const q3=function(t){return typeof t=="number"?"number:"+C3(t):"string:"+t},G3=function(t){if(t.isLeafNode()){const e=t.val();ee(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Qi(e,".sv"),"Priority must be a string or number.")}else ee(t===Lv||t.isEmpty(),"priority of unexpected type.");ee(t===Lv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uE;class Mt{constructor(e,n=Mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ee(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),G3(this.priorityNode_)}static set __childrenNodeConstructor(e){uE=e}static get __childrenNodeConstructor(){return uE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Mt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:Ce(e)===".priority"?this.priorityNode_:Mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Ce(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(ee(i!==".priority"||qs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+q3(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=C3(this.value_):e+=this.value_,this.lazyHash_=w3(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Mt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Mt.__childrenNodeConstructor?-1:(ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Mt.VALUE_TYPE_ORDER.indexOf(n),s=Mt.VALUE_TYPE_ORDER.indexOf(i);return ee(r>=0,"Unknown leaf type: "+n),ee(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W3,Y3;function $9(t){W3=t}function F9(t){Y3=t}class V9 extends gm{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?so(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return xe.MIN}maxPost(){return new xe(Vs,new Mt("[PRIORITY-POST]",Y3))}makePost(e,n){const i=W3(e);return new xe(n,new Mt("[PRIORITY-POST]",i))}toString(){return".priority"}}const nt=new V9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=Math.log(2);class G9{constructor(e){const n=s=>parseInt(Math.log(s)/q9,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lh=function(t,e,n,i){t.sort(e);const r=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new kt(f,d.node,kt.BLACK,null,null);{const h=parseInt(c/2,10)+l,p=r(l,h),v=r(h+1,u);return d=t[h],f=n?n(d):d,new kt(f,d.node,kt.BLACK,p,v)}},s=function(l){let u=null,c=null,d=t.length;const f=function(p,v){const y=d-p,m=d;d-=p;const g=r(y+1,m),_=t[y],b=n?n(_):_;h(new kt(b,_.node,v,null,g))},h=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const v=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));v?f(y,kt.BLACK):(f(y,kt.BLACK),f(y,kt.RED))}return c},a=new G9(t.length),o=s(a);return new gn(i||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg;const ho={};class Sr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ee(ho&&nt,"ChildrenNode.ts has not been loaded"),Pg=Pg||new Sr({".priority":ho},{".priority":nt}),Pg}get(e){const n=yl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gn?n:null}hasIndex(e){return Qi(this.indexSet_,e.toString())}addIndex(e,n){ee(e!==Rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(xe.Wrap);let a=s.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=s.getNext();let o;r?o=Lh(i,e.getCompare()):o=ho;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=o,new Sr(c,u)}addToIndexes(e,n){const i=Sh(this.indexes_,(r,s)=>{const a=yl(this.indexSet_,s);if(ee(a,"Missing index implementation for "+s),r===ho)if(a.isDefinedOn(e.node)){const o=[],l=n.getIterator(xe.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&o.push(u),u=l.getNext();return o.push(e),Lh(o,a.getCompare())}else return ho;else{const o=n.get(e.name);let l=r;return o&&(l=l.remove(new xe(e.name,o))),l.insert(e,e.node)}});return new Sr(i,this.indexSet_)}removeFromIndexes(e,n){const i=Sh(this.indexes_,r=>{if(r===ho)return r;{const s=n.get(e.name);return s?r.remove(new xe(e.name,s)):r}});return new Sr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc;class pe{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&G3(this.priorityNode_),this.children_.isEmpty()&&ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return dc||(dc=new pe(new gn(cy),null,Sr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||dc}updatePriority(e){return this.children_.isEmpty()?this:new pe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?dc:n}}getChild(e){const n=Ce(e);return n===null?this:this.getImmediateChild(n).getChild(He(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ee(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new xe(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const a=r.isEmpty()?dc:this.priorityNode_;return new pe(r,a,s)}}updateChild(e,n){const i=Ce(e);if(i===null)return n;{ee(Ce(e)!==".priority"||qs(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(He(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(nt,(a,o)=>{n[a]=o.val(e),i++,s&&pe.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):s=!1}),!e&&s&&r<2*i){const a=[];for(const o in n)a[o]=n[o];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+q3(this.getPriority().val())+":"),this.forEachChild(nt,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":w3(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new xe(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new xe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new xe(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,xe.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,xe.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bd?-1:0}withIndex(e){if(e===Rr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new pe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Rr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(nt),r=n.getIterator(nt);let s=i.getNext(),a=r.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=r.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Rr?null:this.indexMap_.get(e.toString())}}pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class W9 extends pe{constructor(){super(new gn(cy),pe.EMPTY_NODE,Sr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pe.EMPTY_NODE}isEmpty(){return!1}}const bd=new W9;Object.defineProperties(xe,{MIN:{value:new xe(Fs,pe.EMPTY_NODE)},MAX:{value:new xe(Vs,bd)}});V3.__EMPTY_NODE=pe.EMPTY_NODE;Mt.__childrenNodeConstructor=pe;H9(bd);F9(bd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=!0;function pt(t,e=null){if(t===null)return pe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ee(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Mt(n,pt(e))}if(!(t instanceof Array)&&Y9){const n=[];let i=!1;if(Bt(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=pt(o);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new xe(a,l)))}}),n.length===0)return pe.EMPTY_NODE;const s=Lh(n,z9,a=>a.name,cy);if(i){const a=Lh(n,nt.getCompare());return new pe(s,pt(e),new Sr({".priority":a},{".priority":nt}))}else return new pe(s,pt(e),Sr.Default)}else{let n=pe.EMPTY_NODE;return Bt(t,(i,r)=>{if(Qi(t,i)&&i.substring(0,1)!=="."){const s=pt(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(pt(e))}}$9(pt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends gm{constructor(e){super(),this.indexPath_=e,ee(!Se(e)&&Ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?so(e.name,n.name):s}makePost(e,n){const i=pt(e),r=pe.EMPTY_NODE.updateChild(this.indexPath_,i);return new xe(n,r)}maxPost(){const e=pe.EMPTY_NODE.updateChild(this.indexPath_,bd);return new xe(Vs,e)}toString(){return Du(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9 extends gm{compare(e,n){const i=e.node.compareTo(n.node);return i===0?so(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return xe.MIN}maxPost(){return xe.MAX}makePost(e,n){const i=pt(e);return new xe(n,i)}toString(){return".value"}}const X3=new X9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){return{type:"value",snapshotNode:t}}function wl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ku(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Lu(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function K9(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this.index_=e}updateChild(e,n,i,r,s,a){ee(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(n);return o.getChild(r).equals(i.getChild(r))&&o.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?e.hasChild(n)?a.trackChildChange(ku(n,o)):ee(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(wl(n,i)):a.trackChildChange(Lu(n,i,o))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(nt,(r,s)=>{n.hasChild(r)||i.trackChildChange(ku(r,s))}),n.isLeafNode()||n.forEachChild(nt,(r,s)=>{if(e.hasChild(r)){const a=e.getImmediateChild(r);a.equals(s)||i.trackChildChange(Lu(r,s,a))}else i.trackChildChange(wl(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?pe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.indexedFilter_=new dy(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Uu.getStartPost_(e),this.endPost_=Uu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,a){return this.matches(new xe(n,i))||(i=pe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,a)}updateFullNode(e,n,i){n.isLeafNode()&&(n=pe.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(pe.EMPTY_NODE);const s=this;return n.forEachChild(nt,(a,o)=>{s.matches(new xe(a,o))||(r=r.updateImmediateChild(a,pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Uu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,a){return this.rangedFilter_.matches(new xe(n,i))||(i=pe.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,a):this.fullLimitUpdateChild_(e,n,i,s,a)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=pe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=pe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))r=r.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(pe.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:r=r.updateImmediateChild(o.name,pe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let a;if(this.reverse_){const d=this.index_.getCompare();a=(f,h)=>d(h,f)}else a=this.index_.getCompare();const o=e;ee(o.numChildren()===this.limit_,"");const l=new xe(n,i),u=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(o.hasChild(n)){const d=o.getImmediateChild(n);let f=r.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||o.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:a(f,l);if(c&&!i.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(Lu(n,i,d)),o.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(ku(n,d));const v=o.updateImmediateChild(n,pe.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(wl(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return i.isEmpty()?e:c&&a(u,l)>=0?(s!=null&&(s.trackChildChange(ku(u.name,u.node)),s.trackChildChange(wl(n,i))),o.updateImmediateChild(n,i).updateImmediateChild(u.name,pe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fs}hasEnd(){return this.endSet_}getIndexEndValue(){return ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nt}copy(){const e=new fy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Z9(t){return t.loadsAllData()?new dy(t.getIndex()):t.hasLimit()?new Q9(t):new Uu(t)}function J9(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function eL(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function tL(t,e,n){const i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Uv(t,e,n){const i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function nL(t,e,n){let i;return t.index_===Rr||n?i=Uv(t,e,n):i=Uv(t,e,Fs),i.endBeforeSet_=!0,i}function Q3(t,e){const n=t.copy();return n.index_=e,n}function dE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===nt?n="$priority":t.index_===X3?n="$value":t.index_===Rr?n="$key":(ee(t.index_ instanceof uy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ot(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ot(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ot(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ot(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ot(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function fE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==nt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends z3{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=yd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Uh.getListenId_(e,i),o={};this.listens_[a]=o;const l=dE(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,i),yl(this.listens_,a)===o){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",r(f,null)}})}unlisten(e,n){const i=Uh.getListenId_(e,n);delete this.listens_[i]}get(e){const n=dE(e._queryParams),i=e._path.toString(),r=new Ii;return this.restRequest_(i+".json",n,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(i,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+$l(n);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=Ru(o.responseText)}catch{an("Failed to parse JSON response for "+a+": "+o.responseText)}i(null,l)}else o.status!==401&&o.status!==404&&an("Got unsuccessful REST response for "+a+" Status: "+o.status),i(o.status);i=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.rootNode_=pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(){return{value:null,children:new Map}}function ql(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Ce(e);t.children.has(i)||t.children.set(i,Ph());const r=t.children.get(i);e=He(e),ql(r,e,n)}}function Pv(t,e){if(Se(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(nt,(i,r)=>{ql(t,new Le(i),r)}),Pv(t,e)}}else if(t.children.size>0){const n=Ce(e);return e=He(e),t.children.has(n)&&Pv(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function jv(t,e,n){t.value!==null?n(e,t.value):rL(t,(i,r)=>{const s=new Le(e.toString()+"/"+i);jv(r,s,n)})}function rL(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Bt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=10*1e3,aL=30*1e3,oL=5*60*1e3;class lL{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new sL(e);const i=hE+(aL-hE)*Math.random();Kc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Bt(e,(r,s)=>{s>0&&Qi(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Kc(this.reportStats_.bind(this),Math.floor(Math.random()*2*oL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pi||(pi={}));function hy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function py(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function my(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=pi.ACK_USER_WRITE,this.source=hy()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Le(e));return new jh(De(),n,this.revert)}}else return ee(Ce(this.path)===e,"operationForChild called for unrelated child."),new jh(He(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.source=e,this.path=n,this.type=pi.LISTEN_COMPLETE}operationForChild(e){return Se(this.path)?new Pu(this.source,De()):new Pu(this.source,He(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=pi.OVERWRITE}operationForChild(e){return Se(this.path)?new Va(this.source,De(),this.snap.getImmediateChild(e)):new Va(this.source,He(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=pi.MERGE}operationForChild(e){if(Se(this.path)){const n=this.children.subtree(new Le(e));return n.isEmpty()?null:n.value?new Va(this.source,De(),n.value):new El(this.source,De(),n)}else return ee(Ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new El(this.source,He(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ce(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function uL(t,e,n,i){const r=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(K9(a.childName,a.snapshotNode))}),fc(t,r,"child_removed",e,i,n),fc(t,r,"child_added",e,i,n),fc(t,r,"child_moved",s,i,n),fc(t,r,"child_changed",e,i,n),fc(t,r,"value",e,i,n),r}function fc(t,e,n,i,r,s){const a=i.filter(o=>o.type===n);a.sort((o,l)=>fL(t,o,l)),a.forEach(o=>{const l=dL(t,o,s);r.forEach(u=>{u.respondsTo(o.type)&&e.push(u.createEvent(l,t.query_))})})}function dL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fL(t,e,n){if(e.childName==null||n.childName==null)throw Hl("Should only compare child_ events.");const i=new xe(e.childName,e.snapshotNode),r=new xe(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e){return{eventCache:t,serverCache:e}}function Qc(t,e,n,i){return _m(new Gs(e,n,i),t.serverCache)}function Z3(t,e,n,i){return _m(t.eventCache,new Gs(e,n,i))}function Bh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg;const hL=()=>(jg||(jg=new gn(Xk)),jg);class qe{constructor(e,n=hL()){this.value=e,this.children=n}static fromObject(e){let n=new qe(null);return Bt(e,(i,r)=>{n=n.set(new Le(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:De(),value:this.value};if(Se(e))return null;{const i=Ce(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(He(e),n);return s!=null?{path:st(new Le(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const n=Ce(e),i=this.children.get(n);return i!==null?i.subtree(He(e)):new qe(null)}}set(e,n){if(Se(e))return new qe(n,this.children);{const i=Ce(e),s=(this.children.get(i)||new qe(null)).set(He(e),n),a=this.children.insert(i,s);return new qe(this.value,a)}}remove(e){if(Se(e))return this.children.isEmpty()?new qe(null):new qe(null,this.children);{const n=Ce(e),i=this.children.get(n);if(i){const r=i.remove(He(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new qe(null):new qe(this.value,s)}else return this}}get(e){if(Se(e))return this.value;{const n=Ce(e),i=this.children.get(n);return i?i.get(He(e)):null}}setTree(e,n){if(Se(e))return n;{const i=Ce(e),s=(this.children.get(i)||new qe(null)).setTree(He(e),n);let a;return s.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,s),new qe(this.value,a)}}fold(e){return this.fold_(De(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(st(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,De(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Se(e))return null;{const s=Ce(e),a=this.children.get(s);return a?a.findOnPath_(He(e),st(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,De(),n)}foreachOnPath_(e,n,i){if(Se(e))return this;{this.value&&i(n,this.value);const r=Ce(e),s=this.children.get(r);return s?s.foreachOnPath_(He(e),st(n,r),i):new qe(null)}}foreach(e){this.foreach_(De(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(st(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.writeTree_=e}static empty(){return new gi(new qe(null))}}function Zc(t,e,n){if(Se(e))return new gi(new qe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const a=rn(r,e);return s=s.updateChild(a,n),new gi(t.writeTree_.set(r,s))}else{const r=new qe(n),s=t.writeTree_.setTree(e,r);return new gi(s)}}}function Bv(t,e,n){let i=t;return Bt(n,(r,s)=>{i=Zc(i,st(e,r),s)}),i}function pE(t,e){if(Se(e))return gi.empty();{const n=t.writeTree_.setTree(e,new qe(null));return new gi(n)}}function zv(t,e){return ao(t,e)!=null}function ao(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(rn(n.path,e)):null}function mE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(nt,(i,r)=>{e.push(new xe(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new xe(i,r.value))}),e}function ks(t,e){if(Se(e))return t;{const n=ao(t,e);return n!=null?new gi(new qe(n)):new gi(t.writeTree_.subtree(e))}}function Hv(t){return t.writeTree_.isEmpty()}function Cl(t,e){return J3(De(),t.writeTree_,e)}function J3(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(ee(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=J3(st(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(st(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t,e){return i5(e,t)}function pL(t,e,n,i,r){ee(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Zc(t.visibleWrites,e,n)),t.lastWriteId=i}function mL(t,e,n,i){ee(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Bv(t.visibleWrites,e,n),t.lastWriteId=i}function gL(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function _L(t,e){const n=t.allWrites.findIndex(o=>o.writeId===e);ee(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,a=t.allWrites.length-1;for(;r&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=n&&vL(o,i.path)?r=!1:ei(i.path,o.path)&&(s=!0)),a--}if(r){if(s)return yL(t),!0;if(i.snap)t.visibleWrites=pE(t.visibleWrites,i.path);else{const o=i.children;Bt(o,l=>{t.visibleWrites=pE(t.visibleWrites,st(i.path,l))})}return!0}else return!1}function vL(t,e){if(t.snap)return ei(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ei(st(t.path,n),e))return!0;return!1}function yL(t){t.visibleWrites=e5(t.allWrites,bL,De()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bL(t){return t.visible}function e5(t,e,n){let i=gi.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const a=s.path;let o;if(s.snap)ei(n,a)?(o=rn(n,a),i=Zc(i,o,s.snap)):ei(a,n)&&(o=rn(a,n),i=Zc(i,De(),s.snap.getChild(o)));else if(s.children){if(ei(n,a))o=rn(n,a),i=Bv(i,o,s.children);else if(ei(a,n))if(o=rn(a,n),Se(o))i=Bv(i,De(),s.children);else{const l=yl(s.children,Ce(o));if(l){const u=l.getChild(He(o));i=Zc(i,De(),u)}}}else throw Hl("WriteRecord should have .snap or .children")}}return i}function t5(t,e,n,i,r){if(!i&&!r){const s=ao(t.visibleWrites,e);if(s!=null)return s;{const a=ks(t.visibleWrites,e);if(Hv(a))return n;if(n==null&&!zv(a,De()))return null;{const o=n||pe.EMPTY_NODE;return Cl(a,o)}}}else{const s=ks(t.visibleWrites,e);if(!r&&Hv(s))return n;if(!r&&n==null&&!zv(s,De()))return null;{const a=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(ei(u.path,e)||ei(e,u.path))},o=e5(t.allWrites,a,e),l=n||pe.EMPTY_NODE;return Cl(o,l)}}}function wL(t,e,n){let i=pe.EMPTY_NODE;const r=ao(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(nt,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(n){const s=ks(t.visibleWrites,e);return n.forEachChild(nt,(a,o)=>{const l=Cl(ks(s,new Le(a)),o);i=i.updateImmediateChild(a,l)}),mE(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const s=ks(t.visibleWrites,e);return mE(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function EL(t,e,n,i,r){ee(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=st(e,n);if(zv(t.visibleWrites,s))return null;{const a=ks(t.visibleWrites,s);return Hv(a)?r.getChild(n):Cl(a,r.getChild(n))}}function CL(t,e,n,i){const r=st(e,n),s=ao(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const a=ks(t.visibleWrites,r);return Cl(a,i.getNode().getImmediateChild(n))}else return null}function SL(t,e){return ao(t.visibleWrites,e)}function TL(t,e,n,i,r,s,a){let o;const l=ks(t.visibleWrites,e),u=ao(l,De());if(u!=null)o=u;else if(n!=null)o=Cl(l,n);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const c=[],d=a.getCompare(),f=s?o.getReverseIteratorFrom(i,a):o.getIteratorFrom(i,a);let h=f.getNext();for(;h&&c.length<r;)d(h,i)!==0&&c.push(h),h=f.getNext();return c}else return[]}function xL(){return{visibleWrites:gi.empty(),allWrites:[],lastWriteId:-1}}function zh(t,e,n,i){return t5(t.writeTree,t.treePath,e,n,i)}function gy(t,e){return wL(t.writeTree,t.treePath,e)}function gE(t,e,n,i){return EL(t.writeTree,t.treePath,e,n,i)}function Hh(t,e){return SL(t.writeTree,st(t.treePath,e))}function AL(t,e,n,i,r,s){return TL(t.writeTree,t.treePath,e,n,i,r,s)}function _y(t,e,n){return CL(t.writeTree,t.treePath,e,n)}function n5(t,e){return i5(st(t.treePath,e),t.writeTree)}function i5(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;ee(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ee(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Lu(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,ku(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,wl(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Lu(i,e.snapshotNode,r.oldSnap));else throw Hl("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const r5=new OL;class vy{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Gs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _y(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qa(this.viewCache_),s=AL(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){return{filter:t}}function ML(t,e){ee(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ee(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function IL(t,e,n,i,r){const s=new RL;let a,o;if(n.type===pi.OVERWRITE){const u=n;u.source.fromUser?a=$v(t,e,u.path,u.snap,i,r,s):(ee(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered()&&!Se(u.path),a=$h(t,e,u.path,u.snap,i,r,o,s))}else if(n.type===pi.MERGE){const u=n;u.source.fromUser?a=kL(t,e,u.path,u.children,i,r,s):(ee(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered(),a=Fv(t,e,u.path,u.children,i,r,o,s))}else if(n.type===pi.ACK_USER_WRITE){const u=n;u.revert?a=PL(t,e,u.path,i,r,s):a=LL(t,e,u.path,u.affectedTree,i,r,s)}else if(n.type===pi.LISTEN_COMPLETE)a=UL(t,e,n.path,i,s);else throw Hl("Unknown operation type: "+n.type);const l=s.getChanges();return DL(e,a,l),{viewCache:a,changes:l}}function DL(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Bh(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(K3(Bh(e)))}}function s5(t,e,n,i,r,s){const a=e.eventCache;if(Hh(i,n)!=null)return e;{let o,l;if(Se(n))if(ee(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=qa(e),c=u instanceof pe?u:pe.EMPTY_NODE,d=gy(i,c);o=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=zh(i,qa(e));o=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Ce(n);if(u===".priority"){ee(qs(n)===1,"Can't have a priority with additional path components");const c=a.getNode();l=e.serverCache.getNode();const d=gE(i,n,c,l);d!=null?o=t.filter.updatePriority(c,d):o=a.getNode()}else{const c=He(n);let d;if(a.isCompleteForChild(u)){l=e.serverCache.getNode();const f=gE(i,n,a.getNode(),l);f!=null?d=a.getNode().getImmediateChild(u).updateChild(c,f):d=a.getNode().getImmediateChild(u)}else d=_y(i,u,e.serverCache);d!=null?o=t.filter.updateChild(a.getNode(),u,d,c,r,s):o=a.getNode()}}return Qc(e,o,a.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function $h(t,e,n,i,r,s,a,o){const l=e.serverCache;let u;const c=a?t.filter:t.filter.getIndexedFilter();if(Se(n))u=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,i);u=c.updateFullNode(l.getNode(),h,null)}else{const h=Ce(n);if(!l.isCompleteForPath(n)&&qs(n)>1)return e;const p=He(n),y=l.getNode().getImmediateChild(h).updateChild(p,i);h===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),h,y,p,r5,null)}const d=Z3(e,u,l.isFullyInitialized()||Se(n),c.filtersNodes()),f=new vy(r,d,s);return s5(t,d,n,r,f,o)}function $v(t,e,n,i,r,s,a){const o=e.eventCache;let l,u;const c=new vy(r,e,s);if(Se(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,a),l=Qc(e,u,!0,t.filter.filtersNodes());else{const d=Ce(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),l=Qc(e,u,o.isFullyInitialized(),o.isFiltered());else{const f=He(n),h=o.getNode().getImmediateChild(d);let p;if(Se(f))p=i;else{const v=c.getCompleteChild(d);v!=null?ay(f)===".priority"&&v.getChild($3(f)).isEmpty()?p=v:p=v.updateChild(f,i):p=pe.EMPTY_NODE}if(h.equals(p))l=e;else{const v=t.filter.updateChild(o.getNode(),d,p,f,c,a);l=Qc(e,v,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function _E(t,e){return t.eventCache.isCompleteForChild(e)}function kL(t,e,n,i,r,s,a){let o=e;return i.foreach((l,u)=>{const c=st(n,l);_E(e,Ce(c))&&(o=$v(t,o,c,u,r,s,a))}),i.foreach((l,u)=>{const c=st(n,l);_E(e,Ce(c))||(o=$v(t,o,c,u,r,s,a))}),o}function vE(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Fv(t,e,n,i,r,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Se(n)?u=i:u=new qe(null).setTree(n,i);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=vE(t,h,f);l=$h(t,l,new Le(d),p,r,s,a,o)}}),u.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),v=vE(t,p,f);l=$h(t,l,new Le(d),v,r,s,a,o)}}),l}function LL(t,e,n,i,r,s,a){if(Hh(r,n)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(Se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $h(t,e,n,l.getNode().getChild(n),r,s,o,a);if(Se(n)){let u=new qe(null);return l.getNode().forEachChild(Rr,(c,d)=>{u=u.set(new Le(c),d)}),Fv(t,e,n,u,r,s,o,a)}else return e}else{let u=new qe(null);return i.foreach((c,d)=>{const f=st(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Fv(t,e,n,u,r,s,o,a)}}function UL(t,e,n,i,r){const s=e.serverCache,a=Z3(e,s.getNode(),s.isFullyInitialized()||Se(n),s.isFiltered());return s5(t,a,n,i,r5,r)}function PL(t,e,n,i,r,s){let a;if(Hh(i,n)!=null)return e;{const o=new vy(i,e,r),l=e.eventCache.getNode();let u;if(Se(n)||Ce(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=zh(i,qa(e));else{const d=e.serverCache.getNode();ee(d instanceof pe,"serverChildren would be complete if leaf node"),c=gy(i,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Ce(n);let d=_y(i,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,He(n),o,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,pe.EMPTY_NODE,He(n),o,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=zh(i,qa(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,s)))}return a=e.serverCache.isFullyInitialized()||Hh(i,De())!=null,Qc(e,u,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new dy(i.getIndex()),s=Z9(i);this.processor_=NL(s);const a=n.serverCache,o=n.eventCache,l=r.updateFullNode(pe.EMPTY_NODE,a.getNode(),null),u=s.updateFullNode(pe.EMPTY_NODE,o.getNode(),null),c=new Gs(l,a.isFullyInitialized(),r.filtersNodes()),d=new Gs(u,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=_m(d,c),this.eventGenerator_=new cL(this.query_)}get query(){return this.query_}}function BL(t){return t.viewCache_.serverCache.getNode()}function zL(t){return Bh(t.viewCache_)}function HL(t,e){const n=qa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(Ce(e)).isEmpty())?n.getChild(e):null}function yE(t){return t.eventRegistrations_.length===0}function $L(t,e){t.eventRegistrations_.push(e)}function bE(t,e,n){const i=[];if(n){ee(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(n,r);a&&i.push(a)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))r.push(a);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function wE(t,e,n,i){e.type===pi.MERGE&&e.source.queryId!==null&&(ee(qa(t.viewCache_),"We should always have a full cache before handling merges"),ee(Bh(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=IL(t.processor_,r,e,n,i);return ML(t.processor_,s.viewCache),ee(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,a5(t,s.changes,s.viewCache.eventCache.getNode(),null)}function FL(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(nt,(s,a)=>{i.push(wl(s,a))}),n.isFullyInitialized()&&i.push(K3(n.getNode())),a5(t,i,n.getNode(),e)}function a5(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return uL(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh;class o5{constructor(){this.views=new Map}}function VL(t){ee(!Fh,"__referenceConstructor has already been defined"),Fh=t}function qL(){return ee(Fh,"Reference.ts has not been loaded"),Fh}function GL(t){return t.views.size===0}function yy(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return ee(s!=null,"SyncTree gave us an op for an invalid query."),wE(s,e,n,i)}else{let s=[];for(const a of t.views.values())s=s.concat(wE(a,e,n,i));return s}}function l5(t,e,n,i,r){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=zh(n,r?i:null),l=!1;o?l=!0:i instanceof pe?(o=gy(n,i),l=!1):(o=pe.EMPTY_NODE,l=!1);const u=_m(new Gs(o,l,!1),new Gs(i,r,!1));return new jL(e,u)}return a}function WL(t,e,n,i,r,s){const a=l5(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),$L(a,n),FL(a,n)}function YL(t,e,n,i){const r=e._queryIdentifier,s=[];let a=[];const o=Ws(t);if(r==="default")for(const[l,u]of t.views.entries())a=a.concat(bE(u,n,i)),yE(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(r);l&&(a=a.concat(bE(l,n,i)),yE(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!Ws(t)&&s.push(new(qL())(e._repo,e._path)),{removed:s,events:a}}function c5(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ls(t,e){let n=null;for(const i of t.views.values())n=n||HL(i,e);return n}function u5(t,e){if(e._queryParams.loadsAllData())return ym(t);{const i=e._queryIdentifier;return t.views.get(i)}}function d5(t,e){return u5(t,e)!=null}function Ws(t){return ym(t)!=null}function ym(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh;function XL(t){ee(!Vh,"__referenceConstructor has already been defined"),Vh=t}function KL(){return ee(Vh,"Reference.ts has not been loaded"),Vh}let QL=1;class EE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new qe(null),this.pendingWriteTree_=xL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function f5(t,e,n,i,r){return pL(t.pendingWriteTree_,e,n,i,r),r?Gl(t,new Va(hy(),e,n)):[]}function ZL(t,e,n,i){mL(t.pendingWriteTree_,e,n,i);const r=qe.fromObject(n);return Gl(t,new El(hy(),e,r))}function vs(t,e,n=!1){const i=gL(t.pendingWriteTree_,e);if(_L(t.pendingWriteTree_,e)){let s=new qe(null);return i.snap!=null?s=s.set(De(),!0):Bt(i.children,a=>{s=s.set(new Le(a),!0)}),Gl(t,new jh(i.path,s,n))}else return[]}function wd(t,e,n){return Gl(t,new Va(py(),e,n))}function JL(t,e,n){const i=qe.fromObject(n);return Gl(t,new El(py(),e,i))}function eU(t,e){return Gl(t,new Pu(py(),e))}function tU(t,e,n){const i=wy(t,n);if(i){const r=Ey(i),s=r.path,a=r.queryId,o=rn(s,e),l=new Pu(my(a),o);return Cy(t,s,l)}else return[]}function qh(t,e,n,i,r=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||d5(a,e))){const l=YL(a,e,n,i);GL(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(o=l.events,!r){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,h)=>Ws(h));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=rU(f);for(let p=0;p<h.length;++p){const v=h[p],y=v.query,m=g5(t,v);t.listenProvider_.startListening(Jc(y),ju(t,y),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!i&&(c?t.listenProvider_.stopListening(Jc(e),null):u.forEach(f=>{const h=t.queryToTagMap.get(bm(f));t.listenProvider_.stopListening(Jc(f),h)}))}sU(t,u)}return o}function h5(t,e,n,i){const r=wy(t,i);if(r!=null){const s=Ey(r),a=s.path,o=s.queryId,l=rn(a,e),u=new Va(my(o),l,n);return Cy(t,a,u)}else return[]}function nU(t,e,n,i){const r=wy(t,i);if(r){const s=Ey(r),a=s.path,o=s.queryId,l=rn(a,e),u=qe.fromObject(n),c=new El(my(o),l,u);return Cy(t,a,c)}else return[]}function Vv(t,e,n,i=!1){const r=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(r,(f,h)=>{const p=rn(f,r);s=s||Ls(h,p),a=a||Ws(h)});let o=t.syncPointTree_.get(r);o?(a=a||Ws(o),s=s||Ls(o,De())):(o=new o5,t.syncPointTree_=t.syncPointTree_.set(r,o));let l;s!=null?l=!0:(l=!1,s=pe.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((h,p)=>{const v=Ls(p,De());v&&(s=s.updateImmediateChild(h,v))}));const u=d5(o,e);if(!u&&!e._queryParams.loadsAllData()){const f=bm(e);ee(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=aU();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const c=vm(t.pendingWriteTree_,r);let d=WL(o,e,n,c,s,l);if(!u&&!a&&!i){const f=u5(o,e);d=d.concat(oU(t,e,f))}return d}function by(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=rn(a,e),u=Ls(o,l);if(u)return u});return t5(r,e,s,n,!0)}function iU(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=rn(u,n);i=i||Ls(c,d)});let r=t.syncPointTree_.get(n);r?i=i||Ls(r,De()):(r=new o5,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,a=s?new Gs(i,!0,!1):null,o=vm(t.pendingWriteTree_,e._path),l=l5(r,e,o,s?a.getNode():pe.EMPTY_NODE,s);return zL(l)}function Gl(t,e){return p5(e,t.syncPointTree_,null,vm(t.pendingWriteTree_,De()))}function p5(t,e,n,i){if(Se(t.path))return m5(t,e,n,i);{const r=e.get(De());n==null&&r!=null&&(n=Ls(r,De()));let s=[];const a=Ce(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const u=n?n.getImmediateChild(a):null,c=n5(i,a);s=s.concat(p5(o,l,u,c))}return r&&(s=s.concat(yy(r,t,i,n))),s}}function m5(t,e,n,i){const r=e.get(De());n==null&&r!=null&&(n=Ls(r,De()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=n?n.getImmediateChild(a):null,u=n5(i,a),c=t.operationForChild(a);c&&(s=s.concat(m5(c,o,l,u)))}),r&&(s=s.concat(yy(r,t,i,n))),s}function g5(t,e){const n=e.query,i=ju(t,n);return{hashFn:()=>(BL(e)||pe.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?tU(t,n._path,i):eU(t,n._path);{const s=Zk(r,n);return qh(t,n,null,s)}}}}function ju(t,e){const n=bm(e);return t.queryToTagMap.get(n)}function bm(t){return t._path.toString()+"$"+t._queryIdentifier}function wy(t,e){return t.tagToQueryMap.get(e)}function Ey(t){const e=t.indexOf("$");return ee(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Le(t.substr(0,e))}}function Cy(t,e,n){const i=t.syncPointTree_.get(e);ee(i,"Missing sync point for query tag that we're tracking");const r=vm(t.pendingWriteTree_,e);return yy(i,n,r,null)}function rU(t){return t.fold((e,n,i)=>{if(n&&Ws(n))return[ym(n)];{let r=[];return n&&(r=c5(n)),Bt(i,(s,a)=>{r=r.concat(a)}),r}})}function Jc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(KL())(t._repo,t._path):t}function sU(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=bm(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function aU(){return QL++}function oU(t,e,n){const i=e._path,r=ju(t,e),s=g5(t,n),a=t.listenProvider_.startListening(Jc(e),r,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(i);if(r)ee(!Ws(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((u,c,d)=>{if(!Se(u)&&c&&Ws(c))return[ym(c).query];{let f=[];return c&&(f=f.concat(c5(c).map(h=>h.query))),Bt(d,(h,p)=>{f=f.concat(p)}),f}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Jc(c),ju(t,c))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Sy(n)}node(){return this.node_}}class Ty{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=st(this.path_,e);return new Ty(this.syncTree_,n)}node(){return by(this.syncTree_,this.path_)}}const lU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},CE=function(t,e,n){if(!t||typeof t!="object")return t;if(ee(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return cU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return uU(t[".sv"],e);ee(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},cU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ee(!1,"Unexpected server value: "+t)}},uU=function(t,e,n){t.hasOwnProperty("increment")||ee(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&ee(!1,"Unexpected increment value: "+i);const r=e.node();if(ee(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return typeof a!="number"?i:a+i},_5=function(t,e,n,i){return xy(e,new Ty(n,t),i)},v5=function(t,e,n){return xy(t,new Sy(e),n)};function xy(t,e,n){const i=t.getPriority().val(),r=CE(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const a=t,o=CE(a.getValue(),e,n);return o!==a.getValue()||r!==a.getPriority().val()?new Mt(o,pt(r)):t}else{const a=t;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new Mt(r))),a.forEachChild(nt,(o,l)=>{const u=xy(l,e.getImmediateChild(o),n);u!==l&&(s=s.updateImmediateChild(o,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Ry(t,e){let n=e instanceof Le?e:new Le(e),i=t,r=Ce(n);for(;r!==null;){const s=yl(i.node.children,r)||{children:{},childCount:0};i=new Ay(r,i,s),n=He(n),r=Ce(n)}return i}function Wl(t){return t.node.value}function y5(t,e){t.node.value=e,qv(t)}function b5(t){return t.node.childCount>0}function dU(t){return Wl(t)===void 0&&!b5(t)}function wm(t,e){Bt(t.node.children,(n,i)=>{e(new Ay(n,t,i))})}function w5(t,e,n,i){n&&!i&&e(t),wm(t,r=>{w5(r,e,!0,i)}),n&&i&&e(t)}function fU(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ed(t){return new Le(t.parent===null?t.name:Ed(t.parent)+"/"+t.name)}function qv(t){t.parent!==null&&hU(t.parent,t.name,t)}function hU(t,e,n){const i=dU(n),r=Qi(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,qv(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,qv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=/[\[\].#$\/\u0000-\u001F\u007F]/,mU=/[\[\].#$\u0000-\u001F\u007F]/,Bg=10*1024*1024,Oy=function(t){return typeof t=="string"&&t.length!==0&&!pU.test(t)},E5=function(t){return typeof t=="string"&&t.length!==0&&!mU.test(t)},gU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),E5(t)},Gh=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!mm(t)||t&&typeof t=="object"&&Qi(t,".sv")},Ys=function(t,e,n,i){i&&e===void 0||Em(bl(t,"value"),e,n)},Em=function(t,e,n){const i=n instanceof Le?new I9(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+pa(i));if(typeof e=="function")throw new Error(t+"contains a function "+pa(i)+" with contents = "+e.toString());if(mm(e))throw new Error(t+"contains "+e.toString()+" "+pa(i));if(typeof e=="string"&&e.length>Bg/3&&um(e)>Bg)throw new Error(t+"contains a string greater than "+Bg+" utf8 bytes "+pa(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Bt(e,(a,o)=>{if(a===".value")r=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!Oy(a)))throw new Error(t+" contains an invalid key ("+a+") "+pa(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);D9(i,a),Em(t,o,i),k9(i)}),r&&s)throw new Error(t+' contains ".value" child '+pa(i)+" in addition to actual children.")}},_U=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const s=Du(i);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!Oy(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(M9);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&ei(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},C5=function(t,e,n,i){const r=bl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Bt(e,(a,o)=>{const l=new Le(a);if(Em(r,o,st(n,l)),ay(l)===".priority"&&!Gh(o))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),_U(r,s)},vU=function(t,e,n){if(mm(e))throw new Error(bl(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gh(e))throw new Error(bl(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Ny=function(t,e,n,i){if(!E5(n))throw new Error(bl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},yU=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ny(t,e,n)},Fo=function(t,e){if(Ce(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},bU=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Oy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!gU(n))throw new Error(bl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cm(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!oy(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function S5(t,e,n){Cm(t,n),T5(t,i=>oy(i,e))}function ii(t,e,n){Cm(t,n),T5(t,i=>ei(i,e)||ei(e,i))}function T5(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(EU(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function EU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Xc&&Ut("event: "+n.toString()),Vl(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU="repo_interrupt",SU=25;class TU{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ph(),this.transactionQueueTree_=new Ay,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xU(t,e,n){if(t.stats_=ry(t.repoInfo_),t.forceRestClient_||n9())t.server_=new Uh(t.repoInfo_,(i,r,s,a)=>{SE(t,i,r,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>TE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ot(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Ar(t.repoInfo_,e,(i,r,s,a)=>{SE(t,i,r,s,a)},i=>{TE(t,i)},i=>{AU(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=o9(t.repoInfo_,()=>new lL(t.stats_,t.server_)),t.infoData_=new iL,t.infoSyncTree_=new EE({startListening:(i,r,s,a)=>{let o=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(o=wd(t.infoSyncTree_,i._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),My(t,"connected",!1),t.serverSyncTree_=new EE({startListening:(i,r,s,a)=>(t.server_.listen(i,s,r,(o,l)=>{const u=a(o,l);ii(t.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function x5(t){const n=t.infoData_.getNode(new Le(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Sm(t){return lU({timestamp:x5(t)})}function SE(t,e,n,i,r){t.dataUpdateCount++;const s=new Le(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(r)if(i){const l=Sh(n,u=>pt(u));a=nU(t.serverSyncTree_,s,l,r)}else{const l=pt(n);a=h5(t.serverSyncTree_,s,l,r)}else if(i){const l=Sh(n,u=>pt(u));a=JL(t.serverSyncTree_,s,l)}else{const l=pt(n);a=wd(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=Sl(t,s)),ii(t.eventQueue_,o,a)}function TE(t,e){My(t,"connected",e),e===!1&&MU(t)}function AU(t,e){Bt(e,(n,i)=>{My(t,n,i)})}function My(t,e,n){const i=new Le("/.info/"+e),r=pt(n);t.infoData_.updateSnapshot(i,r);const s=wd(t.infoSyncTree_,i,r);ii(t.eventQueue_,i,s)}function Iy(t){return t.nextWriteId_++}function RU(t,e,n){const i=iU(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=pt(r).withIndex(e._queryParams.getIndex());Vv(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=wd(t.serverSyncTree_,e._path,s);else{const o=ju(t.serverSyncTree_,e);a=h5(t.serverSyncTree_,e._path,s,o)}return ii(t.eventQueue_,e._path,a),qh(t.serverSyncTree_,e,n,null,!0),s},r=>(Cd(t,"get for query "+Ot(e)+" failed: "+r),Promise.reject(new Error(r))))}function OU(t,e,n,i,r){Cd(t,"set",{path:e.toString(),value:n,priority:i});const s=Sm(t),a=pt(n,i),o=by(t.serverSyncTree_,e),l=v5(a,o,s),u=Iy(t),c=f5(t.serverSyncTree_,e,l,u,!0);Cm(t.eventQueue_,c),t.server_.put(e.toString(),a.val(!0),(f,h)=>{const p=f==="ok";p||an("set at "+e+" failed: "+f);const v=vs(t.serverSyncTree_,u,!p);ii(t.eventQueue_,e,v),Xs(t,r,f,h)});const d=ky(t,e);Sl(t,d),ii(t.eventQueue_,d,[])}function NU(t,e,n,i){Cd(t,"update",{path:e.toString(),value:n});let r=!0;const s=Sm(t),a={};if(Bt(n,(o,l)=>{r=!1,a[o]=_5(st(e,o),pt(l),t.serverSyncTree_,s)}),r)Ut("update() called with empty data.  Don't do anything."),Xs(t,i,"ok",void 0);else{const o=Iy(t),l=ZL(t.serverSyncTree_,e,a,o);Cm(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{const d=u==="ok";d||an("update at "+e+" failed: "+u);const f=vs(t.serverSyncTree_,o,!d),h=f.length>0?Sl(t,e):e;ii(t.eventQueue_,h,f),Xs(t,i,u,c)}),Bt(n,u=>{const c=ky(t,st(e,u));Sl(t,c)}),ii(t.eventQueue_,e,[])}}function MU(t){Cd(t,"onDisconnectEvents");const e=Sm(t),n=Ph();jv(t.onDisconnect_,De(),(r,s)=>{const a=_5(r,s,t.serverSyncTree_,e);ql(n,r,a)});let i=[];jv(n,De(),(r,s)=>{i=i.concat(wd(t.serverSyncTree_,r,s));const a=ky(t,r);Sl(t,a)}),t.onDisconnect_=Ph(),ii(t.eventQueue_,De(),i)}function IU(t,e,n){t.server_.onDisconnectCancel(e.toString(),(i,r)=>{i==="ok"&&Pv(t.onDisconnect_,e),Xs(t,n,i,r)})}function xE(t,e,n,i){const r=pt(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),(s,a)=>{s==="ok"&&ql(t.onDisconnect_,e,r),Xs(t,i,s,a)})}function DU(t,e,n,i,r){const s=pt(n,i);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,o)=>{a==="ok"&&ql(t.onDisconnect_,e,s),Xs(t,r,a,o)})}function kU(t,e,n,i){if(Ch(n)){Ut("onDisconnect().update() called with empty data.  Don't do anything."),Xs(t,i,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(r,s)=>{r==="ok"&&Bt(n,(a,o)=>{const l=pt(o);ql(t.onDisconnect_,st(e,a),l)}),Xs(t,i,r,s)})}function LU(t,e,n){let i;Ce(e._path)===".info"?i=Vv(t.infoSyncTree_,e,n):i=Vv(t.serverSyncTree_,e,n),S5(t.eventQueue_,e._path,i)}function Gv(t,e,n){let i;Ce(e._path)===".info"?i=qh(t.infoSyncTree_,e,n):i=qh(t.serverSyncTree_,e,n),S5(t.eventQueue_,e._path,i)}function UU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(CU)}function Cd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ut(n,...e)}function Xs(t,e,n,i){e&&Vl(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let s=r;i&&(s+=": "+i);const a=new Error(s);a.code=r,e(a)}})}function A5(t,e,n){return by(t.serverSyncTree_,e,n)||pe.EMPTY_NODE}function Dy(t,e=t.transactionQueueTree_){if(e||Tm(t,e),Wl(e)){const n=O5(t,e);ee(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&PU(t,Ed(e),n)}else b5(e)&&wm(e,n=>{Dy(t,n)})}function PU(t,e,n){const i=n.map(u=>u.currentWriteId),r=A5(t,e,i);let s=r;const a=r.hash();for(let u=0;u<n.length;u++){const c=n[u];ee(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=rn(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,u=>{Cd(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(vs(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Tm(t,Ry(t.transactionQueueTree_,e)),Dy(t,t.transactionQueueTree_),ii(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)Vl(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{an("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Sl(t,e)}},a)}function Sl(t,e){const n=R5(t,e),i=Ed(n),r=O5(t,n);return jU(t,r,i),i}function jU(t,e,n){if(e.length===0)return;const i=[];let r=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],u=rn(n,l.path);let c=!1,d;if(ee(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,r=r.concat(vs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=SU)c=!0,d="maxretry",r=r.concat(vs(t.serverSyncTree_,l.currentWriteId,!0));else{const f=A5(t,l.path,a);l.currentInputSnapshot=f;const h=e[o].update(f.val());if(h!==void 0){Em("transaction failed: Data returned ",h,l.path);let p=pt(h);typeof h=="object"&&h!=null&&Qi(h,".priority")||(p=p.updatePriority(f.getPriority()));const y=l.currentWriteId,m=Sm(t),g=v5(p,f,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=g,l.currentWriteId=Iy(t),a.splice(a.indexOf(y),1),r=r.concat(f5(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),r=r.concat(vs(t.serverSyncTree_,y,!0))}else c=!0,d="nodata",r=r.concat(vs(t.serverSyncTree_,l.currentWriteId,!0))}ii(t.eventQueue_,n,r),r=[],c&&(e[o].status=2,function(f){setTimeout(f,Math.floor(0))}(e[o].unwatcher),e[o].onComplete&&(d==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(d),!1,null))))}Tm(t,t.transactionQueueTree_);for(let o=0;o<i.length;o++)Vl(i[o]);Dy(t,t.transactionQueueTree_)}function R5(t,e){let n,i=t.transactionQueueTree_;for(n=Ce(e);n!==null&&Wl(i)===void 0;)i=Ry(i,n),e=He(e),n=Ce(e);return i}function O5(t,e){const n=[];return N5(t,e,n),n.sort((i,r)=>i.order-r.order),n}function N5(t,e,n){const i=Wl(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);wm(e,r=>{N5(t,r,n)})}function Tm(t,e){const n=Wl(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,y5(e,n.length>0?n:void 0)}wm(e,i=>{Tm(t,i)})}function ky(t,e){const n=Ed(R5(t,e)),i=Ry(t.transactionQueueTree_,e);return fU(i,r=>{zg(t,r)}),zg(t,i),w5(i,r=>{zg(t,r)}),n}function zg(t,e){const n=Wl(e);if(n){const i=[];let r=[],s=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ee(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(ee(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),r=r.concat(vs(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?y5(e,void 0):n.length=s+1,ii(t.eventQueue_,Ed(e),r);for(let a=0;a<i.length;a++)Vl(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function zU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):an(`Invalid query segment '${n}' in query '${t}'`)}return e}const AE=function(t,e){const n=HU(t),i=n.namespace;n.domain==="firebase.com"&&Pr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Pr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Wk();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new D3(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Le(n.pathString)}},HU=function(t){let e="",n="",i="",r="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(o=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(r=BU(t.substring(c,d)));const f=zU(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=i}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:a,scheme:o,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$U=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let r;const s=new Array(8);for(r=7;r>=0;r--)s[r]=RE.charAt(n%64),n=Math.floor(n/64);ee(n===0,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)a+=RE.charAt(e[r]);return ee(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ot(this.snapshot.exportVal())}}class VU{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ee(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Ii;return IU(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Fo("OnDisconnect.remove",this._path);const e=new Ii;return xE(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Fo("OnDisconnect.set",this._path),Ys("OnDisconnect.set",e,this._path,!1);const n=new Ii;return xE(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Fo("OnDisconnect.setWithPriority",this._path),Ys("OnDisconnect.setWithPriority",e,this._path,!1),vU("OnDisconnect.setWithPriority",n);const i=new Ii;return DU(this._repo,this._path,e,n,i.wrapCallback(()=>{})),i.promise}update(e){Fo("OnDisconnect.update",this._path),C5("OnDisconnect.update",e,this._path);const n=new Ii;return kU(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Se(this._path)?null:ay(this._path)}get ref(){return new Fr(this._repo,this._path)}get _queryIdentifier(){const e=fE(this._queryParams),n=ny(e);return n==="{}"?"default":n}get _queryObject(){return fE(this._queryParams)}isEqual(e){if(e=lt(e),!(e instanceof Zi))return!1;const n=this._repo===e._repo,i=oy(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+N9(this._path)}}function M5(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Sd(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Rr){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Fs)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==Vs)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===nt){if(e!=null&&!Gh(e)||n!=null&&!Gh(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ee(t.getIndex()instanceof uy||t.getIndex()===X3,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Uy(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Fr extends Zi{constructor(e,n){super(e,n,new fy,!1)}get parent(){const e=$3(this._path);return e===null?null:new Fr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Bu{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Le(e),i=zu(this.ref,e);return new Bu(this._node.getChild(n),i,nt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Bu(r,zu(this.ref,i),nt)))}hasChild(e){const n=new Le(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fe(t,e){return t=lt(t),t._checkNotDeleted("ref"),e!==void 0?zu(t._root,e):t._root}function zu(t,e){return t=lt(t),Ce(t._path)===null?yU("child","path",e):Ny("child","path",e),new Fr(t._repo,st(t._path,e))}function Df(t){return t=lt(t),new qU(t._repo,t._path)}function I5(t,e){t=lt(t),Fo("push",t._path),Ys("push",e,t._path,!0);const n=x5(t._repo),i=$U(n),r=zu(t,i),s=zu(t,i);let a;return a=Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}function Wv(t,e){t=lt(t),Fo("set",t._path),Ys("set",e,t._path,!1);const n=new Ii;return OU(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function mt(t,e){C5("update",e,t._path);const n=new Ii;return NU(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function _n(t){t=lt(t);const e=new Ly(()=>{}),n=new Td(e);return RU(t._repo,t,n).then(i=>new Bu(i,new Fr(t._repo,t._path),t._queryParams.getIndex()))}class Td{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new FU("value",this,new Bu(e.snapshotNode,new Fr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new VU(this,e,n):null}matches(e){return e instanceof Td?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function GU(t,e,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){const l=n,u=(c,d)=>{Gv(t._repo,t,o),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const a=new Ly(n,s||void 0),o=new Td(a);return LU(t._repo,t,o),()=>Gv(t._repo,t,o)}function Vi(t,e,n,i){return GU(t,"value",e,n,i)}function WU(t,e,n){let i=null;const r=n?new Ly(n):null;i=new Td(r),Gv(t._repo,t,i)}class ta{}class D5 extends ta{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Ys("endAt",this._value,e._path,!0);const n=Uv(e._queryParams,this._value,this._key);if(Uy(n),Sd(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zi(e._repo,e._path,n,e._orderByCalled)}}function YU(t,e){return new D5(t,e)}class XU extends ta{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Ys("endBefore",this._value,e._path,!1);const n=nL(e._queryParams,this._value,this._key);if(Uy(n),Sd(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Zi(e._repo,e._path,n,e._orderByCalled)}}function KU(t,e){return new XU(t,e)}class k5 extends ta{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Ys("startAt",this._value,e._path,!0);const n=tL(e._queryParams,this._value,this._key);if(Uy(n),Sd(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Zi(e._repo,e._path,n,e._orderByCalled)}}function L5(t=null,e){return new k5(t,e)}class QU extends ta{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zi(e._repo,e._path,J9(e._queryParams,this._limit),e._orderByCalled)}}function U5(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new QU(t)}class ZU extends ta{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Zi(e._repo,e._path,eL(e._queryParams,this._limit),e._orderByCalled)}}function Yv(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ZU(t)}class JU extends ta{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){M5(e,"orderByChild");const n=new Le(this._path);if(Se(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new uy(n),r=Q3(e._queryParams,i);return Sd(r),new Zi(e._repo,e._path,r,!0)}}function Wh(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ny("orderByChild","path",t),new JU(t)}class eP extends ta{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){M5(e,"orderByKey");const n=Q3(e._queryParams,Rr);return Sd(n),new Zi(e._repo,e._path,n,!0)}}function Hg(){return new eP}class tP extends ta{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Ys("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new D5(this._value,this._key)._apply(new k5(this._value,this._key)._apply(e))}}function Xv(t,e){return new tP(t,e)}function va(t,...e){let n=lt(t);for(const i of e)n=i._apply(n);return n}VL(Fr);XL(Fr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="FIREBASE_DATABASE_EMULATOR_HOST",Kv={};let iP=!1;function rP(t,e,n,i){t.repoInfo_=new D3(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function sP(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||Pr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ut("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=AE(s,r),o=a.repoInfo,l;typeof process<"u"&&Y2&&(l=Y2[nP]),l?(s=`http://${l}?ns=${o.namespace}`,a=AE(s,r),o=a.repoInfo):a.repoInfo.secure;const u=new r9(t.name,t.options,e);bU("Invalid Firebase Database URL",a),Se(a.path)||Pr("Database URL must point to the root of a Firebase Database (not including a child path).");const c=oP(o,t,u,new i9(t.name,n));return new lP(c,t)}function aP(t,e){const n=Kv[e];(!n||n[t.key]!==t)&&Pr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),UU(t),delete n[t.key]}function oP(t,e,n,i){let r=Kv[e.name];r||(r={},Kv[e.name]=r);let s=r[t.toURLString()];return s&&Pr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new TU(t,iP,n,i),r[t.toURLString()]=s,s}class lP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(xU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fr(this._repo,De())),this._rootInternal}_delete(){return this._rootInternal!==null&&(aP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pr("Cannot call "+e+" on a deleted database.")}}function cP(t=V0(),e){const n=dm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Ex("database");i&&uP(n,...i)}return n}function uP(t,e,n,i={}){t=lt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Pr("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Pr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new If(If.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:Tx(i.mockUserToken,t.app.options.projectId);s=new If(a)}rP(r,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){Hk(ro),Ha(new Hs("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return sP(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Hi(X2,K2,t),Hi(X2,K2,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP={".sv":"timestamp"};function sl(){return fP}Ar.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ar.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};dP();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="firebasestorage.googleapis.com",j5="storageBucket",hP=2*60*1e3,pP=10*60*1e3,mP=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Ki{constructor(e,n,i=0){super($g(e),`Firebase Storage: ${n} (${$g(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $g(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ke;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ke||(Ke={}));function $g(t){return"storage/"+t}function Py(){const t="An unknown error occurred, please check the error payload for server response.";return new ct(Ke.UNKNOWN,t)}function gP(t){return new ct(Ke.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _P(t){return new ct(Ke.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vP(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(Ke.UNAUTHENTICATED,t)}function yP(){return new ct(Ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bP(t){return new ct(Ke.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function B5(){return new ct(Ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function z5(){return new ct(Ke.CANCELED,"User canceled the upload/download.")}function wP(t){return new ct(Ke.INVALID_URL,"Invalid URL '"+t+"'.")}function EP(t){return new ct(Ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CP(){return new ct(Ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+j5+"' property when initializing the app?")}function H5(){return new ct(Ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function SP(){return new ct(Ke.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function TP(){return new ct(Ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xP(t){return new ct(Ke.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qv(t){return new ct(Ke.INVALID_ARGUMENT,t)}function $5(){return new ct(Ke.APP_DELETED,"The Firebase app was deleted.")}function AP(t){return new ct(Ke.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eu(t,e){return new ct(Ke.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function hc(t){throw new ct(Ke.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=An.makeFromUrl(e,n)}catch{return new An(e,"")}if(i.path==="")return i;throw EP(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+r+a,"i"),l={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${r}/o${f}`,"i"),p={bucket:1,path:3},v=n===P5?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${v}/${r}/${y}`,"i"),_=[{regex:o,indices:l,postModify:s},{regex:h,indices:p,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<_.length;b++){const A=_[b],E=A.regex.exec(e);if(E){const M=E[A.indices.bucket];let w=E[A.indices.path];w||(w=""),i=new An(M,w),A.postModify(i);break}}if(i==null)throw wP(e);return i}}class RP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e,n){let i=1,r=null,s=null,a=!1,o=0;function l(){return o===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function d(y){r=setTimeout(()=>{r=null,t(h,l())},y)}function f(){s&&clearTimeout(s)}function h(y,...m){if(u){f();return}if(y){f(),c.call(null,y,...m);return}if(l()||a){f(),c.call(null,y,...m);return}i<64&&(i*=2);let _;o===1?(o=2,_=0):_=(i+Math.random())*1e3,d(_)}let p=!1;function v(y){p||(p=!0,f(),!u&&(r!==null?(y||(o=2),clearTimeout(r),d(0)):y||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,v(!0)},n),v}function NP(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){return t!==void 0}function IP(t){return typeof t=="function"}function DP(t){return typeof t=="object"&&!Array.isArray(t)}function xm(t){return typeof t=="string"||t instanceof String}function OE(t){return jy()&&t instanceof Blob}function jy(){return typeof Blob<"u"}function NE(t,e,n,i){if(i<e)throw Qv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Qv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function F5(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var ka;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ka||(ka={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,i,r,s,a,o,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Zd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===ka.NO_ERROR,l=s.getStatus();if(!o||V5(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===ka.ABORT;i(!1,new Zd(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new Zd(u,s))})},n=(i,r)=>{const s=this.resolve_,a=this.reject_,o=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());MP(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=Py();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(r.canceled){const l=this.appDelete_?$5():z5();a(l)}else{const l=B5();a(l)}};this.canceled_?n(!1,new Zd(!1,null,!0)):this.backoffId_=OP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function LP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function UP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BP(t,e,n,i,r,s,a=!0){const o=F5(t.urlParams),l=t.url+o,u=Object.assign({},t.headers);return PP(u,e),LP(u,n),UP(u,s),jP(u,i),new kP(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function HP(...t){const e=zP();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(jy())return new Blob(t);throw new ct(Ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $P(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){if(typeof atob>"u")throw xP("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fg{constructor(e,n){this.data=e,this.contentType=n||null}}function VP(t,e){switch(t){case Li.RAW:return new Fg(q5(e));case Li.BASE64:case Li.BASE64URL:return new Fg(G5(t,e));case Li.DATA_URL:return new Fg(GP(e),WP(e))}throw Py()}function q5(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=i,a=t.charCodeAt(++n);i=65536|(s&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function qP(t){let e;try{e=decodeURIComponent(t)}catch{throw eu(Li.DATA_URL,"Malformed data URL.")}return q5(e)}function G5(t,e){switch(t){case Li.BASE64:{const r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw eu(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Li.BASE64URL:{const r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw eu(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=FP(e)}catch(r){throw r.message.includes("polyfill")?r:eu(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class W5{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw eu(Li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=YP(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function GP(t){const e=new W5(t);return e.base64?G5(Li.BASE64,e.rest):qP(e.rest)}function WP(t){return new W5(t).contentType}function YP(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){let i=0,r="";OE(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(OE(this.data_)){const i=this.data_,r=$P(i,e,n);return r===null?null:new ds(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new ds(i,!0)}}static getBlob(...e){if(jy()){const n=e.map(i=>i instanceof ds?i.data_:i);return new ds(HP.apply(null,n))}else{const n=e.map(a=>xm(a)?VP(Li.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(a=>{for(let o=0;o<a.length;o++)r[s++]=a[o]}),new ds(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t){let e;try{e=JSON.parse(t)}catch{return null}return DP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function KP(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function X5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e){return e}class Xt{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||QP}}let Jd=null;function ZP(t){return!xm(t)||t.length<2?t:X5(t)}function K5(){if(Jd)return Jd;const t=[];t.push(new Xt("bucket")),t.push(new Xt("generation")),t.push(new Xt("metageneration")),t.push(new Xt("name","fullPath",!0));function e(s,a){return ZP(a)}const n=new Xt("name");n.xform=e,t.push(n);function i(s,a){return a!==void 0?Number(a):a}const r=new Xt("size");return r.xform=i,t.push(r),t.push(new Xt("timeCreated")),t.push(new Xt("updated")),t.push(new Xt("md5Hash",null,!0)),t.push(new Xt("cacheControl",null,!0)),t.push(new Xt("contentDisposition",null,!0)),t.push(new Xt("contentEncoding",null,!0)),t.push(new Xt("contentLanguage",null,!0)),t.push(new Xt("contentType",null,!0)),t.push(new Xt("metadata","customMetadata",!0)),Jd=t,Jd}function JP(t,e){function n(){const i=t.bucket,r=t.fullPath,s=new An(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ej(t,e,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const a=n[s];i[a.local]=a.xform(i,e[a.server])}return JP(i,t),i}function Q5(t,e,n){const i=Y5(e);return i===null?null:ej(t,i,n)}function tj(t,e,n,i){const r=Y5(e);if(r===null||!xm(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+a(c)+"/o/"+a(d),h=Yl(f,n,i),p=F5({alt:"media",token:u});return h+p})[0]}function Z5(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class oo{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t){if(!t)throw Py()}function By(t,e){function n(i,r){const s=Q5(t,r,e);return Or(s!==null),s}return n}function nj(t,e){function n(i,r){const s=Q5(t,r,e);return Or(s!==null),tj(s,r,t.host,t._protocol)}return n}function xd(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=yP():r=vP():n.getStatus()===402?r=_P(t.bucket):n.getStatus()===403?r=bP(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function zy(t){const e=xd(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=gP(t.path)),s.serverResponse=r.serverResponse,s}return n}function ij(t,e,n){const i=e.fullServerUrl(),r=Yl(i,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new oo(r,s,By(t,n),a);return o.errorHandler=zy(e),o}function rj(t,e,n){const i=e.fullServerUrl(),r=Yl(i,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new oo(r,s,nj(t,n),a);return o.errorHandler=zy(e),o}function sj(t,e){const n=e.fullServerUrl(),i=Yl(n,t.host,t._protocol),r="DELETE",s=t.maxOperationRetryTime;function a(l,u){}const o=new oo(i,r,a,s);return o.successCodes=[200,204],o.errorHandler=zy(e),o}function aj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function J5(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=aj(null,e)),i}function oj(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let _="";for(let b=0;b<2;b++)_=_+Math.random().toString().slice(2);return _}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const u=J5(e,i,r),c=Z5(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=ds.getBlob(d,i,f);if(h===null)throw H5();const p={name:u.fullPath},v=Yl(s,t.host,t._protocol),y="POST",m=t.maxUploadRetryTime,g=new oo(v,y,By(t,n),m);return g.urlParams=p,g.headers=a,g.body=h.uploadData(),g.errorHandler=xd(e),g}class Yh{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}}function Hy(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Or(!1)}return Or(!!n&&(e||["active"]).indexOf(n)!==-1),n}function lj(t,e,n,i,r){const s=e.bucketOnlyServerUrl(),a=J5(e,i,r),o={name:a.fullPath},l=Yl(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},d=Z5(a,n),f=t.maxUploadRetryTime;function h(v){Hy(v);let y;try{y=v.getResponseHeader("X-Goog-Upload-URL")}catch{Or(!1)}return Or(xm(y)),y}const p=new oo(l,u,h,f);return p.urlParams=o,p.headers=c,p.body=d,p.errorHandler=xd(e),p}function cj(t,e,n,i){const r={"X-Goog-Upload-Command":"query"};function s(u){const c=Hy(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Or(!1)}d||Or(!1);const f=Number(d);return Or(!isNaN(f)),new Yh(f,i.size(),c==="final")}const a="POST",o=t.maxUploadRetryTime,l=new oo(n,a,s,o);return l.headers=r,l.errorHandler=xd(e),l}const ME=256*1024;function uj(t,e,n,i,r,s,a,o){const l=new Yh(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw SP();const u=l.total-l.current;let c=u;r>0&&(c=Math.min(c,r));const d=l.current,f=d+c;let h="";c===0?h="finalize":u===c?h="upload, finalize":h="upload";const p={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${l.current}`},v=i.slice(d,f);if(v===null)throw H5();function y(b,A){const E=Hy(b,["active","final"]),M=l.current+c,w=i.size();let S;return E==="final"?S=By(e,s)(b,A):S=null,new Yh(M,w,E==="final",S)}const m="POST",g=e.maxUploadRetryTime,_=new oo(n,m,y,g);return _.headers=p,_.body=v.uploadData(),_.progressCallback=o||null,_.errorHandler=xd(t),_}const hn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vg(t){switch(t){case"running":case"pausing":case"canceling":return hn.RUNNING;case"paused":return hn.PAUSED;case"success":return hn.SUCCESS;case"canceled":return hn.CANCELED;case"error":return hn.ERROR;default:return hn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dj=class{constructor(e,n,i){if(IP(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class fj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ka.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ka.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ka.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw hc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hj extends fj{initXhr(){this.xhr_.responseType="text"}}function ya(){return new hj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=K5(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ke.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(V5(r.status,[]))if(s)r=B5();else{this.sleepTime=Math.max(this.sleepTime*2,mP),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ke.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const i=lj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ya,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,i)=>{const r=cj(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,ya,n,i);this._request=s,s.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=ME*this._chunkMultiplier,n=new Yh(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=uj(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const o=this._ref.storage._makeRequest(a,ya,r,s,!1);this._request=o,o.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){ME*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const i=ij(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ya,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const i=oj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ya,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=z5(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Vg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){const s=new dj(n||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Vg(this._state)){case hn.SUCCESS:po(this._resolve.bind(null,this.snapshot))();break;case hn.CANCELED:case hn.ERROR:const n=this._reject;po(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Vg(this._state)){case hn.RUNNING:case hn.PAUSED:e.next&&po(e.next.bind(e,this.snapshot))();break;case hn.SUCCESS:e.complete&&po(e.complete.bind(e))();break;case hn.CANCELED:case hn.ERROR:e.error&&po(e.error.bind(e,this._error))();break;default:e.error&&po(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this._service=e,n instanceof An?this._location=n:this._location=An.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ga(e,n)}get root(){const e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return X5(this._location.path)}get storage(){return this._service}get parent(){const e=XP(this._location.path);if(e===null)return null;const n=new An(this._location.bucket,e);return new Ga(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AP(e)}}function mj(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new pj(t,new ds(e),n)}function gj(t){t._throwIfRoot("getDownloadURL");const e=rj(t.storage,t._location,K5());return t.storage.makeRequestWithTokens(e,ya).then(n=>{if(n===null)throw TP();return n})}function _j(t){t._throwIfRoot("deleteObject");const e=sj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ya)}function vj(t,e){const n=KP(t._location.path,e),i=new An(t._location.bucket,n);return new Ga(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){return/^[A-Za-z]+:\/\//.test(t)}function bj(t,e){return new Ga(t,e)}function eA(t,e){if(t instanceof $y){const n=t;if(n._bucket==null)throw CP();const i=new Ga(n,n._bucket);return e!=null?eA(i,e):i}else return e!==void 0?vj(t,e):t}function wj(t,e){if(e&&yj(e)){if(t instanceof $y)return bj(t,e);throw Qv("To use ref(service, url), the first argument must be a Storage instance.")}else return eA(t,e)}function IE(t,e){const n=e==null?void 0:e[j5];return n==null?null:An.makeFromBucketSpec(n,t)}function Ej(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:Tx(r,t.app.options.projectId))}class $y{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=P5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hP,this._maxUploadRetryTime=pP,this._requests=new Set,r!=null?this._bucket=An.makeFromBucketSpec(r,this._host):this._bucket=IE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=IE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ga(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new RP($5());{const a=BP(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const DE="@firebase/storage",kE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="storage";function nA(t,e,n){return t=lt(t),mj(t,e,n)}function iA(t){return t=lt(t),gj(t)}function Cj(t){return t=lt(t),_j(t)}function rA(t,e){return t=lt(t),wj(t,e)}function Sj(t=V0(),e){t=lt(t);const i=dm(t,tA).getImmediate({identifier:e}),r=Ex("storage");return r&&Tj(i,...r),i}function Tj(t,e,n,i={}){Ej(t,e,n,i)}function xj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new $y(n,i,r,e,ro)}function Aj(){Ha(new Hs(tA,xj,"PUBLIC").setMultipleInstances(!0)),Hi(DE,kE,""),Hi(DE,kE,"esm2017")}Aj();const Rj={apiKey:"AIzaSyBRd7FcKZg1lAIWJOIx47AfIv0yXJYW7Ao",authDomain:"online-chat-auth.firebaseapp.com",projectId:"online-chat-auth",storageBucket:"online-chat-auth.appspot.com",messagingSenderId:"446714540388",appId:"1:446714540388:web:59d4614adbc230671b0a71"},Oj=Mx(Rj),Nj=ey(Oj),he=cP(),sA=Sj();function Ht(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Mj=typeof Symbol=="function"&&Symbol.observable||"@@observable",LE=Mj,qg=()=>Math.random().toString(36).substring(7).split("").join("."),Ij={INIT:`@@redux/INIT${qg()}`,REPLACE:`@@redux/REPLACE${qg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qg()}`},Xh=Ij;function Fy(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Vy(t,e,n){if(typeof t!="function")throw new Error(Ht(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ht(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ht(1));return n(Vy)(t,e)}let i=t,r=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((y,m)=>{a.set(m,y)}))}function c(){if(l)throw new Error(Ht(3));return r}function d(y){if(typeof y!="function")throw new Error(Ht(4));if(l)throw new Error(Ht(5));let m=!0;u();const g=o++;return a.set(g,y),function(){if(m){if(l)throw new Error(Ht(6));m=!1,u(),a.delete(g),s=null}}}function f(y){if(!Fy(y))throw new Error(Ht(7));if(typeof y.type>"u")throw new Error(Ht(8));if(typeof y.type!="string")throw new Error(Ht(17));if(l)throw new Error(Ht(9));try{l=!0,r=i(r,y)}finally{l=!1}return(s=a).forEach(g=>{g()}),y}function h(y){if(typeof y!="function")throw new Error(Ht(10));i=y,f({type:Xh.REPLACE})}function p(){const y=d;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(Ht(11));function g(){const b=m;b.next&&b.next(c())}return g(),{unsubscribe:y(g)}},[LE](){return this}}}return f({type:Xh.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:h,[LE]:p}}function Dj(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Xh.INIT})>"u")throw new Error(Ht(12));if(typeof n(void 0,{type:Xh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ht(13))})}function aA(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const i=Object.keys(n);let r;try{Dj(n)}catch(s){r=s}return function(a={},o){if(r)throw r;let l=!1;const u={};for(let c=0;c<i.length;c++){const d=i[c],f=n[d],h=a[d],p=f(h,o);if(typeof p>"u")throw o&&o.type,new Error(Ht(14));u[d]=p,l=l||p!==h}return l=l||i.length!==Object.keys(a).length,l?u:a}}function Kh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function kj(...t){return e=>(n,i)=>{const r=e(n,i);let s=()=>{throw new Error(Ht(15))};const a={getState:r.getState,dispatch:(l,...u)=>s(l,...u)},o=t.map(l=>l(a));return s=Kh(...o)(r.dispatch),{...r,dispatch:s}}}function Lj(t){return Fy(t)&&"type"in t&&typeof t.type=="string"}var oA=Symbol.for("immer-nothing"),UE=Symbol.for("immer-draftable"),Dn=Symbol.for("immer-state");function fi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Tl=Object.getPrototypeOf;function Wa(t){return!!t&&!!t[Dn]}function jr(t){var e;return t?lA(t)||Array.isArray(t)||!!t[UE]||!!((e=t.constructor)!=null&&e[UE])||Rm(t)||Om(t):!1}var Uj=Object.prototype.constructor.toString();function lA(t){if(!t||typeof t!="object")return!1;const e=Tl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Uj}function Qh(t,e){Am(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function Am(t){const e=t[Dn];return e?e.type_:Array.isArray(t)?1:Rm(t)?2:Om(t)?3:0}function Zv(t,e){return Am(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function cA(t,e,n){const i=Am(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function Pj(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Rm(t){return t instanceof Map}function Om(t){return t instanceof Set}function ma(t){return t.copy_||t.base_}function Jv(t,e){if(Rm(t))return new Map(t);if(Om(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=lA(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Dn];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],o=i[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Tl(t),i)}else{const i=Tl(t);if(i!==null&&n)return{...t};const r=Object.create(i);return Object.assign(r,t)}}function qy(t,e=!1){return Nm(t)||Wa(t)||!jr(t)||(Am(t)>1&&(t.set=t.add=t.clear=t.delete=jj),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>qy(i,!0))),t}function jj(){fi(2)}function Nm(t){return Object.isFrozen(t)}var Bj={};function Ya(t){const e=Bj[t];return e||fi(0,t),e}var Hu;function uA(){return Hu}function zj(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PE(t,e){e&&(Ya("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function e1(t){t1(t),t.drafts_.forEach(Hj),t.drafts_=null}function t1(t){t===Hu&&(Hu=t.parent_)}function jE(t){return Hu=zj(Hu,t)}function Hj(t){const e=t[Dn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function BE(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Dn].modified_&&(e1(e),fi(4)),jr(t)&&(t=Zh(e,t),e.parent_||Jh(e,t)),e.patches_&&Ya("Patches").generateReplacementPatches_(n[Dn].base_,t,e.patches_,e.inversePatches_)):t=Zh(e,n,[]),e1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==oA?t:void 0}function Zh(t,e,n){if(Nm(e))return e;const i=e[Dn];if(!i)return Qh(e,(r,s)=>zE(t,i,e,r,s,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Jh(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let s=r,a=!1;i.type_===3&&(s=new Set(r),r.clear(),a=!0),Qh(s,(o,l)=>zE(t,i,r,o,l,n,a)),Jh(t,r,!1),n&&t.patches_&&Ya("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function zE(t,e,n,i,r,s,a){if(Wa(r)){const o=s&&e&&e.type_!==3&&!Zv(e.assigned_,i)?s.concat(i):void 0,l=Zh(t,r,o);if(cA(n,i,l),Wa(l))t.canAutoFreeze_=!1;else return}else a&&n.add(r);if(jr(r)&&!Nm(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Zh(t,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Jh(t,r)}}function Jh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qy(e,n)}function $j(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:uA(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=Gy;n&&(r=[i],s=$u);const{revoke:a,proxy:o}=Proxy.revocable(r,s);return i.draft_=o,i.revoke_=a,o}var Gy={get(t,e){if(e===Dn)return t;const n=ma(t);if(!Zv(n,e))return Fj(t,n,e);const i=n[e];return t.finalized_||!jr(i)?i:i===Gg(t.base_,e)?(Wg(t),t.copy_[e]=i1(i,t)):i},has(t,e){return e in ma(t)},ownKeys(t){return Reflect.ownKeys(ma(t))},set(t,e,n){const i=dA(ma(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=Gg(ma(t),e),s=r==null?void 0:r[Dn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Pj(n,r)&&(n!==void 0||Zv(t.base_,e)))return!0;Wg(t),n1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Gg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Wg(t),n1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ma(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){fi(11)},getPrototypeOf(t){return Tl(t.base_)},setPrototypeOf(){fi(12)}},$u={};Qh(Gy,(t,e)=>{$u[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});$u.deleteProperty=function(t,e){return $u.set.call(this,t,e,void 0)};$u.set=function(t,e,n){return Gy.set.call(this,t[0],e,n,t[0])};function Gg(t,e){const n=t[Dn];return(n?ma(n):t)[e]}function Fj(t,e,n){var r;const i=dA(e,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function dA(t,e){if(!(e in t))return;let n=Tl(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Tl(n)}}function n1(t){t.modified_||(t.modified_=!0,t.parent_&&n1(t.parent_))}function Wg(t){t.copy_||(t.copy_=Jv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Vj=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(l=s,...u){return a.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&fi(6),i!==void 0&&typeof i!="function"&&fi(7);let r;if(jr(e)){const s=jE(this),a=i1(e,void 0);let o=!0;try{r=n(a),o=!1}finally{o?e1(s):t1(s)}return PE(s,i),BE(r,s)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===oA&&(r=void 0),this.autoFreeze_&&qy(r,!0),i){const s=[],a=[];Ya("Patches").generateReplacementPatches_(e,r,s,a),i(s,a)}return r}else fi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let i,r;return[this.produce(e,n,(a,o)=>{i=a,r=o}),i,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){jr(t)||fi(8),Wa(t)&&(t=qj(t));const e=jE(this),n=i1(t,void 0);return n[Dn].isManual_=!0,t1(e),n}finishDraft(t,e){const n=t&&t[Dn];(!n||!n.isManual_)&&fi(9);const{scope_:i}=n;return PE(i,e),BE(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=Ya("Patches").applyPatches_;return Wa(t)?i(t,e):this.produce(t,r=>i(r,e))}};function i1(t,e){const n=Rm(t)?Ya("MapSet").proxyMap_(t,e):Om(t)?Ya("MapSet").proxySet_(t,e):$j(t,e);return(e?e.scope_:uA()).drafts_.push(n),n}function qj(t){return Wa(t)||fi(10,t),fA(t)}function fA(t){if(!jr(t)||Nm(t))return t;const e=t[Dn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Jv(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Jv(t,!0);return Qh(n,(i,r)=>{cA(n,i,fA(r))}),e&&(e.finalized_=!1),n}var kn=new Vj,hA=kn.produce;kn.produceWithPatches.bind(kn);kn.setAutoFreeze.bind(kn);kn.setUseStrictShallowCopy.bind(kn);kn.applyPatches.bind(kn);kn.createDraft.bind(kn);kn.finishDraft.bind(kn);function pA(t){return({dispatch:n,getState:i})=>r=>s=>typeof s=="function"?s(n,i,t):r(s)}var Gj=pA(),Wj=pA,Yj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kh:Kh.apply(null,arguments)};function HE(t,e){function n(...i){if(e){let r=e(...i);if(!r)throw new Error(Nr(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>Lj(i)&&i.type===t,n}var mA=class Nc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Nc.prototype)}static get[Symbol.species](){return Nc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Nc(...e[0].concat(this)):new Nc(...e.concat(this))}};function $E(t){return jr(t)?hA(t,()=>{}):t}function FE(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Xj(t){return typeof t=="boolean"}var Kj=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let a=new mA;return n&&(Xj(n)?a.push(Gj):a.push(Wj(n.extraArgument))),a},Qj="RTK_autoBatch",VE=t=>e=>{setTimeout(e,t)},Zj=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VE(10):t.type==="callback"?t.queueNotification:VE(t.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(c=>c()))};return Object.assign({},i,{subscribe(c){const d=()=>r&&c(),f=i.subscribe(d);return o.add(c),()=>{f(),o.delete(c)}},dispatch(c){var d;try{return r=!((d=c==null?void 0:c.meta)!=null&&d[Qj]),s=!r,s&&(a||(a=!0,l(u))),i.dispatch(c)}finally{r=!0}}})},Jj=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new mA(t);return i&&r.push(Zj(typeof i=="object"?i:void 0)),r};function eB(t){const e=Kj(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(Fy(n))o=aA(n);else throw new Error(Nr(1));let l;typeof i=="function"?l=i(e):l=e();let u=Kh;r&&(u=Yj({trace:!1,...typeof r=="object"&&r}));const c=kj(...l),d=Jj(c);let f=typeof a=="function"?a(d):d();const h=u(...f);return Vy(o,s,h)}function gA(t){const e={},n=[];let i;const r={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Nr(28));if(o in e)throw new Error(Nr(29));return e[o]=a,r},addMatcher(s,a){return n.push({matcher:s,reducer:a}),r},addDefaultCase(s){return i=s,r}};return t(r),[e,n,i]}function tB(t){return typeof t=="function"}function nB(t,e){let[n,i,r]=gA(e),s;if(tB(t))s=()=>$E(t());else{const o=$E(t);s=()=>o}function a(o=s(),l){let u=[n[l.type],...i.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[r]),u.reduce((c,d)=>{if(d)if(Wa(c)){const h=d(c,l);return h===void 0?c:h}else{if(jr(c))return hA(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},o)}return a.getInitialState=s,a}var iB=Symbol.for("rtk-slice-createasyncthunk");function rB(t,e){return`${t}/${e}`}function sB({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[iB];return function(r){const{name:s,reducerPath:a=s}=r;if(!s)throw new Error(Nr(11));typeof process<"u";const o=(typeof r.reducers=="function"?r.reducers(oB()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(_,b){const A=typeof _=="string"?_:_.type;if(!A)throw new Error(Nr(12));if(A in u.sliceCaseReducersByType)throw new Error(Nr(13));return u.sliceCaseReducersByType[A]=b,c},addMatcher(_,b){return u.sliceMatchers.push({matcher:_,reducer:b}),c},exposeAction(_,b){return u.actionCreators[_]=b,c},exposeCaseReducer(_,b){return u.sliceCaseReducersByName[_]=b,c}};l.forEach(_=>{const b=o[_],A={reducerName:_,type:rB(s,_),createNotation:typeof r.reducers=="function"};cB(b)?dB(A,b,c,e):lB(A,b,c)});function d(){const[_={},b=[],A=void 0]=typeof r.extraReducers=="function"?gA(r.extraReducers):[r.extraReducers],E={..._,...u.sliceCaseReducersByType};return nB(r.initialState,M=>{for(let w in E)M.addCase(w,E[w]);for(let w of u.sliceMatchers)M.addMatcher(w.matcher,w.reducer);for(let w of b)M.addMatcher(w.matcher,w.reducer);A&&M.addDefaultCase(A)})}const f=_=>_,h=new Map;let p;function v(_,b){return p||(p=d()),p(_,b)}function y(){return p||(p=d()),p.getInitialState()}function m(_,b=!1){function A(M){let w=M[_];return typeof w>"u"&&b&&(w=y()),w}function E(M=f){const w=FE(h,b,()=>new WeakMap);return FE(w,M,()=>{const S={};for(const[T,D]of Object.entries(r.selectors??{}))S[T]=aB(D,M,y,b);return S})}return{reducerPath:_,getSelectors:E,get selectors(){return E(A)},selectSlice:A}}const g={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...m(a),injectInto(_,{reducerPath:b,...A}={}){const E=b??a;return _.inject({reducerPath:E,reducer:v},A),{...g,...m(E,!0)}}};return g}}function aB(t,e,n,i){function r(s,...a){let o=e(s);return typeof o>"u"&&i&&(o=n()),t(o,...a)}return r.unwrapped=t,r}var Ad=sB();function oB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function lB({type:t,reducerName:e,createNotation:n},i,r){let s,a;if("reducer"in i){if(n&&!uB(i))throw new Error(Nr(17));s=i.reducer,a=i.prepare}else s=i;r.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?HE(t,a):HE(t))}function cB(t){return t._reducerDefinitionType==="asyncThunk"}function uB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function dB({type:t,reducerName:e},n,i,r){if(!r)throw new Error(Nr(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:c}=n,d=r(t,s,c);i.exposeAction(e,d),a&&i.addCase(d.fulfilled,a),o&&i.addCase(d.pending,o),l&&i.addCase(d.rejected,l),u&&i.addMatcher(d.settled,u),i.exposeCaseReducer(e,{fulfilled:a||ef,pending:o||ef,rejected:l||ef,settled:u||ef})}function ef(){}function Nr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const fB={email:null,uid:null,avatar:null,username:null,blocked:null},Wy=Ad({name:"user",initialState:fB,selectors:{selectUser:t=>t},reducers:{setUser(t,e){t.email=e.payload.email,t.uid=e.payload.uid,t.avatar=e.payload.avatar,t.username=e.payload.username,t.blocked=e.payload.blocked},removeUser(t){t.email=null,t.uid=null,t.avatar=null,t.username=null,t.blocked=null}}}),{setUser:hB,removeUser:pB}=Wy.actions,{selectUser:mB}=Wy.selectors,gB=Wy.reducer,Fu=50*1024*1024,al="Неизвестный пользователь",_B="Исключенный пользователь",Us="",Yy=66,vB="не в сети",qE="в сети",GE="печатает",Hn=50,yB=80,WE=2.8,fs=t=>t.toLowerCase().replace(/\s+/g,""),_A=x.createContext(null),bB=({children:t})=>{const[e,n]=x.useState(null),i=Ln(),r=async o=>{const l=`users/${o.uid}`,u=`userChats/${o.uid}`,c=fs(o.email.split("@")[0]),d={},f={userExist:!1,userChatsExist:!1},h=await _n(fe(he,l));h.exists()?h.exists()&&(f.userExist=!0):d[l]={uid:o.uid,email:o.email,isOnline:!1,username:c,usernameNormalized:c,avatar:Us};const p=await _n(fe(he,u));return p.exists()?p.exists()&&(f.userChatsExist=!0):d[u]={uid:o.uid},Object.keys(d).length>0?(await mt(fe(he),d),!0):(f.userChatsExist===!0&&f.userExist===!0&&localStorage.setItem("existingDataByUser",`${o.uid}`),!1)},s=(o,l)=>{if(!e){console.log("No registerUsername.");return}const u=fe(he,`users/${o.uid}`),c={username:l,usernameNormalized:fs(l)};mt(u,c),n(null)};x.useLayoutEffect(()=>{let o=null;const l=iD(Nj,async u=>{if(u){const c=localStorage.getItem("existingDataByUser");if(c==null||c!==u.uid)try{await r(u)&&e&&await s(u,e)}catch(f){console.error("Error in checkAndCreateMissingUserData:",f)}const d=fe(he,`users/${u.uid}`);mt(d,{isOnline:!0}),Df(d).update({isOnline:!1}),o=Vi(d,f=>{const h=f.val();h&&i(hB({email:u.email,uid:u.uid,avatar:h.avatar,username:h.username,blocked:h.blocked?h.blocked:[]}))},f=>{console.error("Error fetching username:",f),f instanceof Ki&&(f==null?void 0:f.code)==="PERMISSION_DENIED"&&o&&(o(),o=null)})}else console.log("User is signed out")});return()=>{o&&(o(),o=null),l()}},[e]);const a={setRegisterUsername:n};return C.jsx(_A.Provider,{value:a,children:t})},wB=t=>x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 -960 960 960",width:"18px",fill:"#5f6368",...t},x.createElement("path",{d:"M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"})),EB=t=>x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"18px",viewBox:"0 -960 960 960",width:"18px",fill:"#5f6368",...t},x.createElement("path",{d:"m644-428-58-58q9-47-27-88t-93-32l-58-58q17-8 34.5-12t37.5-4q75 0 127.5 52.5T660-500q0 20-4 37.5T644-428Zm128 126-58-56q38-29 67.5-63.5T832-500q-50-101-143.5-160.5T480-720q-29 0-57 4t-55 12l-62-62q41-17 84-25.5t90-8.5q151 0 269 83.5T920-500q-23 59-60.5 109.5T772-302Zm20 246L624-222q-35 11-70.5 16.5T480-200q-151 0-269-83.5T40-500q21-53 53-98.5t73-81.5L56-792l56-56 736 736-56 56ZM222-624q-29 26-53 57t-41 67q50 101 143.5 160.5T480-280q20 0 39-2.5t39-5.5l-36-38q-11 3-21 4.5t-21 1.5q-75 0-127.5-52.5T300-500q0-11 1.5-21t4.5-21l-84-82Zm319 93Zm-151 75Z"}));var Rd=t=>t.type==="checkbox",Sa=t=>t instanceof Date,Jt=t=>t==null;const vA=t=>typeof t=="object";var yt=t=>!Jt(t)&&!Array.isArray(t)&&vA(t)&&!Sa(t),CB=t=>yt(t)&&t.target?Rd(t.target)?t.target.checked:t.target.value:t,SB=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,TB=(t,e)=>t.has(SB(e)),xB=t=>{const e=t.constructor&&t.constructor.prototype;return yt(e)&&e.hasOwnProperty("isPrototypeOf")},Xy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fn(t){let e;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Xy&&(t instanceof Blob||i))&&(n||yt(t)))if(e=n?[]:{},!n&&!xB(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Fn(t[r]));else return t;return e}var Mm=t=>Array.isArray(t)?t.filter(Boolean):[],ft=t=>t===void 0,re=(t,e,n)=>{if(!e||!yt(t))return n;const i=Mm(e.split(/[,[\].]+?/)).reduce((r,s)=>Jt(r)?r:r[s],t);return ft(i)||i===t?ft(t[e])?n:t[e]:i},Ri=t=>typeof t=="boolean",Ky=t=>/^\w*$/.test(t),yA=t=>Mm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),We=(t,e,n)=>{let i=-1;const r=Ky(e)?[e]:yA(e),s=r.length,a=s-1;for(;++i<s;){const o=r[i];let l=n;if(i!==a){const u=t[o];l=yt(u)||Array.isArray(u)?u:isNaN(+r[i+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}return t};const YE={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},hi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},sr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ne.createContext(null);var AB=(t,e,n,i=!0)=>{const r={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(r,s,{get:()=>{const a=s;return e._proxyFormState[a]!==hi.all&&(e._proxyFormState[a]=!i||hi.all),t[a]}});return r},un=t=>yt(t)&&!Object.keys(t).length,RB=(t,e,n,i)=>{n(t);const{name:r,...s}=t;return un(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===hi.all)},kf=t=>Array.isArray(t)?t:[t];function OB(t){const e=ne.useRef(t);e.current=t,ne.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Ui=t=>typeof t=="string",NB=(t,e,n,i,r)=>Ui(t)?(i&&e.watch.add(t),re(n,t,r)):Array.isArray(t)?t.map(s=>(i&&e.watch.add(s),re(n,s))):(i&&(e.watchAll=!0),n),MB=(t,e,n,i,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:r||!0}}:{},XE=t=>({isOnSubmit:!t||t===hi.onSubmit,isOnBlur:t===hi.onBlur,isOnChange:t===hi.onChange,isOnAll:t===hi.all,isOnTouch:t===hi.onTouched}),KE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const tu=(t,e,n,i)=>{for(const r of n||Object.keys(t)){const s=re(t,r);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!i)return!0;if(a.ref&&e(a.ref,a.name)&&!i)return!0;if(tu(o,e))break}else if(yt(o)&&tu(o,e))break}}};var IB=(t,e,n)=>{const i=kf(re(t,n));return We(i,"root",e[n]),We(t,n,i),t},Qy=t=>t.type==="file",Di=t=>typeof t=="function",ep=t=>{if(!Xy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Lf=t=>Ui(t),Zy=t=>t.type==="radio",tp=t=>t instanceof RegExp;const QE={value:!1,isValid:!1},ZE={value:!0,isValid:!0};var bA=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ft(t[0].attributes.value)?ft(t[0].value)||t[0].value===""?ZE:{value:t[0].value,isValid:!0}:ZE:QE}return QE};const JE={isValid:!1,value:null};var wA=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,JE):JE;function eC(t,e,n="validate"){if(Lf(t)||Array.isArray(t)&&t.every(Lf)||Ri(t)&&!t)return{type:n,message:Lf(t)?t:"",ref:e}}var mo=t=>yt(t)&&!tp(t)?t:{value:t,message:""},tC=async(t,e,n,i,r)=>{const{ref:s,refs:a,required:o,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:h,name:p,valueAsNumber:v,mount:y,disabled:m}=t._f,g=re(e,p);if(!y||m)return{};const _=a?a[0]:s,b=I=>{i&&_.reportValidity&&(_.setCustomValidity(Ri(I)?"":I||""),_.reportValidity())},A={},E=Zy(s),M=Rd(s),w=E||M,S=(v||Qy(s))&&ft(s.value)&&ft(g)||ep(s)&&s.value===""||g===""||Array.isArray(g)&&!g.length,T=MB.bind(null,p,n,A),D=(I,k,N,L=sr.maxLength,R=sr.minLength)=>{const O=I?k:N;A[p]={type:I?L:R,message:O,ref:s,...T(I?L:R,O)}};if(r?!Array.isArray(g)||!g.length:o&&(!w&&(S||Jt(g))||Ri(g)&&!g||M&&!bA(a).isValid||E&&!wA(a).isValid)){const{value:I,message:k}=Lf(o)?{value:!!o,message:o}:mo(o);if(I&&(A[p]={type:sr.required,message:k,ref:_,...T(sr.required,k)},!n))return b(k),A}if(!S&&(!Jt(c)||!Jt(d))){let I,k;const N=mo(d),L=mo(c);if(!Jt(g)&&!isNaN(g)){const R=s.valueAsNumber||g&&+g;Jt(N.value)||(I=R>N.value),Jt(L.value)||(k=R<L.value)}else{const R=s.valueAsDate||new Date(g),O=B=>new Date(new Date().toDateString()+" "+B),P=s.type=="time",U=s.type=="week";Ui(N.value)&&g&&(I=P?O(g)>O(N.value):U?g>N.value:R>new Date(N.value)),Ui(L.value)&&g&&(k=P?O(g)<O(L.value):U?g<L.value:R<new Date(L.value))}if((I||k)&&(D(!!I,N.message,L.message,sr.max,sr.min),!n))return b(A[p].message),A}if((l||u)&&!S&&(Ui(g)||r&&Array.isArray(g))){const I=mo(l),k=mo(u),N=!Jt(I.value)&&g.length>+I.value,L=!Jt(k.value)&&g.length<+k.value;if((N||L)&&(D(N,I.message,k.message),!n))return b(A[p].message),A}if(f&&!S&&Ui(g)){const{value:I,message:k}=mo(f);if(tp(I)&&!g.match(I)&&(A[p]={type:sr.pattern,message:k,ref:s,...T(sr.pattern,k)},!n))return b(k),A}if(h){if(Di(h)){const I=await h(g,e),k=eC(I,_);if(k&&(A[p]={...k,...T(sr.validate,k.message)},!n))return b(k.message),A}else if(yt(h)){let I={};for(const k in h){if(!un(I)&&!n)break;const N=eC(await h[k](g,e),_,k);N&&(I={...N,...T(k,N.message)},b(N.message),n&&(A[p]=I))}if(!un(I)&&(A[p]={ref:_,...I},!n))return A}}return b(!0),A};function DB(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=ft(t)?i++:t[e[i++]];return t}function kB(t){for(const e in t)if(t.hasOwnProperty(e)&&!ft(t[e]))return!1;return!0}function Tt(t,e){const n=Array.isArray(e)?e:Ky(e)?[e]:yA(e),i=n.length===1?t:DB(t,n),r=n.length-1,s=n[r];return i&&delete i[s],r!==0&&(yt(i)&&un(i)||Array.isArray(i)&&kB(i))&&Tt(t,n.slice(0,-1)),t}var Yg=()=>{let t=[];return{get observers(){return t},next:r=>{for(const s of t)s.next&&s.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(s=>s!==r)}}),unsubscribe:()=>{t=[]}}},r1=t=>Jt(t)||!vA(t);function hs(t,e){if(r1(t)||r1(e))return t===e;if(Sa(t)&&Sa(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const r of n){const s=t[r];if(!i.includes(r))return!1;if(r!=="ref"){const a=e[r];if(Sa(s)&&Sa(a)||yt(s)&&yt(a)||Array.isArray(s)&&Array.isArray(a)?!hs(s,a):s!==a)return!1}}return!0}var EA=t=>t.type==="select-multiple",LB=t=>Zy(t)||Rd(t),Xg=t=>ep(t)&&t.isConnected,CA=t=>{for(const e in t)if(Di(t[e]))return!0;return!1};function np(t,e={}){const n=Array.isArray(t);if(yt(t)||n)for(const i in t)Array.isArray(t[i])||yt(t[i])&&!CA(t[i])?(e[i]=Array.isArray(t[i])?[]:{},np(t[i],e[i])):Jt(t[i])||(e[i]=!0);return e}function SA(t,e,n){const i=Array.isArray(t);if(yt(t)||i)for(const r in t)Array.isArray(t[r])||yt(t[r])&&!CA(t[r])?ft(e)||r1(n[r])?n[r]=Array.isArray(t[r])?np(t[r],[]):{...np(t[r])}:SA(t[r],Jt(e)?{}:e[r],n[r]):n[r]=!hs(t[r],e[r]);return n}var pc=(t,e)=>SA(t,e,np(e)),TA=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>ft(t)?t:e?t===""?NaN:t&&+t:n&&Ui(t)?new Date(t):i?i(t):t;function Kg(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Qy(e)?e.files:Zy(e)?wA(t.refs).value:EA(e)?[...e.selectedOptions].map(({value:n})=>n):Rd(e)?bA(t.refs).value:TA(ft(e.value)?t.ref.value:e.value,t)}var UB=(t,e,n,i)=>{const r={};for(const s of t){const a=re(e,s);a&&We(r,s,a._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:i}},mc=t=>ft(t)?t:tp(t)?t.source:yt(t)?tp(t.value)?t.value.source:t.value:t;const nC="AsyncFunction";var PB=t=>!!t&&!!t.validate&&!!(Di(t.validate)&&t.validate.constructor.name===nC||yt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===nC)),jB=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function iC(t,e,n){const i=re(t,n);if(i||Ky(n))return{error:i,name:n};const r=n.split(".");for(;r.length;){const s=r.join("."),a=re(e,s),o=re(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};r.pop()}return{name:n}}var BB=(t,e,n,i,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?i.isOnBlur:r.isOnBlur)?!t:(n?i.isOnChange:r.isOnChange)?t:!0,zB=(t,e)=>!Mm(re(t,e)).length&&Tt(t,e);const HB={mode:hi.onSubmit,reValidateMode:hi.onChange,shouldFocusError:!0};function $B(t={}){let e={...HB,...t},n={submitCount:0,isDirty:!1,isLoading:Di(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},r=yt(e.defaultValues)||yt(e.values)?Fn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Fn(r),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Yg(),array:Yg(),state:Yg()},f=XE(e.mode),h=XE(e.reValidateMode),p=e.criteriaMode===hi.all,v=j=>F=>{clearTimeout(u),u=setTimeout(j,F)},y=async j=>{if(!e.disabled&&(c.isValid||j)){const F=e.resolver?un((await w()).errors):await T(i,!0);F!==n.isValid&&d.state.next({isValid:F})}},m=(j,F)=>{!e.disabled&&(c.isValidating||c.validatingFields)&&((j||Array.from(o.mount)).forEach(G=>{G&&(F?We(n.validatingFields,G,F):Tt(n.validatingFields,G))}),d.state.next({validatingFields:n.validatingFields,isValidating:!un(n.validatingFields)}))},g=(j,F=[],G,Y,K=!0,X=!0)=>{if(Y&&G&&!e.disabled){if(a.action=!0,X&&Array.isArray(re(i,j))){const te=G(re(i,j),Y.argA,Y.argB);K&&We(i,j,te)}if(X&&Array.isArray(re(n.errors,j))){const te=G(re(n.errors,j),Y.argA,Y.argB);K&&We(n.errors,j,te),zB(n.errors,j)}if(c.touchedFields&&X&&Array.isArray(re(n.touchedFields,j))){const te=G(re(n.touchedFields,j),Y.argA,Y.argB);K&&We(n.touchedFields,j,te)}c.dirtyFields&&(n.dirtyFields=pc(r,s)),d.state.next({name:j,isDirty:I(j,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else We(s,j,F)},_=(j,F)=>{We(n.errors,j,F),d.state.next({errors:n.errors})},b=j=>{n.errors=j,d.state.next({errors:n.errors,isValid:!1})},A=(j,F,G,Y)=>{const K=re(i,j);if(K){const X=re(s,j,ft(G)?re(r,j):G);ft(X)||Y&&Y.defaultChecked||F?We(s,j,F?X:Kg(K._f)):L(j,X),a.mount&&y()}},E=(j,F,G,Y,K)=>{let X=!1,te=!1;const ce={name:j};if(!e.disabled){const ze=!!(re(i,j)&&re(i,j)._f&&re(i,j)._f.disabled);if(!G||Y){c.isDirty&&(te=n.isDirty,n.isDirty=ce.isDirty=I(),X=te!==ce.isDirty);const it=ze||hs(re(r,j),F);te=!!(!ze&&re(n.dirtyFields,j)),it||ze?Tt(n.dirtyFields,j):We(n.dirtyFields,j,!0),ce.dirtyFields=n.dirtyFields,X=X||c.dirtyFields&&te!==!it}if(G){const it=re(n.touchedFields,j);it||(We(n.touchedFields,j,G),ce.touchedFields=n.touchedFields,X=X||c.touchedFields&&it!==G)}X&&K&&d.state.next(ce)}return X?ce:{}},M=(j,F,G,Y)=>{const K=re(n.errors,j),X=c.isValid&&Ri(F)&&n.isValid!==F;if(e.delayError&&G?(l=v(()=>_(j,G)),l(e.delayError)):(clearTimeout(u),l=null,G?We(n.errors,j,G):Tt(n.errors,j)),(G?!hs(K,G):K)||!un(Y)||X){const te={...Y,...X&&Ri(F)?{isValid:F}:{},errors:n.errors,name:j};n={...n,...te},d.state.next(te)}},w=async j=>{m(j,!0);const F=await e.resolver(s,e.context,UB(j||o.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return m(j),F},S=async j=>{const{errors:F}=await w(j);if(j)for(const G of j){const Y=re(F,G);Y?We(n.errors,G,Y):Tt(n.errors,G)}else n.errors=F;return F},T=async(j,F,G={valid:!0})=>{for(const Y in j){const K=j[Y];if(K){const{_f:X,...te}=K;if(X){const ce=o.array.has(X.name),ze=K._f&&PB(K._f);ze&&c.validatingFields&&m([Y],!0);const it=await tC(K,s,p,e.shouldUseNativeValidation&&!F,ce);if(ze&&c.validatingFields&&m([Y]),it[X.name]&&(G.valid=!1,F))break;!F&&(re(it,X.name)?ce?IB(n.errors,it,X.name):We(n.errors,X.name,it[X.name]):Tt(n.errors,X.name))}!un(te)&&await T(te,F,G)}}return G.valid},D=()=>{for(const j of o.unMount){const F=re(i,j);F&&(F._f.refs?F._f.refs.every(G=>!Xg(G)):!Xg(F._f.ref))&&Z(j)}o.unMount=new Set},I=(j,F)=>!e.disabled&&(j&&F&&We(s,j,F),!hs(V(),r)),k=(j,F,G)=>NB(j,o,{...a.mount?s:ft(F)?r:Ui(j)?{[j]:F}:F},G,F),N=j=>Mm(re(a.mount?s:r,j,e.shouldUnregister?re(r,j,[]):[])),L=(j,F,G={})=>{const Y=re(i,j);let K=F;if(Y){const X=Y._f;X&&(!X.disabled&&We(s,j,TA(F,X)),K=ep(X.ref)&&Jt(F)?"":F,EA(X.ref)?[...X.ref.options].forEach(te=>te.selected=K.includes(te.value)):X.refs?Rd(X.ref)?X.refs.length>1?X.refs.forEach(te=>(!te.defaultChecked||!te.disabled)&&(te.checked=Array.isArray(K)?!!K.find(ce=>ce===te.value):K===te.value)):X.refs[0]&&(X.refs[0].checked=!!K):X.refs.forEach(te=>te.checked=te.value===K):Qy(X.ref)?X.ref.value="":(X.ref.value=K,X.ref.type||d.values.next({name:j,values:{...s}})))}(G.shouldDirty||G.shouldTouch)&&E(j,K,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&B(j)},R=(j,F,G)=>{for(const Y in F){const K=F[Y],X=`${j}.${Y}`,te=re(i,X);(o.array.has(j)||yt(K)||te&&!te._f)&&!Sa(K)?R(X,K,G):L(X,K,G)}},O=(j,F,G={})=>{const Y=re(i,j),K=o.array.has(j),X=Fn(F);We(s,j,X),K?(d.array.next({name:j,values:{...s}}),(c.isDirty||c.dirtyFields)&&G.shouldDirty&&d.state.next({name:j,dirtyFields:pc(r,s),isDirty:I(j,X)})):Y&&!Y._f&&!Jt(X)?R(j,X,G):L(j,X,G),KE(j,o)&&d.state.next({...n}),d.values.next({name:a.mount?j:void 0,values:{...s}})},P=async j=>{a.mount=!0;const F=j.target;let G=F.name,Y=!0;const K=re(i,G),X=()=>F.type?Kg(K._f):CB(j),te=ce=>{Y=Number.isNaN(ce)||Sa(ce)&&isNaN(ce.getTime())||hs(ce,re(s,G,ce))};if(K){let ce,ze;const it=X(),Qe=j.type===YE.BLUR||j.type===YE.FOCUS_OUT,er=!jB(K._f)&&!e.resolver&&!re(n.errors,G)&&!K._f.deps||BB(Qe,re(n.touchedFields,G),n.isSubmitted,h,f),St=KE(G,o,Qe);We(s,G,it),Qe?(K._f.onBlur&&K._f.onBlur(j),l&&l(0)):K._f.onChange&&K._f.onChange(j);const Yt=E(G,it,Qe,!1),cn=!un(Yt)||St;if(!Qe&&d.values.next({name:G,type:j.type,values:{...s}}),er)return c.isValid&&(e.mode==="onBlur"?Qe&&y():y()),cn&&d.state.next({name:G,...St?{}:Yt});if(!Qe&&St&&d.state.next({...n}),e.resolver){const{errors:Pn}=await w([G]);if(te(it),Y){const jn=iC(n.errors,i,G),yi=iC(Pn,i,jn.name||G);ce=yi.error,G=yi.name,ze=un(Pn)}}else m([G],!0),ce=(await tC(K,s,p,e.shouldUseNativeValidation))[G],m([G]),te(it),Y&&(ce?ze=!1:c.isValid&&(ze=await T(i,!0)));Y&&(K._f.deps&&B(K._f.deps),M(G,ze,ce,Yt))}},U=(j,F)=>{if(re(n.errors,F)&&j.focus)return j.focus(),1},B=async(j,F={})=>{let G,Y;const K=kf(j);if(e.resolver){const X=await S(ft(j)?j:K);G=un(X),Y=j?!K.some(te=>re(X,te)):G}else j?(Y=(await Promise.all(K.map(async X=>{const te=re(i,X);return await T(te&&te._f?{[X]:te}:te)}))).every(Boolean),!(!Y&&!n.isValid)&&y()):Y=G=await T(i);return d.state.next({...!Ui(j)||c.isValid&&G!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:G}:{},errors:n.errors}),F.shouldFocus&&!Y&&tu(i,U,j?K:o.mount),Y},V=j=>{const F={...a.mount?s:r};return ft(j)?F:Ui(j)?re(F,j):j.map(G=>re(F,G))},z=(j,F)=>({invalid:!!re((F||n).errors,j),isDirty:!!re((F||n).dirtyFields,j),error:re((F||n).errors,j),isValidating:!!re(n.validatingFields,j),isTouched:!!re((F||n).touchedFields,j)}),q=j=>{j&&kf(j).forEach(F=>Tt(n.errors,F)),d.state.next({errors:j?n.errors:{}})},$=(j,F,G)=>{const Y=(re(i,j,{_f:{}})._f||{}).ref,K=re(n.errors,j)||{},{ref:X,message:te,type:ce,...ze}=K;We(n.errors,j,{...ze,...F,ref:Y}),d.state.next({name:j,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&Y&&Y.focus&&Y.focus()},H=(j,F)=>Di(j)?d.values.subscribe({next:G=>j(k(void 0,F),G)}):k(j,F,!0),Z=(j,F={})=>{for(const G of j?kf(j):o.mount)o.mount.delete(G),o.array.delete(G),F.keepValue||(Tt(i,G),Tt(s,G)),!F.keepError&&Tt(n.errors,G),!F.keepDirty&&Tt(n.dirtyFields,G),!F.keepTouched&&Tt(n.touchedFields,G),!F.keepIsValidating&&Tt(n.validatingFields,G),!e.shouldUnregister&&!F.keepDefaultValue&&Tt(r,G);d.values.next({values:{...s}}),d.state.next({...n,...F.keepDirty?{isDirty:I()}:{}}),!F.keepIsValid&&y()},ie=({disabled:j,name:F,field:G,fields:Y,value:K})=>{if(Ri(j)&&a.mount||j){const X=j?void 0:ft(K)?Kg(G?G._f:re(Y,F)._f):K;(j||!j&&!ft(X))&&We(s,F,X),E(F,X,!1,!1,!0)}},ae=(j,F={})=>{let G=re(i,j);const Y=Ri(F.disabled)||Ri(e.disabled);return We(i,j,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:j}},name:j,mount:!0,...F}}),o.mount.add(j),G?ie({field:G,disabled:Ri(F.disabled)?F.disabled:e.disabled,name:j,value:F.value}):A(j,!0,F.value),{...Y?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:mc(F.min),max:mc(F.max),minLength:mc(F.minLength),maxLength:mc(F.maxLength),pattern:mc(F.pattern)}:{},name:j,onChange:P,onBlur:P,ref:K=>{if(K){ae(j,F),G=re(i,j);const X=ft(K.value)&&K.querySelectorAll&&K.querySelectorAll("input,select,textarea")[0]||K,te=LB(X),ce=G._f.refs||[];if(te?ce.find(ze=>ze===X):X===G._f.ref)return;We(i,j,{_f:{...G._f,...te?{refs:[...ce.filter(Xg),X,...Array.isArray(re(r,j))?[{}]:[]],ref:{type:X.type,name:j}}:{ref:X}}}),A(j,!1,void 0,X)}else G=re(i,j,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(TB(o.array,j)&&a.action)&&o.unMount.add(j)}}},le=()=>e.shouldFocusError&&tu(i,U,o.mount),Ee=j=>{Ri(j)&&(d.state.next({disabled:j}),tu(i,(F,G)=>{const Y=re(i,G);Y&&(F.disabled=Y._f.disabled||j,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(K=>{K.disabled=Y._f.disabled||j}))},0,!1))},ye=(j,F)=>async G=>{let Y;if(G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist()),e.disabled){F&&await F({...n.errors},G);return}let K=Fn(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:te}=await w();n.errors=X,K=te}else await T(i);if(Tt(n.errors,"root"),un(n.errors)){d.state.next({errors:{}});try{await j(K,G)}catch(X){Y=X}}else F&&await F({...n.errors},G),le(),setTimeout(le);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:un(n.errors)&&!Y,submitCount:n.submitCount+1,errors:n.errors}),Y)throw Y},J=(j,F={})=>{re(i,j)&&(ft(F.defaultValue)?O(j,Fn(re(r,j))):(O(j,F.defaultValue),We(r,j,Fn(F.defaultValue))),F.keepTouched||Tt(n.touchedFields,j),F.keepDirty||(Tt(n.dirtyFields,j),n.isDirty=F.defaultValue?I(j,Fn(re(r,j))):I()),F.keepError||(Tt(n.errors,j),c.isValid&&y()),d.state.next({...n}))},oe=(j,F={})=>{const G=j?Fn(j):r,Y=Fn(G),K=un(j),X=K?r:Y;if(F.keepDefaultValues||(r=G),!F.keepValues){if(F.keepDirtyValues){const te=new Set([...o.mount,...Object.keys(pc(r,s))]);for(const ce of Array.from(te))re(n.dirtyFields,ce)?We(X,ce,re(s,ce)):O(ce,re(X,ce))}else{if(Xy&&ft(j))for(const te of o.mount){const ce=re(i,te);if(ce&&ce._f){const ze=Array.isArray(ce._f.refs)?ce._f.refs[0]:ce._f.ref;if(ep(ze)){const it=ze.closest("form");if(it){it.reset();break}}}}i={}}s=e.shouldUnregister?F.keepDefaultValues?Fn(r):{}:Fn(X),d.array.next({values:{...X}}),d.values.next({values:{...X}})}o={mount:F.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!F.keepIsValid||!!F.keepDirtyValues,a.watch=!!e.shouldUnregister,d.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:K?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!hs(j,r)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:K?{}:F.keepDirtyValues?F.keepDefaultValues&&s?pc(r,s):n.dirtyFields:F.keepDefaultValues&&j?pc(r,j):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ge=(j,F)=>oe(Di(j)?j(s):j,F);return{control:{register:ae,unregister:Z,getFieldState:z,handleSubmit:ye,setError:$,_executeSchema:w,_getWatch:k,_getDirty:I,_updateValid:y,_removeUnmounted:D,_updateFieldArray:g,_updateDisabledField:ie,_getFieldArray:N,_reset:oe,_resetDefaultValues:()=>Di(e.defaultValues)&&e.defaultValues().then(j=>{ge(j,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:j=>{n={...n,...j}},_disableForm:Ee,_subjects:d,_proxyFormState:c,_setErrors:b,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return r},get _names(){return o},set _names(j){o=j},get _formState(){return n},set _formState(j){n=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:B,register:ae,handleSubmit:ye,watch:H,setValue:O,getValues:V,reset:ge,resetField:J,clearErrors:q,unregister:Z,setError:$,setFocus:(j,F={})=>{const G=re(i,j),Y=G&&G._f;if(Y){const K=Y.refs?Y.refs[0]:Y.ref;K.focus&&(K.focus(),F.shouldSelect&&Di(K.select)&&K.select())}},getFieldState:z}}function FB(t={}){const e=ne.useRef(),n=ne.useRef(),[i,r]=ne.useState({isDirty:!1,isValidating:!1,isLoading:Di(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Di(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...$B(t),formState:i});const s=e.current.control;return s._options=t,OB({subject:s._subjects.state,next:a=>{RB(a,s._proxyFormState,s._updateFormState)&&r({...s._formState})}}),ne.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ne.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==i.isDirty&&s._subjects.state.next({isDirty:a})}},[s,i.isDirty]),ne.useEffect(()=>{t.values&&!hs(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,r(a=>({...a}))):s._resetDefaultValues()},[t.values,s]),ne.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),ne.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),ne.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),ne.useMemo(()=>({...e.current,formState:AB(i,s)}),[i,s])}const VB=t=>x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:66,height:40,viewBox:"0 0 80 48.3",...t},x.createElement("defs",null,x.createElement("style",null,`\r
      .cls-1 {\r
        fill: #005fff;\r
      }\r
    `)),x.createElement("g",{id:"slo 2","data-name":"slo 2"},x.createElement("g",{id:"slo 1","data-name":"slo 1"},x.createElement("g",null,x.createElement("path",{className:"cls-1",d:"M78.07,10.78a11.59,11.59,0,0,0-7.3-6.07c-9-2.55-14.64,5.6-18.72,11.56l-.21.29c-1.1,1.62-3.44,4.23-6.54,3.76-3.36-.53-4.62-4.06-5.08-6.12-.13-.62-.24-1.2-.35-1.76a20.45,20.45,0,0,0-1.69-5.66A12.58,12.58,0,0,0,28.88.15a12.35,12.35,0,0,0-10.72,3.5C8.23,13.7.52,38.94.2,40A4.58,4.58,0,0,0,9,42.66C11,36,17.76,17.09,24.67,10.1a3.27,3.27,0,0,1,2.83-.9A3.39,3.39,0,0,1,30.05,11a14.83,14.83,0,0,1,.83,3.2c.12.63.25,1.29.4,2,1.6,7.28,6.31,12.22,12.6,13.21,5.89.94,11.56-1.85,15.52-7.62l.2-.3c3.6-5.25,6.15-8.65,8.68-7.92A2.42,2.42,0,0,1,69.91,15c2.45,4.78-.26,17.39-3,24.94l-.79,2.38a4.58,4.58,0,0,0,8.69,2.9l.75-2.26C76.36,40.7,83.29,21,78.07,10.78Z"}),x.createElement("path",{className:"cls-1",d:"M19.63,34a4.55,4.55,0,0,0-2,6.08,4.6,4.6,0,0,0,6.09,2.13c.42-.19,2.62-1.11,3.85.35a4.58,4.58,0,1,0,7-5.91C29.79,31,22.71,32.45,19.63,34Z"}),x.createElement("path",{className:"cls-1",d:"M44.44,37a4.58,4.58,0,1,0,3.82,8.32s2.53-1.1,3.79.51a4.57,4.57,0,0,0,6.43.78,4.58,4.58,0,0,0,.78-6.43C54.7,34.38,47.58,35.57,44.44,37Z"}))))),qB="_form_ad3xy_11",GB="_form__input_ad3xy_44",WB="_form__svg_ad3xy_86",YB="_form__label_ad3xy_96",XB="_form__link_ad3xy_105",KB="_form__btn_ad3xy_122",QB="_rotate_ad3xy_1",_e={"form-wrapper":"_form-wrapper_ad3xy_11","form-wrapper__logo":"_form-wrapper__logo_ad3xy_19","form-wrapper__title":"_form-wrapper__title_ad3xy_26",form:qB,"form__input-bg":"_form__input-bg_ad3xy_44",form__input:GB,"form__input-error":"_form__input-error_ad3xy_64","form__input-wrapper":"_form__input-wrapper_ad3xy_67","form__hide-btn":"_form__hide-btn_ad3xy_73",form__svg:WB,form__label:YB,"form__label-error":"_form__label-error_ad3xy_102",form__link:XB,form__btn:KB,"form__circular-progressbar":"_form__circular-progressbar_ad3xy_143",rotate:QB,"form__circular-progressbar-wrapper":"_form__circular-progressbar-wrapper_ad3xy_146","fade-in":"_fade-in_ad3xy_1"};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var s1=function(t,e){return s1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])},s1(t,e)};function ZB(t,e){s1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var JB=100,ez=100,rC=50,a1=50,o1=50;function sC(t){var e=t.className,n=t.counterClockwise,i=t.dashRatio,r=t.pathRadius,s=t.strokeWidth,a=t.style;return x.createElement("path",{className:e,style:Object.assign({},a,nz({pathRadius:r,dashRatio:i,counterClockwise:n})),d:tz({pathRadius:r,counterClockwise:n}),strokeWidth:s,fillOpacity:0})}function tz(t){var e=t.pathRadius,n=t.counterClockwise,i=e,r=n?1:0;return`
      M `+a1+","+o1+`
      m 0,-`+i+`
      a `+i+","+i+" "+r+" 1 1 0,"+2*i+`
      a `+i+","+i+" "+r+" 1 1 0,-"+2*i+`
    `}function nz(t){var e=t.counterClockwise,n=t.dashRatio,i=t.pathRadius,r=Math.PI*2*i,s=(1-n)*r;return{strokeDasharray:r+"px "+r+"px",strokeDashoffset:(e?-s:s)+"px"}}var Xl=function(t){ZB(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return rC-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var n=this.props,i=n.value,r=n.minValue,s=n.maxValue,a=Math.min(Math.max(i,r),s);return(a-r)/(s-r)},e.prototype.render=function(){var n=this.props,i=n.circleRatio,r=n.className,s=n.classes,a=n.counterClockwise,o=n.styles,l=n.strokeWidth,u=n.text,c=this.getPathRadius(),d=this.getPathRatio();return x.createElement("svg",{className:s.root+" "+r,style:o.root,viewBox:"0 0 "+JB+" "+ez,"data-test-id":"CircularProgressbar"},this.props.background?x.createElement("circle",{className:s.background,style:o.background,cx:a1,cy:o1,r:rC}):null,x.createElement(sC,{className:s.trail,counterClockwise:a,dashRatio:i,pathRadius:c,strokeWidth:l,style:o.trail}),x.createElement(sC,{className:s.path,counterClockwise:a,dashRatio:d*i,pathRadius:c,strokeWidth:l,style:o.path}),u?x.createElement("text",{className:s.text,style:o.text,x:a1,y:o1},u):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e}(x.Component);function Kl(t){var e=t.rotation,n=t.strokeLinecap,i=t.textColor,r=t.textSize,s=t.pathColor,a=t.pathTransition,o=t.pathTransitionDuration,l=t.trailColor,u=t.backgroundColor,c=e==null?void 0:"rotate("+e+"turn)",d=e==null?void 0:"center center";return{root:{},path:tf({stroke:s,strokeLinecap:n,transform:c,transformOrigin:d,transition:a,transitionDuration:o==null?void 0:o+"s"}),trail:tf({stroke:l,strokeLinecap:n,transform:c,transformOrigin:d}),text:tf({fill:i,fontSize:r}),background:tf({fill:u})}}function tf(t){return Object.keys(t).forEach(function(e){t[e]==null&&delete t[e]}),t}const iz=()=>{const t=x.useContext(_A);if(!t)throw new Error("useAuthContext is null");return t},Jy=({btnText:t,isRegister:e,isLogin:n,isResetPassword:i,setIsMessageSended:r})=>{const[s,a]=x.useState(!1),[o,l]=x.useState(!0),[u,c]=x.useState(""),[d,f]=x.useState(""),[h,p]=x.useState(""),[v,y]=x.useState(""),m=x.useRef(null),{setRegisterUsername:g}=iz(),{register:_,formState:{errors:b},handleSubmit:A,setError:E}=FB({mode:"all"}),{ref:M}=_("password");x.useEffect(()=>()=>{a(!1)},[]);const w=()=>{m.current&&m.current.focus()},S=T=>{a(!0);const D=ey();e?J8(D,T.email,T.password).then(async({user:I})=>{I&&g(T.username)}).catch(I=>{const k=I.code,N=I.message;console.log(k,N),k==="auth/email-already-in-use"&&E("email",{type:"manual",message:"Email адрес уже зарегистрирован"}),a(!1)}):n?eD(D,T.email,T.password).catch(I=>{const k=I.code,N=I.message;k&&(E("password",{type:"manual",message:"Неверный пароль"}),console.log(N),a(!1))}):i&&Z8(D,T.email).then(()=>{r&&r(!0),a(!1)}).catch(I=>{const k=I.code,N=I.message;k&&(E("email",{type:"manual",message:"Данный аккаунт не существует"}),console.log(N)),a(!1)})};return C.jsx(C.Fragment,{children:C.jsxs("div",{className:_e["form-wrapper"],children:[C.jsx(VB,{className:_e["form-wrapper__logo"]}),n&&C.jsx("h1",{className:_e["form-wrapper__title"],children:"Войти в Online Chat"}),e&&C.jsx("h1",{className:_e["form-wrapper__title"],children:"Регистрация в Online Chat"}),i&&C.jsx("h1",{className:_e["form-wrapper__title"],children:"Сброс пароля в Online Chat"}),C.jsxs("form",{onSubmit:A(S),className:_e.form,children:[C.jsx("label",{className:b.email?`${_e.form__label} ${_e["form__label-error"]}`:_e.form__label,htmlFor:"login",children:b.email?b.email.message:"Введите email"}),C.jsx("input",{value:u,..._("email",{required:{value:!0,message:"Обязательное поле"},pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Неверный email адрес"}}),onChange:T=>c(T.target.value),className:b.email?`${_e["form__input-bg"]} ${_e["form__input-error"]}`:`${_e["form__input-bg"]}`,type:"text",placeholder:"example@email.com"}),e&&C.jsx("label",{className:b.password?`${_e.form__label} ${_e["form__label-error"]}`:_e.form__label,htmlFor:"password",children:b.password?b.password.message:"Задайте пароль"}),n&&C.jsx("label",{className:b.password?`${_e.form__label} ${_e["form__label-error"]}`:_e.form__label,htmlFor:"password",children:b.password&&!e?b.password.message:"Введите пароль"}),!i&&C.jsxs("div",{className:b.password?`${_e["form__input-bg"]} ${_e["form__input-wrapper"]} ${_e["form__input-error"]}`:`${_e["form__input-bg"]} ${_e["form__input-wrapper"]}`,onClick:w,children:[C.jsx("input",{..._("password",{required:{value:!0,message:"Обязательное поле"},minLength:{value:8,message:"Минимальная длина 8 символов"},maxLength:{value:32,message:"Максимальная длина 32 символа"}}),ref:T=>{M(T),m.current=T},className:_e.form__input,value:d,onChange:T=>f(T.target.value),type:o?"password":"text",placeholder:"Пароль"}),o&&d.length>0&&C.jsx("div",{onClick:()=>l(T=>!T),className:_e["form__hide-btn"],children:C.jsx(wB,{className:_e.form__svg})}),!o&&d.length>0&&C.jsx("div",{onClick:()=>l(T=>!T),className:_e["form__hide-btn"],children:C.jsx(EB,{className:_e.form__svg})})]}),e&&C.jsxs(C.Fragment,{children:[C.jsx("label",{className:b.confirmPassword?`${_e.form__label} ${_e["form__label-error"]}`:_e.form__label,htmlFor:"confirmPassword",children:b.confirmPassword?b.confirmPassword.message:"Подтвердите пароль"}),C.jsx("input",{..._("confirmPassword",{required:{value:!0,message:"Обязательное поле"},minLength:{value:8,message:"Минимальная длина 8 символов"},maxLength:{value:32,message:"Максимальная длина 32 символа"},validate:{matchesPassword:T=>{if(T!==d)return"Пароли не совпадают"}}}),className:b.confirmPassword?`${_e["form__input-bg"]} ${_e["form__input-error"]}`:`${_e["form__input-bg"]}`,value:h,onChange:T=>p(T.target.value),type:"password",placeholder:"Пароль"}),C.jsx("label",{className:b.username?`${_e.form__label} ${_e["form__label-error"]}`:_e.form__label,htmlFor:"username",children:b.username?b.username.message:"Введите имя"}),C.jsx("input",{value:v,..._("username",{required:{value:!0,message:"Обязательное поле"},minLength:{value:3,message:"Минимальная длина 3 символа"},maxLength:{value:32,message:"Максимальная длина 32 символа"},validate:{minLengthNoSpaces:T=>T.replace(/\s/g,"").length>=3||"Минимальная длина 3 символа"},pattern:{value:/^[a-zA-Zа-яА-Я0-9\s]+$/,message:"Допускаются только буквы и цифры"}}),onChange:T=>y(T.target.value),className:b.email?`${_e["form__input-bg"]} ${_e["form__input-error"]}`:`${_e["form__input-bg"]}`,type:"text",placeholder:"Имя"})]}),n&&C.jsx(Ec,{to:"/register",className:_e.form__link,children:"Создать аккаунт"}),n&&C.jsx(Ec,{to:"/reset-password",className:_e.form__link,children:"Не помню пароль"}),e&&C.jsx(Ec,{to:"/login",className:_e.form__link,children:"Войти в аккаунт"}),i&&C.jsx(Ec,{to:"/login",className:_e.form__link,children:"Войти в аккаунт"}),C.jsxs("button",{className:_e.form__btn,children:[s&&C.jsx("div",{className:_e["form__circular-progressbar-wrapper"],children:C.jsx(Xl,{className:_e["form__circular-progressbar"],value:66,styles:Kl({strokeLinecap:"round",pathTransitionDuration:.5,pathColor:"rgb(255, 255, 255)",trailColor:"none"})})}),!s&&t]})]})]})})},aC={"first-section":"_first-section_1jvrd_1","first-section__content":"_first-section__content_1jvrd_5"},rz=()=>C.jsx("section",{className:aC["first-section"],children:C.jsx("div",{className:"container container--height",children:C.jsx("div",{className:aC["first-section__content"],children:C.jsx(Jy,{isLogin:!0,btnText:"Войти"})})})}),sz=()=>C.jsx("main",{children:C.jsx(rz,{})}),oC={"first-section":"_first-section_1jvrd_1","first-section__content":"_first-section__content_1jvrd_5"},az=()=>C.jsx("section",{className:oC["first-section"],children:C.jsx("div",{className:"container container--height",children:C.jsx("div",{className:oC["first-section__content"],children:C.jsx(Jy,{btnText:"Зарегистрироваться",isRegister:!0})})})}),oz=()=>C.jsx("main",{children:C.jsx(az,{})}),lC={"reset-password-section":"_reset-password-section_wrca8_1","reset-password-section__content":"_reset-password-section__content_wrca8_5"},lz=({setIsMessageSended:t})=>C.jsx("section",{className:lC["reset-password-section"],children:C.jsx("div",{className:"container container--height",children:C.jsx("div",{className:lC["reset-password-section__content"],children:C.jsx(Jy,{setIsMessageSended:t,isResetPassword:!0,btnText:"Направить письмо на почту"})})})}),cz="_alert_1f36s_1",uz="_alert__title_1f36s_31",dz="_alert__line_1f36s_38",Xr={"alert-section":"_alert-section_1f36s_1","alert-section__main-wrapper":"_alert-section__main-wrapper_1f36s_5","alert-section__content":"_alert-section__content_1f36s_9","alert-section__title":"_alert-section__title_1f36s_14",alert:cz,alert__title:uz,alert__line:dz,"alert__home-link":"_alert__home-link_1f36s_44"},fz=()=>C.jsx("section",{className:Xr["alert-section"],children:C.jsx("div",{className:"container",children:C.jsxs("div",{className:Xr["alert-section__content"],children:[C.jsx("h1",{className:Xr["alert-section__title"],children:"Сброс пароля"}),C.jsx("div",{className:Xr["alert-section__main-wrapper"],children:C.jsxs("div",{className:Xr.alert,children:[C.jsx("h2",{className:Xr.alert__title,children:"Проверьте Вашу почту."}),C.jsx("hr",{className:Xr.alert__line}),C.jsx(Ec,{className:Xr["alert__home-link"],to:"/login",children:"Вернуться ко входу"})]})})]})})}),hz=()=>{const[t,e]=x.useState(!1);return C.jsxs("main",{children:[!t&&C.jsx(lz,{setIsMessageSended:e}),t&&C.jsx(fz,{})]})},xA=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 21H3V16.757L16.435 3.32202C16.8255 2.93164 17.4585 2.93164 17.849 3.32202L20.678 6.15102C21.0684 6.54152 21.0684 7.17452 20.678 7.56502L9.243 19H21V21ZM5 19H6.414L15.728 9.68603L14.314 8.27203L5 17.586V19ZM18.556 6.85802L17.142 8.27203L15.728 6.85802L17.142 5.44402L18.556 6.85802Z",fill:"black"})),pz=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11ZM12 9C13.1046 9 14 8.10457 14 7C14 5.89543 13.1046 5 12 5C10.8954 5 10 5.89543 10 7C10 8.10457 10.8954 9 12 9ZM6.5 4C4.567 4 3 5.567 3 7.5C3 9.433 4.567 11 6.5 11C7.05228 11 7.5 10.5523 7.5 10C7.5 9.44772 7.05228 9 6.5 9C5.67157 9 5 8.32843 5 7.5C5 6.67157 5.67157 6 6.5 6C7.05228 6 7.5 5.55228 7.5 5C7.5 4.44772 7.05228 4 6.5 4ZM5 19C5 15.134 8.13401 12 12 12C15.866 12 19 15.134 19 19C19 19.397 18.9669 19.7869 18.903 20.1671C18.8115 20.7118 18.2958 21.0791 17.7511 20.9876C17.2065 20.8961 16.8391 20.3804 16.9306 19.8357C16.9762 19.5646 17 19.2855 17 19C17 16.2386 14.7614 14 12 14C9.23858 14 7 16.2386 7 19C7 19.2864 7.02397 19.5664 7.06981 19.8383C7.16161 20.3829 6.79454 20.8988 6.24994 20.9906C5.70533 21.0824 5.18943 20.7154 5.09763 20.1708C5.03335 19.7894 5 19.3982 5 19ZM4.85402 13.7725C5.28304 13.4247 5.34889 12.7949 5.0011 12.3659C4.6533 11.9369 4.02357 11.8711 3.59455 12.2188C2.01345 13.5006 1 15.4618 1 17.659C1 18.0572 1.03335 18.4484 1.09763 18.8297C1.18943 19.3743 1.70533 19.7414 2.24994 19.6496C2.79454 19.5578 3.16161 19.0419 3.06981 18.4973C3.02397 18.2253 3 17.9453 3 17.659C3 16.0903 3.72123 14.6908 4.85402 13.7725ZM21.5 7.5C21.5 5.567 19.933 4 18 4C17.4477 4 17 4.44772 17 5C17 5.55228 17.4477 6 18 6C18.8284 6 19.5 6.67157 19.5 7.5C19.5 8.32843 18.8284 9 18 9C17.4477 9 17 9.44772 17 10C17 10.5523 17.4477 11 18 11C19.933 11 21.5 9.433 21.5 7.5ZM19.3703 13.7725C18.9413 13.4247 18.8755 12.7949 19.2233 12.3659C19.5711 11.9369 20.2008 11.8711 20.6298 12.2188C22.2109 13.5006 23.2244 15.4618 23.2244 17.659C23.2244 18.0572 23.191 18.4484 23.1267 18.8297C23.0349 19.3743 22.519 19.7414 21.9744 19.6496C21.4298 19.5578 21.0628 19.0419 21.1546 18.4973C21.2004 18.2253 21.2244 17.9453 21.2244 17.659C21.2244 16.0903 20.5031 14.6908 19.3703 13.7725Z",fill:"black"})),AA=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11ZM12 9C13.1046 9 14 8.10457 14 7C14 5.89543 13.1046 5 12 5C10.8954 5 10 5.89543 10 7C10 8.10457 10.8954 9 12 9ZM12 14C6.4686 14 4 17.6324 4 20C4 20.5523 3.55228 21 3 21C2.44771 21 2 20.5523 2 20C2 16.3676 5.5314 12 12 12C18.4686 12 22 16.3676 22 20C22 20.5523 21.5523 21 21 21C20.4477 21 20 20.5523 20 20C20 17.6324 17.5314 14 12 14Z",fill:"black"})),mz="_btn_16ngt_1",gz="_btn__text_16ngt_11",_z="_btn__svg_16ngt_18",Qg={btn:mz,btn__text:gz,btn__svg:_z},Zg=({Svg:t,onBtnClick:e,text:n})=>C.jsxs("button",{tabIndex:1,onClick:e,className:Qg.btn,children:[C.jsx(t,{className:Qg.btn__svg}),C.jsx("span",{className:Qg.btn__text,children:n})]}),vz="_active_1rxqa_47",go={"my-panel-backdrop":"_my-panel-backdrop_1rxqa_1","my-panel":"_my-panel_1rxqa_1","my-panel__user-wrapper":"_my-panel__user-wrapper_1rxqa_28","my-panel__user-name":"_my-panel__user-name_1rxqa_37",active:vz},yz="_rotate_1byju_1",_o={"upload-avatar":"_upload-avatar_1byju_2","upload-avatar--loading":"_upload-avatar--loading_1byju_8","upload-avatar__camera-icon":"_upload-avatar__camera-icon_1byju_11","upload-avatar__error-icon":"_upload-avatar__error-icon_1byju_34","upload-avatar__circular-progressbar-wrapper":"_upload-avatar__circular-progressbar-wrapper_1byju_53","upload-avatar__circular-progressbar":"_upload-avatar__circular-progressbar_1byju_53",rotate:yz},bz="_fadeIn_4ja1r_1",bn={"avatar-image":"_avatar-image_4ja1r_1","avatar-image--little":"_avatar-image--little_4ja1r_12","avatar-image--svg":"_avatar-image--svg_4ja1r_17","avatar-image__icon":"_avatar-image__icon_4ja1r_22","avatar-image__icon--little":"_avatar-image__icon--little_4ja1r_29","avatar-image--animated":"_avatar-image--animated_4ja1r_35",fadeIn:bz},RA=ne.createContext({}),OA=!0;function wz({baseColor:t,highlightColor:e,width:n,height:i,borderRadius:r,circle:s,direction:a,duration:o,enableAnimation:l=OA,customHighlightBackground:u}){const c={};return a==="rtl"&&(c["--animation-direction"]="reverse"),typeof o=="number"&&(c["--animation-duration"]=`${o}s`),l||(c["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(c.width=n),(typeof i=="string"||typeof i=="number")&&(c.height=i),(typeof r=="string"||typeof r=="number")&&(c.borderRadius=r),s&&(c.borderRadius="50%"),typeof t<"u"&&(c["--base-color"]=t),typeof e<"u"&&(c["--highlight-color"]=e),typeof u=="string"&&(c["--custom-highlight-background"]=u),c}function Vu({count:t=1,wrapper:e,className:n,containerClassName:i,containerTestId:r,circle:s=!1,style:a,...o}){var l,u,c;const d=ne.useContext(RA),f={...o};for(const[_,b]of Object.entries(o))typeof b>"u"&&delete f[_];const h={...d,...f,circle:s},p={...a,...wz(h)};let v="react-loading-skeleton";n&&(v+=` ${n}`);const y=(l=h.inline)!==null&&l!==void 0?l:!1,m=[],g=Math.ceil(t);for(let _=0;_<g;_++){let b=p;if(g>t&&_===g-1){const E=(u=b.width)!==null&&u!==void 0?u:"100%",M=t%1,w=typeof E=="number"?E*M:`calc(${E} * ${M})`;b={...b,width:w}}const A=ne.createElement("span",{className:v,style:b,key:_},"‌");y?m.push(A):m.push(ne.createElement(ne.Fragment,{key:_},A,ne.createElement("br",null)))}return ne.createElement("span",{className:i,"data-testid":r,"aria-live":"polite","aria-busy":(c=h.enableAnimation)!==null&&c!==void 0?c:OA},e?m.map((_,b)=>ne.createElement(e,{key:b},_)):m)}function qu({children:t,...e}){return ne.createElement(RA.Provider,{value:e},t)}const na=ne.memo(({AvatarImg:t,isLittle:e,animated:n})=>{const[i,r]=x.useState(!1);return C.jsxs(C.Fragment,{children:[t==null&&i===!1&&C.jsx(qu,{borderRadius:999,highlightColor:"var(--base-white-snow)",baseColor:"var(--base-grey-gainsboro)",children:C.jsx(Vu,{className:`${bn["avatar-image"]} ${bn["avatar-image--svg"]} ${e?bn["avatar-image--little"]:""} ${n?bn["avatar-image--animated"]:""}`})}),((t==null?void 0:t.length)===0||i===!0)&&C.jsx("div",{className:`${bn["avatar-image"]} ${bn["avatar-image--svg"]} ${e?bn["avatar-image--little"]:""} ${n?bn["avatar-image--animated"]:""}`,onDragStart:s=>s.preventDefault(),children:C.jsx(AA,{className:`${bn["avatar-image__icon"]} ${e?bn["avatar-image__icon--little"]:""}`})}),(t==null?void 0:t.length)>0&&i===!1&&C.jsx("img",{src:t,alt:"",onError:()=>{r(!0)},onDragStart:s=>s.preventDefault(),className:`${bn["avatar-image"]} ${e?bn["avatar-image--little"]:""} ${n?bn["avatar-image--animated"]:""}`})]})});function Im(){const t=x.useContext(gx);if(!t)throw new Error("useBodyLockContext is null");return t}const Od=({setCbState:t})=>{const{toggleBodyLock:e}=Im();return{toggleModal:(i,r,s)=>{r?(e(),setTimeout(()=>{t(i),s&&s()},r)):(t(i),s&&s(),e())}}};function Ez(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in t)){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(t)}function NA(t,e){return new Promise(function(n,i){let r;return Cz(t).then(function(s){try{return r=s,n(new Blob([e.slice(0,2),r,e.slice(2)],{type:"image/jpeg"}))}catch(a){return i(a)}},i)})}const Cz=t=>new Promise((e,n)=>{const i=new FileReader;i.addEventListener("load",({target:{result:r}})=>{const s=new DataView(r);let a=0;if(s.getUint16(a)!==65496)return n("not a valid JPEG");for(a+=2;;){const o=s.getUint16(a);if(o===65498)break;const l=s.getUint16(a+2);if(o===65505&&s.getUint32(a+4)===1165519206){const u=a+10;let c;switch(s.getUint16(u)){case 18761:c=!0;break;case 19789:c=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(u+2,c)!==42)return n("TIFF header contains invalid version");const d=s.getUint32(u+4,c),f=u+d+2+12*s.getUint16(u+d,c);for(let h=u+d+2;h<f;h+=12)if(s.getUint16(h,c)==274){if(s.getUint16(h+2,c)!==3)return n("Orientation data type is invalid");if(s.getUint32(h+4,c)!==1)return n("Orientation data count is invalid");s.setUint16(h+8,1,c);break}return e(r.slice(a,a+2+l))}a+=2+l}return e(new Blob)}),i.readAsArrayBuffer(t)});var ip={},Sz={get exports(){return ip},set exports(t){ip=t}};(function(t){var e,n,i={};Sz.exports=i,i.parse=function(r,s){for(var a=i.bin.readUshort,o=i.bin.readUint,l=0,u={},c=new Uint8Array(r),d=c.length-4;o(c,d)!=101010256;)d--;l=d,l+=4;var f=a(c,l+=4);a(c,l+=2);var h=o(c,l+=2),p=o(c,l+=4);l+=4,l=p;for(var v=0;v<f;v++){o(c,l),l+=4,l+=4,l+=4,o(c,l+=4),h=o(c,l+=4);var y=o(c,l+=4),m=a(c,l+=4),g=a(c,l+2),_=a(c,l+4);l+=6;var b=o(c,l+=8);l+=4,l+=m+g+_,i._readLocal(c,b,u,h,y,s)}return u},i._readLocal=function(r,s,a,o,l,u){var c=i.bin.readUshort,d=i.bin.readUint;d(r,s),c(r,s+=4),c(r,s+=2);var f=c(r,s+=2);d(r,s+=2),d(r,s+=4),s+=4;var h=c(r,s+=8),p=c(r,s+=2);s+=2;var v=i.bin.readUTF8(r,s,h);if(s+=h,s+=p,u)a[v]={size:l,csize:o};else{var y=new Uint8Array(r.buffer,s);if(f==0)a[v]=new Uint8Array(y.buffer.slice(s,s+o));else{if(f!=8)throw"unknown compression method: "+f;var m=new Uint8Array(l);i.inflateRaw(y,m),a[v]=m}}},i.inflateRaw=function(r,s){return i.F.inflate(r,s)},i.inflate=function(r,s){return r[0],r[1],i.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),s)},i.deflate=function(r,s){s==null&&(s={level:6});var a=0,o=new Uint8Array(50+Math.floor(1.1*r.length));o[a]=120,o[a+1]=156,a+=2,a=i.F.deflateRaw(r,o,a,s.level);var l=i.adler(r,0,r.length);return o[a+0]=l>>>24&255,o[a+1]=l>>>16&255,o[a+2]=l>>>8&255,o[a+3]=l>>>0&255,new Uint8Array(o.buffer,0,a+4)},i.deflateRaw=function(r,s){s==null&&(s={level:6});var a=new Uint8Array(50+Math.floor(1.1*r.length)),o=i.F.deflateRaw(r,a,o,s.level);return new Uint8Array(a.buffer,0,o)},i.encode=function(r,s){s==null&&(s=!1);var a=0,o=i.bin.writeUint,l=i.bin.writeUshort,u={};for(var c in r){var d=!i._noNeed(c)&&!s,f=r[c],h=i.crc.crc(f,0,f.length);u[c]={cpr:d,usize:f.length,crc:h,file:d?i.deflateRaw(f):f}}for(var c in u)a+=u[c].file.length+30+46+2*i.bin.sizeUTF8(c);a+=22;var p=new Uint8Array(a),v=0,y=[];for(var c in u){var m=u[c];y.push(v),v=i._writeHeader(p,v,c,m,0)}var g=0,_=v;for(var c in u)m=u[c],y.push(v),v=i._writeHeader(p,v,c,m,1,y[g++]);var b=v-_;return o(p,v,101010256),v+=4,l(p,v+=4,g),l(p,v+=2,g),o(p,v+=2,b),o(p,v+=4,_),v+=4,v+=2,p.buffer},i._noNeed=function(r){var s=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},i._writeHeader=function(r,s,a,o,l,u){var c=i.bin.writeUint,d=i.bin.writeUshort,f=o.file;return c(r,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),d(r,s,20),d(r,s+=2,0),d(r,s+=2,o.cpr?8:0),c(r,s+=2,0),c(r,s+=4,o.crc),c(r,s+=4,f.length),c(r,s+=4,o.usize),d(r,s+=4,i.bin.sizeUTF8(a)),d(r,s+=2,0),s+=2,l==1&&(s+=2,s+=2,c(r,s+=6,u),s+=4),s+=i.bin.writeUTF8(r,s,a),l==0&&(r.set(f,s),s+=f.length),s},i.crc={table:function(){for(var r=new Uint32Array(256),s=0;s<256;s++){for(var a=s,o=0;o<8;o++)1&a?a=3988292384^a>>>1:a>>>=1;r[s]=a}return r}(),update:function(r,s,a,o){for(var l=0;l<o;l++)r=i.crc.table[255&(r^s[a+l])]^r>>>8;return r},crc:function(r,s,a){return 4294967295^i.crc.update(4294967295,r,s,a)}},i.adler=function(r,s,a){for(var o=1,l=0,u=s,c=s+a;u<c;){for(var d=Math.min(u+5552,c);u<d;)l+=o+=r[u++];o%=65521,l%=65521}return l<<16|o},i.bin={readUshort:function(r,s){return r[s]|r[s+1]<<8},writeUshort:function(r,s,a){r[s]=255&a,r[s+1]=a>>8&255},readUint:function(r,s){return 16777216*r[s+3]+(r[s+2]<<16|r[s+1]<<8|r[s])},writeUint:function(r,s,a){r[s]=255&a,r[s+1]=a>>8&255,r[s+2]=a>>16&255,r[s+3]=a>>24&255},readASCII:function(r,s,a){for(var o="",l=0;l<a;l++)o+=String.fromCharCode(r[s+l]);return o},writeASCII:function(r,s,a){for(var o=0;o<a.length;o++)r[s+o]=a.charCodeAt(o)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,s,a){for(var o,l="",u=0;u<a;u++)l+="%"+i.bin.pad(r[s+u].toString(16));try{o=decodeURIComponent(l)}catch{return i.bin.readASCII(r,s,a)}return o},writeUTF8:function(r,s,a){for(var o=a.length,l=0,u=0;u<o;u++){var c=a.charCodeAt(u);if(!(4294967168&c))r[s+l]=c,l++;else if(!(4294965248&c))r[s+l]=192|c>>6,r[s+l+1]=128|c>>0&63,l+=2;else if(!(4294901760&c))r[s+l]=224|c>>12,r[s+l+1]=128|c>>6&63,r[s+l+2]=128|c>>0&63,l+=3;else{if(4292870144&c)throw"e";r[s+l]=240|c>>18,r[s+l+1]=128|c>>12&63,r[s+l+2]=128|c>>6&63,r[s+l+3]=128|c>>0&63,l+=4}}return l},sizeUTF8:function(r){for(var s=r.length,a=0,o=0;o<s;o++){var l=r.charCodeAt(o);if(!(4294967168&l))a++;else if(!(4294965248&l))a+=2;else if(!(4294901760&l))a+=3;else{if(4292870144&l)throw"e";a+=4}}return a}},i.F={},i.F.deflateRaw=function(r,s,a,o){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],u=i.F.U,c=i.F._goodIndex;i.F._hash;var d=i.F._putsE,f=0,h=a<<3,p=0,v=r.length;if(o==0){for(;f<v;)d(s,h,f+(D=Math.min(65535,v-f))==v?1:0),h=i.F._copyExact(r,f,D,s,h+8),f+=D;return h>>>3}var y=u.lits,m=u.strt,g=u.prev,_=0,b=0,A=0,E=0,M=0,w=0;for(v>2&&(m[w=i.F._hash(r,0)]=0),f=0;f<v;f++){if(M=w,f+1<v-2){w=i.F._hash(r,f+1);var S=f+1&32767;g[S]=m[w],m[w]=S}if(p<=f){(_>14e3||b>26697)&&v-f>100&&(p<f&&(y[_]=f-p,_+=2,p=f),h=i.F._writeBlock(f==v-1||p==v?1:0,y,_,E,r,A,f-A,s,h),_=b=E=0,A=f);var T=0;f<v-2&&(T=i.F._bestMatch(r,f,g,M,Math.min(l[2],v-f),l[3]));var D=T>>>16,I=65535&T;if(T!=0){I=65535&T;var k=c(D=T>>>16,u.of0);u.lhst[257+k]++;var N=c(I,u.df0);u.dhst[N]++,E+=u.exb[k]+u.dxb[N],y[_]=D<<23|f-p,y[_+1]=I<<16|k<<8|N,_+=2,p=f+D}else u.lhst[r[f]]++;b++}}for(A==f&&r.length!=0||(p<f&&(y[_]=f-p,_+=2,p=f),h=i.F._writeBlock(1,y,_,E,r,A,f-A,s,h),_=0,b=0,_=b=E=0,A=f);7&h;)h++;return h>>>3},i.F._bestMatch=function(r,s,a,o,l,u){var c=32767&s,d=a[c],f=c-d+32768&32767;if(d==c||o!=i.F._hash(r,s-f))return 0;for(var h=0,p=0,v=Math.min(32767,s);f<=v&&--u!=0&&d!=c;){if(h==0||r[s+h]==r[s+h-f]){var y=i.F._howLong(r,s,f);if(y>h){if(p=f,(h=y)>=l)break;f+2<y&&(y=f+2);for(var m=0,g=0;g<y-2;g++){var _=s-f+g+32768&32767,b=_-a[_]+32768&32767;b>m&&(m=b,d=_)}}}f+=(c=d)-(d=a[c])+32768&32767}return h<<16|p},i.F._howLong=function(r,s,a){if(r[s]!=r[s-a]||r[s+1]!=r[s+1-a]||r[s+2]!=r[s+2-a])return 0;var o=s,l=Math.min(r.length,s+258);for(s+=3;s<l&&r[s]==r[s-a];)s++;return s-o},i.F._hash=function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(r,s,a,o,l,u,c,d,f){var h,p,v,y,m,g,_,b,A,E=i.F.U,M=i.F._putsF,w=i.F._putsE;E.lhst[256]++,p=(h=i.F.getTrees())[0],v=h[1],y=h[2],m=h[3],g=h[4],_=h[5],b=h[6],A=h[7];var S=32+(f+3&7?8-(f+3&7):0)+(c<<3),T=o+i.F.contSize(E.fltree,E.lhst)+i.F.contSize(E.fdtree,E.dhst),D=o+i.F.contSize(E.ltree,E.lhst)+i.F.contSize(E.dtree,E.dhst);D+=14+3*_+i.F.contSize(E.itree,E.ihst)+(2*E.ihst[16]+3*E.ihst[17]+7*E.ihst[18]);for(var I=0;I<286;I++)E.lhst[I]=0;for(I=0;I<30;I++)E.dhst[I]=0;for(I=0;I<19;I++)E.ihst[I]=0;var k=S<T&&S<D?0:T<D?1:2;if(M(d,f,r),M(d,f+1,k),f+=3,k==0){for(;7&f;)f++;f=i.F._copyExact(l,u,c,d,f)}else{var N,L;if(k==1&&(N=E.fltree,L=E.fdtree),k==2){i.F.makeCodes(E.ltree,p),i.F.revCodes(E.ltree,p),i.F.makeCodes(E.dtree,v),i.F.revCodes(E.dtree,v),i.F.makeCodes(E.itree,y),i.F.revCodes(E.itree,y),N=E.ltree,L=E.dtree,w(d,f,m-257),w(d,f+=5,g-1),w(d,f+=5,_-4),f+=4;for(var R=0;R<_;R++)w(d,f+3*R,E.itree[1+(E.ordr[R]<<1)]);f+=3*_,f=i.F._codeTiny(b,E.itree,d,f),f=i.F._codeTiny(A,E.itree,d,f)}for(var O=u,P=0;P<a;P+=2){for(var U=s[P],B=U>>>23,V=O+(8388607&U);O<V;)f=i.F._writeLit(l[O++],N,d,f);if(B!=0){var z=s[P+1],q=z>>16,$=z>>8&255,H=255&z;w(d,f=i.F._writeLit(257+$,N,d,f),B-E.of0[$]),f+=E.exb[$],M(d,f=i.F._writeLit(H,L,d,f),q-E.df0[H]),f+=E.dxb[H],O+=B}}f=i.F._writeLit(256,N,d,f)}return f},i.F._copyExact=function(r,s,a,o,l){var u=l>>>3;return o[u]=a,o[u+1]=a>>>8,o[u+2]=255-o[u],o[u+3]=255-o[u+1],u+=4,o.set(new Uint8Array(r.buffer,s,a),u),l+(a+4<<3)},i.F.getTrees=function(){for(var r=i.F.U,s=i.F._hufTree(r.lhst,r.ltree,15),a=i.F._hufTree(r.dhst,r.dtree,15),o=[],l=i.F._lenCodes(r.ltree,o),u=[],c=i.F._lenCodes(r.dtree,u),d=0;d<o.length;d+=2)r.ihst[o[d]]++;for(d=0;d<u.length;d+=2)r.ihst[u[d]]++;for(var f=i.F._hufTree(r.ihst,r.itree,7),h=19;h>4&&r.itree[1+(r.ordr[h-1]<<1)]==0;)h--;return[s,a,f,l,c,h,o,u]},i.F.getSecond=function(r){for(var s=[],a=0;a<r.length;a+=2)s.push(r[a+1]);return s},i.F.nonZero=function(r){for(var s="",a=0;a<r.length;a+=2)r[a+1]!=0&&(s+=(a>>1)+",");return s},i.F.contSize=function(r,s){for(var a=0,o=0;o<s.length;o++)a+=s[o]*r[1+(o<<1)];return a},i.F._codeTiny=function(r,s,a,o){for(var l=0;l<r.length;l+=2){var u=r[l],c=r[l+1];o=i.F._writeLit(u,s,a,o);var d=u==16?2:u==17?3:7;u>15&&(i.F._putsE(a,o,c,d),o+=d)}return o},i.F._lenCodes=function(r,s){for(var a=r.length;a!=2&&r[a-1]==0;)a-=2;for(var o=0;o<a;o+=2){var l=r[o+1],u=o+3<a?r[o+3]:-1,c=o+5<a?r[o+5]:-1,d=o==0?-1:r[o-1];if(l==0&&u==l&&c==l){for(var f=o+5;f+2<a&&r[f+2]==l;)f+=2;(h=Math.min(f+1-o>>>1,138))<11?s.push(17,h-3):s.push(18,h-11),o+=2*h-2}else if(l==d&&u==l&&c==l){for(f=o+5;f+2<a&&r[f+2]==l;)f+=2;var h=Math.min(f+1-o>>>1,6);s.push(16,h-3),o+=2*h-2}else s.push(l,0)}return a>>>1},i.F._hufTree=function(r,s,a){var o=[],l=r.length,u=s.length,c=0;for(c=0;c<u;c+=2)s[c]=0,s[c+1]=0;for(c=0;c<l;c++)r[c]!=0&&o.push({lit:c,f:r[c]});var d=o.length,f=o.slice(0);if(d==0)return 0;if(d==1){var h=o[0].lit;return f=h==0?1:0,s[1+(h<<1)]=1,s[1+(f<<1)]=1,1}o.sort(function(b,A){return b.f-A.f});var p=o[0],v=o[1],y=0,m=1,g=2;for(o[0]={lit:-1,f:p.f+v.f,l:p,r:v,d:0};m!=d-1;)p=y!=m&&(g==d||o[y].f<o[g].f)?o[y++]:o[g++],v=y!=m&&(g==d||o[y].f<o[g].f)?o[y++]:o[g++],o[m++]={lit:-1,f:p.f+v.f,l:p,r:v};var _=i.F.setDepth(o[m-1],0);for(_>a&&(i.F.restrictDepth(f,a,_),_=a),c=0;c<d;c++)s[1+(f[c].lit<<1)]=f[c].d;return _},i.F.setDepth=function(r,s){return r.lit!=-1?(r.d=s,s):Math.max(i.F.setDepth(r.l,s+1),i.F.setDepth(r.r,s+1))},i.F.restrictDepth=function(r,s,a){var o=0,l=1<<a-s,u=0;for(r.sort(function(d,f){return f.d==d.d?d.f-f.f:f.d-d.d}),o=0;o<r.length&&r[o].d>s;o++){var c=r[o].d;r[o].d=s,u+=l-(1<<a-c)}for(u>>>=a-s;u>0;)(c=r[o].d)<s?(r[o].d++,u-=1<<s-c-1):o++;for(;o>=0;o--)r[o].d==s&&u<0&&(r[o].d--,u++);u!=0&&console.log("debt left")},i.F._goodIndex=function(r,s){var a=0;return s[16|a]<=r&&(a|=16),s[8|a]<=r&&(a|=8),s[4|a]<=r&&(a|=4),s[2|a]<=r&&(a|=2),s[1|a]<=r&&(a|=1),a},i.F._writeLit=function(r,s,a,o){return i.F._putsF(a,o,s[r<<1]),o+s[1+(r<<1)]},i.F.inflate=function(r,s){var a=Uint8Array;if(r[0]==3&&r[1]==0)return s||new a(0);var o=i.F,l=o._bitsF,u=o._bitsE,c=o._decodeTiny,d=o.makeCodes,f=o.codes2map,h=o._get17,p=o.U,v=s==null;v&&(s=new a(r.length>>>2<<3));for(var y,m,g=0,_=0,b=0,A=0,E=0,M=0,w=0,S=0,T=0;g==0;)if(g=l(r,T,1),_=l(r,T+1,2),T+=3,_!=0){if(v&&(s=i.F._check(s,S+(1<<17))),_==1&&(y=p.flmap,m=p.fdmap,M=511,w=31),_==2){b=u(r,T,5)+257,A=u(r,T+5,5)+1,E=u(r,T+10,4)+4,T+=14;for(var D=0;D<38;D+=2)p.itree[D]=0,p.itree[D+1]=0;var I=1;for(D=0;D<E;D++){var k=u(r,T+3*D,3);p.itree[1+(p.ordr[D]<<1)]=k,k>I&&(I=k)}T+=3*E,d(p.itree,I),f(p.itree,I,p.imap),y=p.lmap,m=p.dmap,T=c(p.imap,(1<<I)-1,b+A,r,T,p.ttree);var N=o._copyOut(p.ttree,0,b,p.ltree);M=(1<<N)-1;var L=o._copyOut(p.ttree,b,A,p.dtree);w=(1<<L)-1,d(p.ltree,N),f(p.ltree,N,y),d(p.dtree,L),f(p.dtree,L,m)}for(;;){var R=y[h(r,T)&M];T+=15&R;var O=R>>>4;if(!(O>>>8))s[S++]=O;else{if(O==256)break;var P=S+O-254;if(O>264){var U=p.ldef[O-257];P=S+(U>>>3)+u(r,T,7&U),T+=7&U}var B=m[h(r,T)&w];T+=15&B;var V=B>>>4,z=p.ddef[V],q=(z>>>4)+l(r,T,15&z);for(T+=15&z,v&&(s=i.F._check(s,S+(1<<17)));S<P;)s[S]=s[S++-q],s[S]=s[S++-q],s[S]=s[S++-q],s[S]=s[S++-q];S=P}}}else{7&T&&(T+=8-(7&T));var $=4+(T>>>3),H=r[$-4]|r[$-3]<<8;v&&(s=i.F._check(s,S+H)),s.set(new a(r.buffer,r.byteOffset+$,H),S),T=$+H<<3,S+=H}return s.length==S?s:s.slice(0,S)},i.F._check=function(r,s){var a=r.length;if(s<=a)return r;var o=new Uint8Array(Math.max(a<<1,s));return o.set(r,0),o},i.F._decodeTiny=function(r,s,a,o,l,u){for(var c=i.F._bitsE,d=i.F._get17,f=0;f<a;){var h=r[d(o,l)&s];l+=15&h;var p=h>>>4;if(p<=15)u[f]=p,f++;else{var v=0,y=0;p==16?(y=3+c(o,l,2),l+=2,v=u[f-1]):p==17?(y=3+c(o,l,3),l+=3):p==18&&(y=11+c(o,l,7),l+=7);for(var m=f+y;f<m;)u[f]=v,f++}}return l},i.F._copyOut=function(r,s,a,o){for(var l=0,u=0,c=o.length>>>1;u<a;){var d=r[u+s];o[u<<1]=0,o[1+(u<<1)]=d,d>l&&(l=d),u++}for(;u<c;)o[u<<1]=0,o[1+(u<<1)]=0,u++;return l},i.F.makeCodes=function(r,s){for(var a,o,l,u,c=i.F.U,d=r.length,f=c.bl_count,h=0;h<=s;h++)f[h]=0;for(h=1;h<d;h+=2)f[r[h]]++;var p=c.next_code;for(a=0,f[0]=0,o=1;o<=s;o++)a=a+f[o-1]<<1,p[o]=a;for(l=0;l<d;l+=2)(u=r[l+1])!=0&&(r[l]=p[u],p[u]++)},i.F.codes2map=function(r,s,a){for(var o=r.length,l=i.F.U.rev15,u=0;u<o;u+=2)if(r[u+1]!=0)for(var c=u>>1,d=r[u+1],f=c<<4|d,h=s-d,p=r[u]<<h,v=p+(1<<h);p!=v;)a[l[p]>>>15-s]=f,p++},i.F.revCodes=function(r,s){for(var a=i.F.U.rev15,o=15-s,l=0;l<r.length;l+=2){var u=r[l]<<s-r[l+1];r[l]=a[u]>>>o}},i.F._putsE=function(r,s,a){a<<=7&s;var o=s>>>3;r[o]|=a,r[o+1]|=a>>>8},i.F._putsF=function(r,s,a){a<<=7&s;var o=s>>>3;r[o]|=a,r[o+1]|=a>>>8,r[o+2]|=a>>>16},i.F._bitsE=function(r,s,a){return(r[s>>>3]|r[1+(s>>>3)]<<8)>>>(7&s)&(1<<a)-1},i.F._bitsF=function(r,s,a){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16)>>>(7&s)&(1<<a)-1},i.F._get17=function(r,s){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16)>>>(7&s)},i.F._get25=function(r,s){return(r[s>>>3]|r[1+(s>>>3)]<<8|r[2+(s>>>3)]<<16|r[3+(s>>>3)]<<24)>>>(7&s)},i.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var r=i.F.U,s=0;s<32768;s++){var a=s;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,r.rev15[s]=(a>>>16|a<<16)>>>17}function o(l,u,c){for(;u--!=0;)l.push(0,c)}for(s=0;s<32;s++)r.ldef[s]=r.of0[s]<<3|r.exb[s],r.ddef[s]=r.df0[s]<<4|r.dxb[s];o(r.fltree,144,8),o(r.fltree,112,9),o(r.fltree,24,7),o(r.fltree,8,8),i.F.makeCodes(r.fltree,9),i.F.codes2map(r.fltree,9,r.flmap),i.F.revCodes(r.fltree,9),o(r.fdtree,32,5),i.F.makeCodes(r.fdtree,5),i.F.codes2map(r.fdtree,5,r.fdmap),i.F.revCodes(r.fdtree,5),o(r.itree,19,0),o(r.ltree,286,0),o(r.dtree,30,0),o(r.ttree,320,0)}()})();var Tz=Ez({__proto__:null,default:ip},[ip]);const oi=function(){var t={nextZero(c,d){for(;c[d]!=0;)d++;return d},readUshort:(c,d)=>c[d]<<8|c[d+1],writeUshort(c,d,f){c[d]=f>>8&255,c[d+1]=255&f},readUint:(c,d)=>16777216*c[d]+(c[d+1]<<16|c[d+2]<<8|c[d+3]),writeUint(c,d,f){c[d]=f>>24&255,c[d+1]=f>>16&255,c[d+2]=f>>8&255,c[d+3]=255&f},readASCII(c,d,f){let h="";for(let p=0;p<f;p++)h+=String.fromCharCode(c[d+p]);return h},writeASCII(c,d,f){for(let h=0;h<f.length;h++)c[d+h]=f.charCodeAt(h)},readBytes(c,d,f){const h=[];for(let p=0;p<f;p++)h.push(c[d+p]);return h},pad:c=>c.length<2?`0${c}`:c,readUTF8(c,d,f){let h,p="";for(let v=0;v<f;v++)p+=`%${t.pad(c[d+v].toString(16))}`;try{h=decodeURIComponent(p)}catch{return t.readASCII(c,d,f)}return h}};function e(c,d,f,h){const p=d*f,v=s(h),y=Math.ceil(d*v/8),m=new Uint8Array(4*p),g=new Uint32Array(m.buffer),{ctype:_}=h,{depth:b}=h,A=t.readUshort;if(_==6){const U=p<<2;if(b==8)for(var E=0;E<U;E+=4)m[E]=c[E],m[E+1]=c[E+1],m[E+2]=c[E+2],m[E+3]=c[E+3];if(b==16)for(E=0;E<U;E++)m[E]=c[E<<1]}else if(_==2){const U=h.tabs.tRNS;if(U==null){if(b==8)for(E=0;E<p;E++){var M=3*E;g[E]=255<<24|c[M+2]<<16|c[M+1]<<8|c[M]}if(b==16)for(E=0;E<p;E++)M=6*E,g[E]=255<<24|c[M+4]<<16|c[M+2]<<8|c[M]}else{var w=U[0];const B=U[1],V=U[2];if(b==8)for(E=0;E<p;E++){var S=E<<2;M=3*E,g[E]=255<<24|c[M+2]<<16|c[M+1]<<8|c[M],c[M]==w&&c[M+1]==B&&c[M+2]==V&&(m[S+3]=0)}if(b==16)for(E=0;E<p;E++)S=E<<2,M=6*E,g[E]=255<<24|c[M+4]<<16|c[M+2]<<8|c[M],A(c,M)==w&&A(c,M+2)==B&&A(c,M+4)==V&&(m[S+3]=0)}}else if(_==3){const U=h.tabs.PLTE,B=h.tabs.tRNS,V=B?B.length:0;if(b==1)for(var T=0;T<f;T++){var D=T*y,I=T*d;for(E=0;E<d;E++){S=I+E<<2;var k=3*(N=c[D+(E>>3)]>>7-((7&E)<<0)&1);m[S]=U[k],m[S+1]=U[k+1],m[S+2]=U[k+2],m[S+3]=N<V?B[N]:255}}if(b==2)for(T=0;T<f;T++)for(D=T*y,I=T*d,E=0;E<d;E++)S=I+E<<2,k=3*(N=c[D+(E>>2)]>>6-((3&E)<<1)&3),m[S]=U[k],m[S+1]=U[k+1],m[S+2]=U[k+2],m[S+3]=N<V?B[N]:255;if(b==4)for(T=0;T<f;T++)for(D=T*y,I=T*d,E=0;E<d;E++)S=I+E<<2,k=3*(N=c[D+(E>>1)]>>4-((1&E)<<2)&15),m[S]=U[k],m[S+1]=U[k+1],m[S+2]=U[k+2],m[S+3]=N<V?B[N]:255;if(b==8)for(E=0;E<p;E++){var N;S=E<<2,k=3*(N=c[E]),m[S]=U[k],m[S+1]=U[k+1],m[S+2]=U[k+2],m[S+3]=N<V?B[N]:255}}else if(_==4){if(b==8)for(E=0;E<p;E++){S=E<<2;var L=c[R=E<<1];m[S]=L,m[S+1]=L,m[S+2]=L,m[S+3]=c[R+1]}if(b==16)for(E=0;E<p;E++){var R;S=E<<2,L=c[R=E<<2],m[S]=L,m[S+1]=L,m[S+2]=L,m[S+3]=c[R+2]}}else if(_==0)for(w=h.tabs.tRNS?h.tabs.tRNS:-1,T=0;T<f;T++){const U=T*y,B=T*d;if(b==1)for(var O=0;O<d;O++){var P=(L=255*(c[U+(O>>>3)]>>>7-(7&O)&1))==255*w?0:255;g[B+O]=P<<24|L<<16|L<<8|L}else if(b==2)for(O=0;O<d;O++)P=(L=85*(c[U+(O>>>2)]>>>6-((3&O)<<1)&3))==85*w?0:255,g[B+O]=P<<24|L<<16|L<<8|L;else if(b==4)for(O=0;O<d;O++)P=(L=17*(c[U+(O>>>1)]>>>4-((1&O)<<2)&15))==17*w?0:255,g[B+O]=P<<24|L<<16|L<<8|L;else if(b==8)for(O=0;O<d;O++)P=(L=c[U+O])==w?0:255,g[B+O]=P<<24|L<<16|L<<8|L;else if(b==16)for(O=0;O<d;O++)L=c[U+(O<<1)],P=A(c,U+(O<<1))==w?0:255,g[B+O]=P<<24|L<<16|L<<8|L}return m}function n(c,d,f,h){const p=s(c),v=Math.ceil(f*p/8),y=new Uint8Array((v+1+c.interlace)*h);return d=c.tabs.CgBI?r(d,y):i(d,y),c.interlace==0?d=a(d,c,0,f,h):c.interlace==1&&(d=function(g,_){const b=_.width,A=_.height,E=s(_),M=E>>3,w=Math.ceil(b*E/8),S=new Uint8Array(A*w);let T=0;const D=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],k=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let L=0;for(;L<7;){const O=k[L],P=N[L];let U=0,B=0,V=D[L];for(;V<A;)V+=O,B++;let z=I[L];for(;z<b;)z+=P,U++;const q=Math.ceil(U*E/8);a(g,_,T,U,B);let $=0,H=D[L];for(;H<A;){let Z=I[L],ie=T+$*q<<3;for(;Z<b;){var R;if(E==1&&(R=(R=g[ie>>3])>>7-(7&ie)&1,S[H*w+(Z>>3)]|=R<<7-((7&Z)<<0)),E==2&&(R=(R=g[ie>>3])>>6-(7&ie)&3,S[H*w+(Z>>2)]|=R<<6-((3&Z)<<1)),E==4&&(R=(R=g[ie>>3])>>4-(7&ie)&15,S[H*w+(Z>>1)]|=R<<4-((1&Z)<<2)),E>=8){const ae=H*w+Z*M;for(let le=0;le<M;le++)S[ae+le]=g[(ie>>3)+le]}ie+=E,Z+=P}$++,H+=O}U*B!=0&&(T+=B*(1+q)),L+=1}return S}(d,c)),d}function i(c,d){return r(new Uint8Array(c.buffer,2,c.length-6),d)}var r=function(){const c={H:{}};return c.H.N=function(d,f){const h=Uint8Array;let p,v,y=0,m=0,g=0,_=0,b=0,A=0,E=0,M=0,w=0;if(d[0]==3&&d[1]==0)return f||new h(0);const S=c.H,T=S.b,D=S.e,I=S.R,k=S.n,N=S.A,L=S.Z,R=S.m,O=f==null;for(O&&(f=new h(d.length>>>2<<5));y==0;)if(y=T(d,w,1),m=T(d,w+1,2),w+=3,m!=0){if(O&&(f=c.H.W(f,M+(1<<17))),m==1&&(p=R.J,v=R.h,A=511,E=31),m==2){g=D(d,w,5)+257,_=D(d,w+5,5)+1,b=D(d,w+10,4)+4,w+=14;let U=1;for(var P=0;P<38;P+=2)R.Q[P]=0,R.Q[P+1]=0;for(P=0;P<b;P++){const z=D(d,w+3*P,3);R.Q[1+(R.X[P]<<1)]=z,z>U&&(U=z)}w+=3*b,k(R.Q,U),N(R.Q,U,R.u),p=R.w,v=R.d,w=I(R.u,(1<<U)-1,g+_,d,w,R.v);const B=S.V(R.v,0,g,R.C);A=(1<<B)-1;const V=S.V(R.v,g,_,R.D);E=(1<<V)-1,k(R.C,B),N(R.C,B,p),k(R.D,V),N(R.D,V,v)}for(;;){const U=p[L(d,w)&A];w+=15&U;const B=U>>>4;if(!(B>>>8))f[M++]=B;else{if(B==256)break;{let V=M+B-254;if(B>264){const Z=R.q[B-257];V=M+(Z>>>3)+D(d,w,7&Z),w+=7&Z}const z=v[L(d,w)&E];w+=15&z;const q=z>>>4,$=R.c[q],H=($>>>4)+T(d,w,15&$);for(w+=15&$;M<V;)f[M]=f[M++-H],f[M]=f[M++-H],f[M]=f[M++-H],f[M]=f[M++-H];M=V}}}}else{7&w&&(w+=8-(7&w));const U=4+(w>>>3),B=d[U-4]|d[U-3]<<8;O&&(f=c.H.W(f,M+B)),f.set(new h(d.buffer,d.byteOffset+U,B),M),w=U+B<<3,M+=B}return f.length==M?f:f.slice(0,M)},c.H.W=function(d,f){const h=d.length;if(f<=h)return d;const p=new Uint8Array(h<<1);return p.set(d,0),p},c.H.R=function(d,f,h,p,v,y){const m=c.H.e,g=c.H.Z;let _=0;for(;_<h;){const b=d[g(p,v)&f];v+=15&b;const A=b>>>4;if(A<=15)y[_]=A,_++;else{let E=0,M=0;A==16?(M=3+m(p,v,2),v+=2,E=y[_-1]):A==17?(M=3+m(p,v,3),v+=3):A==18&&(M=11+m(p,v,7),v+=7);const w=_+M;for(;_<w;)y[_]=E,_++}}return v},c.H.V=function(d,f,h,p){let v=0,y=0;const m=p.length>>>1;for(;y<h;){const g=d[y+f];p[y<<1]=0,p[1+(y<<1)]=g,g>v&&(v=g),y++}for(;y<m;)p[y<<1]=0,p[1+(y<<1)]=0,y++;return v},c.H.n=function(d,f){const h=c.H.m,p=d.length;let v,y,m,g;const _=h.j;for(var b=0;b<=f;b++)_[b]=0;for(b=1;b<p;b+=2)_[d[b]]++;const A=h.K;for(v=0,_[0]=0,y=1;y<=f;y++)v=v+_[y-1]<<1,A[y]=v;for(m=0;m<p;m+=2)g=d[m+1],g!=0&&(d[m]=A[g],A[g]++)},c.H.A=function(d,f,h){const p=d.length,v=c.H.m.r;for(let y=0;y<p;y+=2)if(d[y+1]!=0){const m=y>>1,g=d[y+1],_=m<<4|g,b=f-g;let A=d[y]<<b;const E=A+(1<<b);for(;A!=E;)h[v[A]>>>15-f]=_,A++}},c.H.l=function(d,f){const h=c.H.m.r,p=15-f;for(let v=0;v<d.length;v+=2){const y=d[v]<<f-d[v+1];d[v]=h[y]>>>p}},c.H.M=function(d,f,h){h<<=7&f;const p=f>>>3;d[p]|=h,d[p+1]|=h>>>8},c.H.I=function(d,f,h){h<<=7&f;const p=f>>>3;d[p]|=h,d[p+1]|=h>>>8,d[p+2]|=h>>>16},c.H.e=function(d,f,h){return(d[f>>>3]|d[1+(f>>>3)]<<8)>>>(7&f)&(1<<h)-1},c.H.b=function(d,f,h){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)&(1<<h)-1},c.H.Z=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)},c.H.i=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16|d[3+(f>>>3)]<<24)>>>(7&f)},c.H.m=function(){const d=Uint16Array,f=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=c.H.m;for(var f=0;f<32768;f++){let p=f;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,d.r[f]=(p>>>16|p<<16)>>>17}function h(p,v,y){for(;v--!=0;)p.push(0,y)}for(f=0;f<32;f++)d.q[f]=d.S[f]<<3|d.T[f],d.c[f]=d.p[f]<<4|d.z[f];h(d._,144,8),h(d._,112,9),h(d._,24,7),h(d._,8,8),c.H.n(d._,9),c.H.A(d._,9,d.J),c.H.l(d._,9),h(d.$,32,5),c.H.n(d.$,5),c.H.A(d.$,5,d.h),c.H.l(d.$,5),h(d.Q,19,0),h(d.C,286,0),h(d.D,30,0),h(d.v,320,0)}(),c.H.N}();function s(c){return[1,null,3,1,2,null,4][c.ctype]*c.depth}function a(c,d,f,h,p){let v=s(d);const y=Math.ceil(h*v/8);let m,g;v=Math.ceil(v/8);let _=c[f],b=0;if(_>1&&(c[f]=[0,0,1][_-2]),_==3)for(b=v;b<y;b++)c[b+1]=c[b+1]+(c[b+1-v]>>>1)&255;for(let A=0;A<p;A++)if(m=f+A*y,g=m+A+1,_=c[g-1],b=0,_==0)for(;b<y;b++)c[m+b]=c[g+b];else if(_==1){for(;b<v;b++)c[m+b]=c[g+b];for(;b<y;b++)c[m+b]=c[g+b]+c[m+b-v]}else if(_==2)for(;b<y;b++)c[m+b]=c[g+b]+c[m+b-y];else if(_==3){for(;b<v;b++)c[m+b]=c[g+b]+(c[m+b-y]>>>1);for(;b<y;b++)c[m+b]=c[g+b]+(c[m+b-y]+c[m+b-v]>>>1)}else{for(;b<v;b++)c[m+b]=c[g+b]+o(0,c[m+b-y],0);for(;b<y;b++)c[m+b]=c[g+b]+o(c[m+b-v],c[m+b-y],c[m+b-v-y])}return c}function o(c,d,f){const h=c+d-f,p=h-c,v=h-d,y=h-f;return p*p<=v*v&&p*p<=y*y?c:v*v<=y*y?d:f}function l(c,d,f){f.width=t.readUint(c,d),d+=4,f.height=t.readUint(c,d),d+=4,f.depth=c[d],d++,f.ctype=c[d],d++,f.compress=c[d],d++,f.filter=c[d],d++,f.interlace=c[d],d++}function u(c,d,f,h,p,v,y,m,g){const _=Math.min(d,p),b=Math.min(f,v);let A=0,E=0;for(let L=0;L<b;L++)for(let R=0;R<_;R++)if(y>=0&&m>=0?(A=L*d+R<<2,E=(m+L)*p+y+R<<2):(A=(-m+L)*d-y+R<<2,E=L*p+R<<2),g==0)h[E]=c[A],h[E+1]=c[A+1],h[E+2]=c[A+2],h[E+3]=c[A+3];else if(g==1){var M=c[A+3]*.00392156862745098,w=c[A]*M,S=c[A+1]*M,T=c[A+2]*M,D=h[E+3]*(1/255),I=h[E]*D,k=h[E+1]*D,N=h[E+2]*D;const O=1-M,P=M+D*O,U=P==0?0:1/P;h[E+3]=255*P,h[E+0]=(w+I*O)*U,h[E+1]=(S+k*O)*U,h[E+2]=(T+N*O)*U}else if(g==2)M=c[A+3],w=c[A],S=c[A+1],T=c[A+2],D=h[E+3],I=h[E],k=h[E+1],N=h[E+2],M==D&&w==I&&S==k&&T==N?(h[E]=0,h[E+1]=0,h[E+2]=0,h[E+3]=0):(h[E]=w,h[E+1]=S,h[E+2]=T,h[E+3]=M);else if(g==3){if(M=c[A+3],w=c[A],S=c[A+1],T=c[A+2],D=h[E+3],I=h[E],k=h[E+1],N=h[E+2],M==D&&w==I&&S==k&&T==N)continue;if(M<220&&D>20)return!1}return!0}return{decode:function(d){const f=new Uint8Array(d);let h=8;const p=t,v=p.readUshort,y=p.readUint,m={tabs:{},frames:[]},g=new Uint8Array(f.length);let _,b=0,A=0;const E=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(f[M]!=E[M])throw"The input is not a PNG file!";for(;h<f.length;){const L=p.readUint(f,h);h+=4;const R=p.readASCII(f,h,4);if(h+=4,R=="IHDR")l(f,h,m);else if(R=="iCCP"){for(var w=h;f[w]!=0;)w++;p.readASCII(f,h,w-h),f[w+1];const O=f.slice(w+2,h+L);let P=null;try{P=i(O)}catch{P=r(O)}m.tabs[R]=P}else if(R=="CgBI")m.tabs[R]=f.slice(h,h+4);else if(R=="IDAT"){for(M=0;M<L;M++)g[b+M]=f[h+M];b+=L}else if(R=="acTL")m.tabs[R]={num_frames:y(f,h),num_plays:y(f,h+4)},_=new Uint8Array(f.length);else if(R=="fcTL"){A!=0&&((N=m.frames[m.frames.length-1]).data=n(m,_.slice(0,A),N.rect.width,N.rect.height),A=0);const O={x:y(f,h+12),y:y(f,h+16),width:y(f,h+4),height:y(f,h+8)};let P=v(f,h+22);P=v(f,h+20)/(P==0?100:P);const U={rect:O,delay:Math.round(1e3*P),dispose:f[h+24],blend:f[h+25]};m.frames.push(U)}else if(R=="fdAT"){for(M=0;M<L-4;M++)_[A+M]=f[h+M+4];A+=L-4}else if(R=="pHYs")m.tabs[R]=[p.readUint(f,h),p.readUint(f,h+4),f[h+8]];else if(R=="cHRM")for(m.tabs[R]=[],M=0;M<8;M++)m.tabs[R].push(p.readUint(f,h+4*M));else if(R=="tEXt"||R=="zTXt"){m.tabs[R]==null&&(m.tabs[R]={});var S=p.nextZero(f,h),T=p.readASCII(f,h,S-h),D=h+L-S-1;if(R=="tEXt")k=p.readASCII(f,S+1,D);else{var I=i(f.slice(S+2,S+2+D));k=p.readUTF8(I,0,I.length)}m.tabs[R][T]=k}else if(R=="iTXt"){m.tabs[R]==null&&(m.tabs[R]={}),S=0,w=h,S=p.nextZero(f,w),T=p.readASCII(f,w,S-w);const O=f[w=S+1];var k;f[w+1],w+=2,S=p.nextZero(f,w),p.readASCII(f,w,S-w),w=S+1,S=p.nextZero(f,w),p.readUTF8(f,w,S-w),D=L-((w=S+1)-h),O==0?k=p.readUTF8(f,w,D):(I=i(f.slice(w,w+D)),k=p.readUTF8(I,0,I.length)),m.tabs[R][T]=k}else if(R=="PLTE")m.tabs[R]=p.readBytes(f,h,L);else if(R=="hIST"){const O=m.tabs.PLTE.length/3;for(m.tabs[R]=[],M=0;M<O;M++)m.tabs[R].push(v(f,h+2*M))}else if(R=="tRNS")m.ctype==3?m.tabs[R]=p.readBytes(f,h,L):m.ctype==0?m.tabs[R]=v(f,h):m.ctype==2&&(m.tabs[R]=[v(f,h),v(f,h+2),v(f,h+4)]);else if(R=="gAMA")m.tabs[R]=p.readUint(f,h)/1e5;else if(R=="sRGB")m.tabs[R]=f[h];else if(R=="bKGD")m.ctype==0||m.ctype==4?m.tabs[R]=[v(f,h)]:m.ctype==2||m.ctype==6?m.tabs[R]=[v(f,h),v(f,h+2),v(f,h+4)]:m.ctype==3&&(m.tabs[R]=f[h]);else if(R=="IEND")break;h+=L,p.readUint(f,h),h+=4}var N;return A!=0&&((N=m.frames[m.frames.length-1]).data=n(m,_.slice(0,A),N.rect.width,N.rect.height)),m.data=n(m,g,m.width,m.height),delete m.compress,delete m.interlace,delete m.filter,m},toRGBA8:function(d){const f=d.width,h=d.height;if(d.tabs.acTL==null)return[e(d.data,f,h,d).buffer];const p=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const v=f*h*4,y=new Uint8Array(v),m=new Uint8Array(v),g=new Uint8Array(v);for(let b=0;b<d.frames.length;b++){const A=d.frames[b],E=A.rect.x,M=A.rect.y,w=A.rect.width,S=A.rect.height,T=e(A.data,w,S,d);if(b!=0)for(var _=0;_<v;_++)g[_]=y[_];if(A.blend==0?u(T,w,S,y,f,h,E,M,0):A.blend==1&&u(T,w,S,y,f,h,E,M,1),p.push(y.buffer.slice(0)),A.dispose!=0){if(A.dispose==1)u(m,w,S,y,f,h,E,M,0);else if(A.dispose==2)for(_=0;_<v;_++)y[_]=g[_]}}return p},_paeth:o,_copyTile:u,_bin:t}}();(function(){const{_copyTile:t}=oi,{_bin:e}=oi,n=oi._paeth;var i={table:function(){const w=new Uint32Array(256);for(let S=0;S<256;S++){let T=S;for(let D=0;D<8;D++)1&T?T=3988292384^T>>>1:T>>>=1;w[S]=T}return w}(),update(w,S,T,D){for(let I=0;I<D;I++)w=i.table[255&(w^S[T+I])]^w>>>8;return w},crc:(w,S,T)=>4294967295^i.update(4294967295,w,S,T)};function r(w,S,T,D){S[T]+=w[0]*D>>4,S[T+1]+=w[1]*D>>4,S[T+2]+=w[2]*D>>4,S[T+3]+=w[3]*D>>4}function s(w){return Math.max(0,Math.min(255,w))}function a(w,S){const T=w[0]-S[0],D=w[1]-S[1],I=w[2]-S[2],k=w[3]-S[3];return T*T+D*D+I*I+k*k}function o(w,S,T,D,I,k,N){N==null&&(N=1);const L=D.length,R=[];for(var O=0;O<L;O++){const H=D[O];R.push([H>>>0&255,H>>>8&255,H>>>16&255,H>>>24&255])}for(O=0;O<L;O++){let H=4294967295;for(var P=0,U=0;U<L;U++){var B=a(R[O],R[U]);U!=O&&B<H&&(H=B,P=U)}}const V=new Uint32Array(I.buffer),z=new Int16Array(S*T*4),q=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(O=0;O<q.length;O++)q[O]=255*((q[O]+.5)/16-.5);for(let H=0;H<T;H++)for(let Z=0;Z<S;Z++){var $;O=4*(H*S+Z),N!=2?$=[s(w[O]+z[O]),s(w[O+1]+z[O+1]),s(w[O+2]+z[O+2]),s(w[O+3]+z[O+3])]:(B=q[4*(3&H)+(3&Z)],$=[s(w[O]+B),s(w[O+1]+B),s(w[O+2]+B),s(w[O+3]+B)]),P=0;let ie=16777215;for(U=0;U<L;U++){const Ee=a($,R[U]);Ee<ie&&(ie=Ee,P=U)}const ae=R[P],le=[$[0]-ae[0],$[1]-ae[1],$[2]-ae[2],$[3]-ae[3]];N==1&&(Z!=S-1&&r(le,z,O+4,7),H!=T-1&&(Z!=0&&r(le,z,O+4*S-4,3),r(le,z,O+4*S,5),Z!=S-1&&r(le,z,O+4*S+4,1))),k[O>>2]=P,V[O>>2]=D[P]}}function l(w,S,T,D,I){I==null&&(I={});const{crc:k}=i,N=e.writeUint,L=e.writeUshort,R=e.writeASCII;let O=8;const P=w.frames.length>1;let U,B=!1,V=33+(P?20:0);if(I.sRGB!=null&&(V+=13),I.pHYs!=null&&(V+=21),I.iCCP!=null&&(U=pako.deflate(I.iCCP),V+=21+U.length+4),w.ctype==3){for(var z=w.plte.length,q=0;q<z;q++)w.plte[q]>>>24!=255&&(B=!0);V+=8+3*z+4+(B?8+1*z+4:0)}for(var $=0;$<w.frames.length;$++)P&&(V+=38),V+=(ae=w.frames[$]).cimg.length+12,$!=0&&(V+=4);V+=12;const H=new Uint8Array(V),Z=[137,80,78,71,13,10,26,10];for(q=0;q<8;q++)H[q]=Z[q];if(N(H,O,13),O+=4,R(H,O,"IHDR"),O+=4,N(H,O,S),O+=4,N(H,O,T),O+=4,H[O]=w.depth,O++,H[O]=w.ctype,O++,H[O]=0,O++,H[O]=0,O++,H[O]=0,O++,N(H,O,k(H,O-17,17)),O+=4,I.sRGB!=null&&(N(H,O,1),O+=4,R(H,O,"sRGB"),O+=4,H[O]=I.sRGB,O++,N(H,O,k(H,O-5,5)),O+=4),I.iCCP!=null){const le=13+U.length;N(H,O,le),O+=4,R(H,O,"iCCP"),O+=4,R(H,O,"ICC profile"),O+=11,O+=2,H.set(U,O),O+=U.length,N(H,O,k(H,O-(le+4),le+4)),O+=4}if(I.pHYs!=null&&(N(H,O,9),O+=4,R(H,O,"pHYs"),O+=4,N(H,O,I.pHYs[0]),O+=4,N(H,O,I.pHYs[1]),O+=4,H[O]=I.pHYs[2],O++,N(H,O,k(H,O-13,13)),O+=4),P&&(N(H,O,8),O+=4,R(H,O,"acTL"),O+=4,N(H,O,w.frames.length),O+=4,N(H,O,I.loop!=null?I.loop:0),O+=4,N(H,O,k(H,O-12,12)),O+=4),w.ctype==3){for(N(H,O,3*(z=w.plte.length)),O+=4,R(H,O,"PLTE"),O+=4,q=0;q<z;q++){const le=3*q,Ee=w.plte[q],ye=255&Ee,J=Ee>>>8&255,oe=Ee>>>16&255;H[O+le+0]=ye,H[O+le+1]=J,H[O+le+2]=oe}if(O+=3*z,N(H,O,k(H,O-3*z-4,3*z+4)),O+=4,B){for(N(H,O,z),O+=4,R(H,O,"tRNS"),O+=4,q=0;q<z;q++)H[O+q]=w.plte[q]>>>24&255;O+=z,N(H,O,k(H,O-z-4,z+4)),O+=4}}let ie=0;for($=0;$<w.frames.length;$++){var ae=w.frames[$];P&&(N(H,O,26),O+=4,R(H,O,"fcTL"),O+=4,N(H,O,ie++),O+=4,N(H,O,ae.rect.width),O+=4,N(H,O,ae.rect.height),O+=4,N(H,O,ae.rect.x),O+=4,N(H,O,ae.rect.y),O+=4,L(H,O,D[$]),O+=2,L(H,O,1e3),O+=2,H[O]=ae.dispose,O++,H[O]=ae.blend,O++,N(H,O,k(H,O-30,30)),O+=4);const le=ae.cimg;N(H,O,(z=le.length)+($==0?0:4)),O+=4;const Ee=O;R(H,O,$==0?"IDAT":"fdAT"),O+=4,$!=0&&(N(H,O,ie++),O+=4),H.set(le,O),O+=z,N(H,O,k(H,Ee,O-Ee)),O+=4}return N(H,O,0),O+=4,R(H,O,"IEND"),O+=4,N(H,O,k(H,O-4,4)),O+=4,H.buffer}function u(w,S,T){for(let D=0;D<w.frames.length;D++){const I=w.frames[D];I.rect.width;const k=I.rect.height,N=new Uint8Array(k*I.bpl+k);I.cimg=h(I.img,k,I.bpp,I.bpl,N,S,T)}}function c(w,S,T,D,I){const k=I[0],N=I[1],L=I[2],R=I[3],O=I[4],P=I[5];let U=6,B=8,V=255;for(var z=0;z<w.length;z++){const de=new Uint8Array(w[z]);for(var q=de.length,$=0;$<q;$+=4)V&=de[$+3]}const H=V!=255,Z=function(ue,j,F,G,Y,K){const X=[];for(var te=0;te<ue.length;te++){const St=new Uint8Array(ue[te]),Yt=new Uint32Array(St.buffer);var ce;let cn=0,Pn=0,jn=j,yi=F,Fm=G?1:0;if(te!=0){const vO=K||G||te==1||X[te-2].dispose!=0?1:2;let Vm=0,Ub=1e9;for(let Jl=0;Jl<vO;Jl++){var ze=new Uint8Array(ue[te-1-Jl]);const yO=new Uint32Array(ue[te-1-Jl]);let Vr=j,qr=F,co=-1,ec=-1;for(let ra=0;ra<F;ra++)for(let sa=0;sa<j;sa++)Yt[Qe=ra*j+sa]!=yO[Qe]&&(sa<Vr&&(Vr=sa),sa>co&&(co=sa),ra<qr&&(qr=ra),ra>ec&&(ec=ra));co==-1&&(Vr=qr=co=ec=0),Y&&((1&Vr)==1&&Vr--,(1&qr)==1&&qr--);const Pb=(co-Vr+1)*(ec-qr+1);Pb<Ub&&(Ub=Pb,Vm=Jl,cn=Vr,Pn=qr,jn=co-Vr+1,yi=ec-qr+1)}ze=new Uint8Array(ue[te-1-Vm]),Vm==1&&(X[te-1].dispose=2),ce=new Uint8Array(jn*yi*4),t(ze,j,F,ce,jn,yi,-cn,-Pn,0),Fm=t(St,j,F,ce,jn,yi,-cn,-Pn,3)?1:0,Fm==1?f(St,j,F,ce,{x:cn,y:Pn,width:jn,height:yi}):t(St,j,F,ce,jn,yi,-cn,-Pn,0)}else ce=St.slice(0);X.push({rect:{x:cn,y:Pn,width:jn,height:yi},img:ce,blend:Fm,dispose:0})}if(G)for(te=0;te<X.length;te++){if((er=X[te]).blend==1)continue;const St=er.rect,Yt=X[te-1].rect,cn=Math.min(St.x,Yt.x),Pn=Math.min(St.y,Yt.y),jn={x:cn,y:Pn,width:Math.max(St.x+St.width,Yt.x+Yt.width)-cn,height:Math.max(St.y+St.height,Yt.y+Yt.height)-Pn};X[te-1].dispose=1,te-1!=0&&d(ue,j,F,X,te-1,jn,Y),d(ue,j,F,X,te,jn,Y)}let it=0;if(ue.length!=1)for(var Qe=0;Qe<X.length;Qe++){var er;it+=(er=X[Qe]).rect.width*er.rect.height}return X}(w,S,T,k,N,L),ie={},ae=[],le=[];if(D!=0){const de=[];for($=0;$<Z.length;$++)de.push(Z[$].img.buffer);const ue=function(Y){let K=0;for(var X=0;X<Y.length;X++)K+=Y[X].byteLength;const te=new Uint8Array(K);let ce=0;for(X=0;X<Y.length;X++){const ze=new Uint8Array(Y[X]),it=ze.length;for(let Qe=0;Qe<it;Qe+=4){let er=ze[Qe],St=ze[Qe+1],Yt=ze[Qe+2];const cn=ze[Qe+3];cn==0&&(er=St=Yt=0),te[ce+Qe]=er,te[ce+Qe+1]=St,te[ce+Qe+2]=Yt,te[ce+Qe+3]=cn}ce+=it}return te.buffer}(de),j=v(ue,D);for($=0;$<j.plte.length;$++)ae.push(j.plte[$].est.rgba);let F=0;for($=0;$<Z.length;$++){const G=(ye=Z[$]).img.length;var Ee=new Uint8Array(j.inds.buffer,F>>2,G>>2);le.push(Ee);const Y=new Uint8Array(j.abuf,F,G);P&&o(ye.img,ye.rect.width,ye.rect.height,ae,Y,Ee),ye.img.set(Y),F+=G}}else for(z=0;z<Z.length;z++){var ye=Z[z];const de=new Uint32Array(ye.img.buffer);var J=ye.rect.width;for(q=de.length,Ee=new Uint8Array(q),le.push(Ee),$=0;$<q;$++){const ue=de[$];if($!=0&&ue==de[$-1])Ee[$]=Ee[$-1];else if($>J&&ue==de[$-J])Ee[$]=Ee[$-J];else{let j=ie[ue];if(j==null&&(ie[ue]=j=ae.length,ae.push(ue),ae.length>=300))break;Ee[$]=j}}}const oe=ae.length;for(oe<=256&&O==0&&(B=oe<=2?1:oe<=4?2:oe<=16?4:8,B=Math.max(B,R)),z=0;z<Z.length;z++){(ye=Z[z]).rect.x,ye.rect.y,J=ye.rect.width;const de=ye.rect.height;let ue=ye.img;new Uint32Array(ue.buffer);let j=4*J,F=4;if(oe<=256&&O==0){j=Math.ceil(B*J/8);var ge=new Uint8Array(j*de);const G=le[z];for(let Y=0;Y<de;Y++){$=Y*j;const K=Y*J;if(B==8)for(var se=0;se<J;se++)ge[$+se]=G[K+se];else if(B==4)for(se=0;se<J;se++)ge[$+(se>>1)]|=G[K+se]<<4-4*(1&se);else if(B==2)for(se=0;se<J;se++)ge[$+(se>>2)]|=G[K+se]<<6-2*(3&se);else if(B==1)for(se=0;se<J;se++)ge[$+(se>>3)]|=G[K+se]<<7-1*(7&se)}ue=ge,U=3,F=1}else if(H==0&&Z.length==1){ge=new Uint8Array(J*de*3);const G=J*de;for($=0;$<G;$++){const Y=3*$,K=4*$;ge[Y]=ue[K],ge[Y+1]=ue[K+1],ge[Y+2]=ue[K+2]}ue=ge,U=2,F=3,j=3*J}ye.img=ue,ye.bpl=j,ye.bpp=F}return{ctype:U,depth:B,plte:ae,frames:Z}}function d(w,S,T,D,I,k,N){const L=Uint8Array,R=Uint32Array,O=new L(w[I-1]),P=new R(w[I-1]),U=I+1<w.length?new L(w[I+1]):null,B=new L(w[I]),V=new R(B.buffer);let z=S,q=T,$=-1,H=-1;for(let ie=0;ie<k.height;ie++)for(let ae=0;ae<k.width;ae++){const le=k.x+ae,Ee=k.y+ie,ye=Ee*S+le,J=V[ye];J==0||D[I-1].dispose==0&&P[ye]==J&&(U==null||U[4*ye+3]!=0)||(le<z&&(z=le),le>$&&($=le),Ee<q&&(q=Ee),Ee>H&&(H=Ee))}$==-1&&(z=q=$=H=0),N&&((1&z)==1&&z--,(1&q)==1&&q--),k={x:z,y:q,width:$-z+1,height:H-q+1};const Z=D[I];Z.rect=k,Z.blend=1,Z.img=new Uint8Array(k.width*k.height*4),D[I-1].dispose==0?(t(O,S,T,Z.img,k.width,k.height,-k.x,-k.y,0),f(B,S,T,Z.img,k)):t(B,S,T,Z.img,k.width,k.height,-k.x,-k.y,0)}function f(w,S,T,D,I){t(w,S,T,D,I.width,I.height,-I.x,-I.y,2)}function h(w,S,T,D,I,k,N){const L=[];let R,O=[0,1,2,3,4];k!=-1?O=[k]:(S*D>5e5||T==1)&&(O=[0]),N&&(R={level:0});const P=Tz;for(var U=0;U<O.length;U++){for(let z=0;z<S;z++)p(I,w,z,D,T,O[U]);L.push(P.deflate(I,R))}let B,V=1e9;for(U=0;U<L.length;U++)L[U].length<V&&(B=U,V=L[U].length);return L[B]}function p(w,S,T,D,I,k){const N=T*D;let L=N+T;if(w[L]=k,L++,k==0)if(D<500)for(var R=0;R<D;R++)w[L+R]=S[N+R];else w.set(new Uint8Array(S.buffer,N,D),L);else if(k==1){for(R=0;R<I;R++)w[L+R]=S[N+R];for(R=I;R<D;R++)w[L+R]=S[N+R]-S[N+R-I]+256&255}else if(T==0){for(R=0;R<I;R++)w[L+R]=S[N+R];if(k==2)for(R=I;R<D;R++)w[L+R]=S[N+R];if(k==3)for(R=I;R<D;R++)w[L+R]=S[N+R]-(S[N+R-I]>>1)+256&255;if(k==4)for(R=I;R<D;R++)w[L+R]=S[N+R]-n(S[N+R-I],0,0)+256&255}else{if(k==2)for(R=0;R<D;R++)w[L+R]=S[N+R]+256-S[N+R-D]&255;if(k==3){for(R=0;R<I;R++)w[L+R]=S[N+R]+256-(S[N+R-D]>>1)&255;for(R=I;R<D;R++)w[L+R]=S[N+R]+256-(S[N+R-D]+S[N+R-I]>>1)&255}if(k==4){for(R=0;R<I;R++)w[L+R]=S[N+R]+256-n(0,S[N+R-D],0)&255;for(R=I;R<D;R++)w[L+R]=S[N+R]+256-n(S[N+R-I],S[N+R-D],S[N+R-I-D])&255}}}function v(w,S){const T=new Uint8Array(w),D=T.slice(0),I=new Uint32Array(D.buffer),k=y(D,S),N=k[0],L=k[1],R=T.length,O=new Uint8Array(R>>2);let P;if(T.length<2e7)for(var U=0;U<R;U+=4)P=m(N,B=T[U]*(1/255),V=T[U+1]*(1/255),z=T[U+2]*(1/255),q=T[U+3]*(1/255)),O[U>>2]=P.ind,I[U>>2]=P.est.rgba;else for(U=0;U<R;U+=4){var B=T[U]*.00392156862745098,V=T[U+1]*(1/255),z=T[U+2]*(1/255),q=T[U+3]*(1/255);for(P=N;P.left;)P=g(P.est,B,V,z,q)<=0?P.left:P.right;O[U>>2]=P.ind,I[U>>2]=P.est.rgba}return{abuf:D.buffer,inds:O,plte:L}}function y(w,S,T){T==null&&(T=1e-4);const D=new Uint32Array(w.buffer),I={i0:0,i1:w.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=A(w,I.i0,I.i1),I.est=E(I.bst);const k=[I];for(;k.length<S;){let L=0,R=0;for(var N=0;N<k.length;N++)k[N].est.L>L&&(L=k[N].est.L,R=N);if(L<T)break;const O=k[R],P=_(w,D,O.i0,O.i1,O.est.e,O.est.eMq255);if(O.i0>=P||O.i1<=P){O.est.L=0;continue}const U={i0:O.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};U.bst=A(w,U.i0,U.i1),U.est=E(U.bst);const B={i0:P,i1:O.i1,bst:null,est:null,tdst:0,left:null,right:null};for(B.bst={R:[],m:[],N:O.bst.N-U.bst.N},N=0;N<16;N++)B.bst.R[N]=O.bst.R[N]-U.bst.R[N];for(N=0;N<4;N++)B.bst.m[N]=O.bst.m[N]-U.bst.m[N];B.est=E(B.bst),O.left=U,O.right=B,k[R]=U,k.push(B)}for(k.sort((L,R)=>R.bst.N-L.bst.N),N=0;N<k.length;N++)k[N].ind=N;return[I,k]}function m(w,S,T,D,I){if(w.left==null)return w.tdst=function(U,B,V,z,q){const $=B-U[0],H=V-U[1],Z=z-U[2],ie=q-U[3];return $*$+H*H+Z*Z+ie*ie}(w.est.q,S,T,D,I),w;const k=g(w.est,S,T,D,I);let N=w.left,L=w.right;k>0&&(N=w.right,L=w.left);const R=m(N,S,T,D,I);if(R.tdst<=k*k)return R;const O=m(L,S,T,D,I);return O.tdst<R.tdst?O:R}function g(w,S,T,D,I){const{e:k}=w;return k[0]*S+k[1]*T+k[2]*D+k[3]*I-w.eMq}function _(w,S,T,D,I,k){for(D-=4;T<D;){for(;b(w,T,I)<=k;)T+=4;for(;b(w,D,I)>k;)D-=4;if(T>=D)break;const N=S[T>>2];S[T>>2]=S[D>>2],S[D>>2]=N,T+=4,D-=4}for(;b(w,T,I)>k;)T-=4;return T+4}function b(w,S,T){return w[S]*T[0]+w[S+1]*T[1]+w[S+2]*T[2]+w[S+3]*T[3]}function A(w,S,T){const D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],k=T-S>>2;for(let N=S;N<T;N+=4){const L=w[N]*.00392156862745098,R=w[N+1]*(1/255),O=w[N+2]*(1/255),P=w[N+3]*(1/255);I[0]+=L,I[1]+=R,I[2]+=O,I[3]+=P,D[0]+=L*L,D[1]+=L*R,D[2]+=L*O,D[3]+=L*P,D[5]+=R*R,D[6]+=R*O,D[7]+=R*P,D[10]+=O*O,D[11]+=O*P,D[15]+=P*P}return D[4]=D[1],D[8]=D[2],D[9]=D[6],D[12]=D[3],D[13]=D[7],D[14]=D[11],{R:D,m:I,N:k}}function E(w){const{R:S}=w,{m:T}=w,{N:D}=w,I=T[0],k=T[1],N=T[2],L=T[3],R=D==0?0:1/D,O=[S[0]-I*I*R,S[1]-I*k*R,S[2]-I*N*R,S[3]-I*L*R,S[4]-k*I*R,S[5]-k*k*R,S[6]-k*N*R,S[7]-k*L*R,S[8]-N*I*R,S[9]-N*k*R,S[10]-N*N*R,S[11]-N*L*R,S[12]-L*I*R,S[13]-L*k*R,S[14]-L*N*R,S[15]-L*L*R],P=O,U=M;let B=[Math.random(),Math.random(),Math.random(),Math.random()],V=0,z=0;if(D!=0)for(let $=0;$<16&&(B=U.multVec(P,B),z=Math.sqrt(U.dot(B,B)),B=U.sml(1/z,B),!($!=0&&Math.abs(z-V)<1e-9));$++)V=z;const q=[I*R,k*R,N*R,L*R];return{Cov:O,q,e:B,L:V,eMq255:U.dot(U.sml(255,q),B),eMq:U.dot(B,q),rgba:(Math.round(255*q[3])<<24|Math.round(255*q[2])<<16|Math.round(255*q[1])<<8|Math.round(255*q[0])<<0)>>>0}}var M={multVec:(w,S)=>[w[0]*S[0]+w[1]*S[1]+w[2]*S[2]+w[3]*S[3],w[4]*S[0]+w[5]*S[1]+w[6]*S[2]+w[7]*S[3],w[8]*S[0]+w[9]*S[1]+w[10]*S[2]+w[11]*S[3],w[12]*S[0]+w[13]*S[1]+w[14]*S[2]+w[15]*S[3]],dot:(w,S)=>w[0]*S[0]+w[1]*S[1]+w[2]*S[2]+w[3]*S[3],sml:(w,S)=>[w*S[0],w*S[1],w*S[2],w*S[3]]};oi.encode=function(S,T,D,I,k,N,L){I==null&&(I=0),L==null&&(L=!1);const R=c(S,T,D,I,[!1,!1,!1,0,L,!1]);return u(R,-1),l(R,T,D,k,N)},oi.encodeLL=function(S,T,D,I,k,N,L,R){const O={ctype:0+(I==1?0:2)+(k==0?0:4),depth:N,frames:[]},P=(I+k)*N,U=P*T;for(let B=0;B<S.length;B++)O.frames.push({rect:{x:0,y:0,width:T,height:D},img:new Uint8Array(S[B]),blend:0,dispose:1,bpp:Math.ceil(P/8),bpl:Math.ceil(U/8)});return u(O,0,!0),l(O,T,D,L,R)},oi.encode.compress=c,oi.encode.dither=o,oi.quantize=v,oi.quantize.getKDtree=y,oi.quantize.getNearest=m})();const MA={toArrayBuffer(t,e){const n=t.width,i=t.height,r=n<<2,s=t.getContext("2d").getImageData(0,0,n,i),a=new Uint32Array(s.data.buffer),o=(32*n+31)/32<<2,l=o*i,u=122+l,c=new ArrayBuffer(u),d=new DataView(c),f=1<<20;let h,p,v,y,m=f,g=0,_=0,b=0;function A(w){d.setUint16(_,w,!0),_+=2}function E(w){d.setUint32(_,w,!0),_+=4}function M(w){_+=w}A(19778),E(u),M(4),E(122),E(108),E(n),E(-i>>>0),A(1),A(32),E(3),E(l),E(2835),E(2835),M(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function w(){for(;g<i&&m>0;){for(y=122+g*o,h=0;h<r;)m--,p=a[b++],v=p>>>24,d.setUint32(y+h,p<<8|v),h+=4;g++}b<a.length?(m=f,setTimeout(w,MA._dly)):e(c)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var mn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},xz={[mn.CHROME]:16384,[mn.FIREFOX]:11180,[mn.DESKTOP_SAFARI]:16384,[mn.IE]:8192,[mn.IOS]:4096,[mn.ETC]:8192};const eb=typeof window<"u",IA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,rp=eb&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Az=(eb||IA)&&(rp&&rp.getOriginalSymbol(window,"File")||typeof File<"u"&&File),DA=(eb||IA)&&(rp&&rp.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function tb(t,e,n=Date.now()){return new Promise(i=>{const r=t.split(","),s=r[0].match(/:(.*?);/)[1],a=globalThis.atob(r[1]);let o=a.length;const l=new Uint8Array(o);for(;o--;)l[o]=a.charCodeAt(o);const u=new Blob([l],{type:s});u.name=e,u.lastModified=n,i(u)})}function kA(t){return new Promise((e,n)=>{const i=new DA;i.onload=()=>e(i.result),i.onerror=r=>n(r),i.readAsDataURL(t)})}function LA(t){return new Promise((e,n)=>{const i=new Image;i.onload=()=>e(i),i.onerror=r=>n(r),i.src=t})}function Ta(){if(Ta.cachedResult!==void 0)return Ta.cachedResult;let t=mn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=mn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=mn.IOS:/Safari/i.test(e)?t=mn.DESKTOP_SAFARI:/Firefox/i.test(e)?t=mn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=mn.IE),Ta.cachedResult=t,Ta.cachedResult}function UA(t,e){const n=Ta(),i=xz[n];let r=t,s=e,a=r*s;const o=r>s?s/r:r/s;for(;a>i*i;){const l=(i+r)/2,u=(i+s)/2;l<u?(s=u,r=u*o):(s=l*o,r=l),a=r*s}return{width:r,height:s}}function Dm(t,e){let n,i;try{if(n=new OffscreenCanvas(t,e),i=n.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),i=n.getContext("2d")}return n.width=t,n.height=e,[n,i]}function PA(t,e){const{width:n,height:i}=UA(t.width,t.height),[r,s]=Dm(n,i);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,r.width,r.height)),s.drawImage(t,0,0,r.width,r.height),r}function Uf(){return Uf.cachedResult!==void 0||(Uf.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Uf.cachedResult}function sp(t,e={}){return new Promise(function(n,i){let r,s;var a=function(){try{return s=PA(r,e.fileType||t.type),n([r,s])}catch(l){return i(l)}},o=function(l){try{var u=function(c){try{throw c}catch(d){return i(d)}};try{let c;return kA(t).then(function(d){try{return c=d,LA(c).then(function(f){try{return r=f,function(){try{return a()}catch(h){return i(h)}}()}catch(h){return u(h)}},u)}catch(f){return u(f)}},u)}catch(c){u(c)}}catch(c){return i(c)}};try{if(Uf()||[mn.DESKTOP_SAFARI,mn.MOBILE_SAFARI].includes(Ta()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return r=l,a()}catch{return o()}},o)}catch{o()}})}function ap(t,e,n,i,r=1){return new Promise(function(s,a){let o;if(e==="image/png"){let d,f,h;return d=t.getContext("2d"),{data:f}=d.getImageData(0,0,t.width,t.height),h=oi.encode([f.buffer],t.width,t.height,4096*r),o=new Blob([h],{type:e}),o.name=n,o.lastModified=i,l.call(this)}{let d=function(){return l.call(this)};var u=d;if(e==="image/bmp")return new Promise(f=>MA.toBlob(t,f)).then((function(f){try{return o=f,o.name=n,o.lastModified=i,d.call(this)}catch(h){return a(h)}}).bind(this),a);{let f=function(){return d.call(this)};var c=f;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:r}).then((function(h){try{return o=h,o.name=n,o.lastModified=i,f.call(this)}catch(p){return a(p)}}).bind(this),a);{let h;return h=t.toDataURL(e,r),tb(h,n,i).then((function(p){try{return o=p,f.call(this)}catch(v){return a(v)}}).bind(this),a)}}}function l(){return s(o)}})}function Oi(t){t.width=0,t.height=0}function Vo(){return new Promise(function(t,e){let n,i,r,s;return Vo.cachedResult!==void 0?t(Vo.cachedResult):tb("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return n=a,sp(n).then(function(o){try{return i=o[1],ap(i,n.type,n.name,n.lastModified).then(function(l){try{return r=l,Oi(i),sp(r).then(function(u){try{return s=u[0],Vo.cachedResult=s.width===1&&s.height===2,t(Vo.cachedResult)}catch(c){return e(c)}},e)}catch(u){return e(u)}},e)}catch(l){return e(l)}},e)}catch(o){return e(o)}},e)})}function jA(t){return new Promise((e,n)=>{const i=new DA;i.onload=r=>{const s=new DataView(r.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const a=s.byteLength;let o=2;for(;o<a;){if(s.getUint16(o+2,!1)<=8)return e(-1);const l=s.getUint16(o,!1);if(o+=2,l==65505){if(s.getUint32(o+=2,!1)!=1165519206)return e(-1);const u=s.getUint16(o+=6,!1)==18761;o+=s.getUint32(o+4,u);const c=s.getUint16(o,u);o+=2;for(let d=0;d<c;d++)if(s.getUint16(o+12*d,u)==274)return e(s.getUint16(o+12*d+8,u))}else{if((65280&l)!=65280)break;o+=s.getUint16(o,!1)}}return e(-1)},i.onerror=r=>n(r),i.readAsArrayBuffer(t)})}function BA(t,e){const{width:n}=t,{height:i}=t,{maxWidthOrHeight:r}=e;let s,a=t;return isFinite(r)&&(n>r||i>r)&&([a,s]=Dm(n,i),n>i?(a.width=r,a.height=i/n*r):(a.width=n/i*r,a.height=r),s.drawImage(t,0,0,a.width,a.height),Oi(t)),a}function zA(t,e){const{width:n}=t,{height:i}=t,[r,s]=Dm(n,i);switch(e>4&&e<9?(r.width=i,r.height=n):(r.width=n,r.height=i),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,i);break;case 4:s.transform(1,0,0,-1,0,i);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,i,0);break;case 7:s.transform(0,-1,-1,0,i,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,i),Oi(t),r}function cC(t,e,n=0){return new Promise(function(i,r){let s,a,o,l,u,c,d,f,h,p,v,y,m,g,_,b,A,E,M,w;function S(D=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=D,e.onProgress(Math.min(s,100))}function T(D){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(D,s),100),e.onProgress(s)}return s=n,a=e.maxIteration||10,o=1024*e.maxSizeMB*1024,S(),sp(t,e).then((function(D){try{return[,l]=D,S(),u=BA(l,e),S(),new Promise(function(I,k){var N;if(!(N=e.exifOrientation))return jA(t).then((function(R){try{return N=R,L.call(this)}catch(O){return k(O)}}).bind(this),k);function L(){return I(N)}return L.call(this)}).then((function(I){try{return c=I,S(),Vo().then((function(k){try{return d=k?u:zA(u,c),S(),f=e.initialQuality||1,h=e.fileType||t.type,ap(d,h,t.name,t.lastModified,f).then((function(N){try{{let P=function(){if(a--&&(_>o||_>m)){let B,V;return B=w?.95*M.width:M.width,V=w?.95*M.height:M.height,[A,E]=Dm(B,V),E.drawImage(M,0,0,B,V),f*=h==="image/png"?.85:.95,ap(A,h,t.name,t.lastModified,f).then(function(z){try{return b=z,Oi(M),M=A,_=b.size,T(Math.min(99,Math.floor((g-_)/(g-o)*100))),P}catch(q){return r(q)}},r)}return[1]},U=function(){return Oi(M),Oi(A),Oi(u),Oi(d),Oi(l),T(100),i(b)};var R=P,O=U;if(p=N,S(),v=p.size>o,y=p.size>t.size,!v&&!y)return T(100),i(p);var L;return m=t.size,g=p.size,_=g,M=d,w=!e.alwaysKeepResolution&&v,(L=(function(B){for(;B;){if(B.then)return void B.then(L,r);try{if(B.pop){if(B.length)return B.pop()?U.call(this):B;B=P}else B=B.call(this)}catch(V){return r(V)}}}).bind(this))(P)}}catch(P){return r(P)}}).bind(this),r)}catch(N){return r(N)}}).bind(this),r)}catch(k){return r(k)}}).bind(this),r)}catch(I){return r(I)}}).bind(this),r)})}const Rz=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Jg;function Oz(t,e){return new Promise((n,i)=>{Jg||(Jg=function(a){const o=[];return o.push(a),URL.createObjectURL(new Blob(o))}(Rz));const r=new Worker(Jg);r.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)r.terminate();else if(a.data.progress===void 0){if(a.data.error)return i(new Error(a.data.error)),void r.terminate();n(a.data.file),r.terminate()}else e.onProgress(a.data.progress)}),r.addEventListener("error",i),e.signal&&e.signal.addEventListener("abort",()=>{i(e.signal.reason),r.terminate()}),r.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function xt(t,e){return new Promise(function(n,i){let r,s,a,o,l,u;if(r={...e},a=0,{onProgress:o}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=h=>{a=h,typeof o=="function"&&o(a)},!(t instanceof Blob||t instanceof Az))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return i(new Error("The file given is not an image"));if(u=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||u)return cC(t,r).then((function(h){try{return s=h,f.call(this)}catch(p){return i(p)}}).bind(this),i);var c=(function(){try{return f.call(this)}catch(h){return i(h)}}).bind(this),d=function(h){try{return cC(t,r).then(function(p){try{return s=p,c()}catch(v){return i(v)}},i)}catch(p){return i(p)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Oz(t,r).then(function(h){try{return s=h,c()}catch{return d()}},d)}catch{d()}function f(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{r.preserveExif&&t.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===t.type)&&(s=NA(t,s))}catch{}return n(s)}})}xt.getDataUrlFromFile=kA,xt.getFilefromDataUrl=tb,xt.loadImage=LA,xt.drawImageInCanvas=PA,xt.drawFileInCanvas=sp,xt.canvasToFile=ap,xt.getExifOrientation=jA,xt.handleMaxWidthOrHeight=BA,xt.followExifOrientation=zA,xt.cleanupCanvasMemory=Oi,xt.isAutoOrientationInBrowser=Vo,xt.approximateBelowMaximumCanvasSizeOfBrowser=UA,xt.copyExifWithoutOrientation=NA,xt.getBrowserName=Ta,xt.version="2.0.2";const uC={"modal-backdrop":"_modal-backdrop_qjvup_10","modal-backdrop--visible":"_modal-backdrop--visible_qjvup_24","fade-in":"_fade-in_qjvup_1"},Nd=({children:t,transitionDuration:e,toggleModal:n,divIdFromIndexHtml:i})=>{const[r,s]=x.useState(!1);x.useEffect(()=>{setTimeout(()=>{s(!0)},0)},[]);const a=()=>{s(!1),n()};return Ml.createPortal(C.jsx("div",{style:{transition:`opacity ${e}ms ease`},className:`${uC["modal-backdrop"]} ${r?uC["modal-backdrop--visible"]:""}`,onClick:a,children:ne.isValidElement(t)&&ne.cloneElement(t,{closeModal:a})}),document.getElementById(i))},Nz=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 3H9L7 5H3C2.44771 5 2 5.44772 2 6V20C2 20.5523 2.44771 21 3 21H21C21.5523 21 22 20.5523 22 20V6C22 5.44772 21.5523 5 21 5H17L15 3ZM7.828 7L9.828 5H14.172L16.172 7H20V19H4V7H7.828ZM12 18C8.96243 18 6.5 15.5376 6.5 12.5C6.5 9.46243 8.96243 7 12 7C15.0376 7 17.5 9.46243 17.5 12.5C17.5 15.5376 15.0376 18 12 18ZM15.5 12.5C15.5 14.433 13.933 16 12 16C10.067 16 8.5 14.433 8.5 12.5C8.5 10.567 10.067 9 12 9C13.933 9 15.5 10.567 15.5 12.5Z",fill:"black"}));/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function HA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(i){kz(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Mz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $A(t){var e=Mz(t,"string");return typeof e=="symbol"?e:e+""}function l1(t){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l1(t)}function Iz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,$A(i.key),i)}}function Dz(t,e,n){return e&&fC(t.prototype,e),n&&fC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kz(t,e,n){return e=$A(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FA(t){return Lz(t)||Uz(t)||Pz(t)||jz()}function Lz(t){if(Array.isArray(t))return c1(t)}function Uz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pz(t,e){if(t){if(typeof t=="string")return c1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c1(t,e)}}function c1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function jz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var km=typeof window<"u"&&typeof window.document<"u",Wi=km?window:{},nb=km&&Wi.document.documentElement?"ontouchstart"in Wi.document.documentElement:!1,ib=km?"PointerEvent"in Wi:!1,Je="cropper",rb="all",VA="crop",qA="move",GA="zoom",oa="e",la="w",vo="s",Kr="n",gc="ne",_c="nw",vc="se",yc="sw",u1="".concat(Je,"-crop"),hC="".concat(Je,"-disabled"),pn="".concat(Je,"-hidden"),pC="".concat(Je,"-hide"),Bz="".concat(Je,"-invisible"),op="".concat(Je,"-modal"),d1="".concat(Je,"-move"),Gu="".concat(Je,"Action"),nf="".concat(Je,"Preview"),sb="crop",WA="move",YA="none",f1="crop",h1="cropend",p1="cropmove",m1="cropstart",mC="dblclick",zz=nb?"touchstart":"mousedown",Hz=nb?"touchmove":"mousemove",$z=nb?"touchend touchcancel":"mouseup",gC=ib?"pointerdown":zz,_C=ib?"pointermove":Hz,vC=ib?"pointerup pointercancel":$z,yC="ready",bC="resize",wC="wheel",g1="zoom",EC="image/jpeg",Fz=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Vz=/^data:/,qz=/^data:image\/jpeg;base64,/,Gz=/^img|canvas$/i,XA=200,KA=100,CC={viewMode:0,dragMode:sb,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:XA,minContainerHeight:KA,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Wz='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Yz=Number.isNaN||Wi.isNaN;function Re(t){return typeof t=="number"&&!Yz(t)}var SC=function(e){return e>0&&e<1/0};function e_(t){return typeof t>"u"}function Xa(t){return l1(t)==="object"&&t!==null}var Xz=Object.prototype.hasOwnProperty;function qo(t){if(!Xa(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&Xz.call(n,"isPrototypeOf")}catch{return!1}}function dn(t){return typeof t=="function"}var Kz=Array.prototype.slice;function QA(t){return Array.from?Array.from(t):Kz.call(t)}function Et(t,e){return t&&dn(e)&&(Array.isArray(t)||Re(t.length)?QA(t).forEach(function(n,i){e.call(t,n,i,t)}):Xa(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var et=Object.assign||function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Xa(e)&&i.length>0&&i.forEach(function(s){Xa(s)&&Object.keys(s).forEach(function(a){e[a]=s[a]})}),e},Qz=/\.\d*(?:0|9){12}\d*$/;function ol(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Qz.test(t)?Math.round(t*e)/e:t}var Zz=/^width|height|left|top|marginLeft|marginTop$/;function ys(t,e){var n=t.style;Et(e,function(i,r){Zz.test(r)&&Re(i)&&(i="".concat(i,"px")),n[r]=i})}function Jz(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function It(t,e){if(e){if(Re(t.length)){Et(t,function(i){It(i,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function qi(t,e){if(e){if(Re(t.length)){Et(t,function(n){qi(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Go(t,e,n){if(e){if(Re(t.length)){Et(t,function(i){Go(i,e,n)});return}n?It(t,e):qi(t,e)}}var eH=/([a-z\d])([A-Z])/g;function ab(t){return t.replace(eH,"$1-$2").toLowerCase()}function _1(t,e){return Xa(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(ab(e)))}function Wu(t,e,n){Xa(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(ab(e)),n)}function tH(t,e){if(Xa(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(ab(e)))}var ZA=/\s\s*/,JA=function(){var t=!1;if(km){var e=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});Wi.addEventListener("test",n,i),Wi.removeEventListener("test",n,i)}return t}();function ri(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=n;e.trim().split(ZA).forEach(function(s){if(!JA){var a=t.listeners;a&&a[s]&&a[s][n]&&(r=a[s][n],delete a[s][n],Object.keys(a[s]).length===0&&delete a[s],Object.keys(a).length===0&&delete t.listeners)}t.removeEventListener(s,r,i)})}function Vn(t,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=n;e.trim().split(ZA).forEach(function(s){if(i.once&&!JA){var a=t.listeners,o=a===void 0?{}:a;r=function(){delete o[s][n],t.removeEventListener(s,r,i);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(t,c)},o[s]||(o[s]={}),o[s][n]&&t.removeEventListener(s,o[s][n],i),o[s][n]=r,t.listeners=o}t.addEventListener(s,r,i)})}function ll(t,e,n){var i;return dn(Event)&&dn(CustomEvent)?i=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function eR(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var t_=Wi.location,nH=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function TC(t){var e=t.match(nH);return e!==null&&(e[1]!==t_.protocol||e[2]!==t_.hostname||e[3]!==t_.port)}function xC(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function nu(t){var e=t.rotate,n=t.scaleX,i=t.scaleY,r=t.translateX,s=t.translateY,a=[];Re(r)&&r!==0&&a.push("translateX(".concat(r,"px)")),Re(s)&&s!==0&&a.push("translateY(".concat(s,"px)")),Re(e)&&e!==0&&a.push("rotate(".concat(e,"deg)")),Re(n)&&n!==1&&a.push("scaleX(".concat(n,")")),Re(i)&&i!==1&&a.push("scaleY(".concat(i,")"));var o=a.length?a.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function iH(t){var e=HA({},t),n=0;return Et(t,function(i,r){delete e[r],Et(e,function(s){var a=Math.abs(i.startX-s.startX),o=Math.abs(i.startY-s.startY),l=Math.abs(i.endX-s.endX),u=Math.abs(i.endY-s.endY),c=Math.sqrt(a*a+o*o),d=Math.sqrt(l*l+u*u),f=(d-c)/c;Math.abs(f)>Math.abs(n)&&(n=f)})}),n}function rf(t,e){var n=t.pageX,i=t.pageY,r={endX:n,endY:i};return e?r:HA({startX:n,startY:i},r)}function rH(t){var e=0,n=0,i=0;return Et(t,function(r){var s=r.startX,a=r.startY;e+=s,n+=a,i+=1}),e/=i,n/=i,{pageX:e,pageY:n}}function bs(t){var e=t.aspectRatio,n=t.height,i=t.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=SC(i),a=SC(n);if(s&&a){var o=n*e;r==="contain"&&o>i||r==="cover"&&o<i?n=i/e:i=n*e}else s?n=i/e:a&&(i=n*e);return{width:i,height:n}}function sH(t){var e=t.width,n=t.height,i=t.degree;if(i=Math.abs(i)%180,i===90)return{width:n,height:e};var r=i%90*Math.PI/180,s=Math.sin(r),a=Math.cos(r),o=e*a+n*s,l=e*s+n*a;return i>90?{width:l,height:o}:{width:o,height:l}}function aH(t,e,n,i){var r=e.aspectRatio,s=e.naturalWidth,a=e.naturalHeight,o=e.rotate,l=o===void 0?0:o,u=e.scaleX,c=u===void 0?1:u,d=e.scaleY,f=d===void 0?1:d,h=n.aspectRatio,p=n.naturalWidth,v=n.naturalHeight,y=i.fillColor,m=y===void 0?"transparent":y,g=i.imageSmoothingEnabled,_=g===void 0?!0:g,b=i.imageSmoothingQuality,A=b===void 0?"low":b,E=i.maxWidth,M=E===void 0?1/0:E,w=i.maxHeight,S=w===void 0?1/0:w,T=i.minWidth,D=T===void 0?0:T,I=i.minHeight,k=I===void 0?0:I,N=document.createElement("canvas"),L=N.getContext("2d"),R=bs({aspectRatio:h,width:M,height:S}),O=bs({aspectRatio:h,width:D,height:k},"cover"),P=Math.min(R.width,Math.max(O.width,p)),U=Math.min(R.height,Math.max(O.height,v)),B=bs({aspectRatio:r,width:M,height:S}),V=bs({aspectRatio:r,width:D,height:k},"cover"),z=Math.min(B.width,Math.max(V.width,s)),q=Math.min(B.height,Math.max(V.height,a)),$=[-z/2,-q/2,z,q];return N.width=ol(P),N.height=ol(U),L.fillStyle=m,L.fillRect(0,0,P,U),L.save(),L.translate(P/2,U/2),L.rotate(l*Math.PI/180),L.scale(c,f),L.imageSmoothingEnabled=_,L.imageSmoothingQuality=A,L.drawImage.apply(L,[t].concat(FA($.map(function(H){return Math.floor(ol(H))})))),L.restore(),N}var tR=String.fromCharCode;function oH(t,e,n){var i="";n+=e;for(var r=e;r<n;r+=1)i+=tR(t.getUint8(r));return i}var lH=/^data:.*,/;function cH(t){var e=t.replace(lH,""),n=atob(e),i=new ArrayBuffer(n.length),r=new Uint8Array(i);return Et(r,function(s,a){r[a]=n.charCodeAt(a)}),i}function uH(t,e){for(var n=[],i=8192,r=new Uint8Array(t);r.length>0;)n.push(tR.apply(null,QA(r.subarray(0,i)))),r=r.subarray(i);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function dH(t){var e=new DataView(t),n;try{var i,r,s;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var a=e.byteLength,o=2;o+1<a;){if(e.getUint8(o)===255&&e.getUint8(o+1)===225){r=o;break}o+=1}if(r){var l=r+4,u=r+10;if(oH(e,l,4)==="Exif"){var c=e.getUint16(u);if(i=c===18761,(i||c===19789)&&e.getUint16(u+2,i)===42){var d=e.getUint32(u+4,i);d>=8&&(s=u+d)}}}if(s){var f=e.getUint16(s,i),h,p;for(p=0;p<f;p+=1)if(h=s+p*12+2,e.getUint16(h,i)===274){h+=8,n=e.getUint16(h,i),e.setUint16(h,1,i);break}}}catch{n=1}return n}function fH(t){var e=0,n=1,i=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:i}}var hH={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,i=this.container,r=this.cropper,s=Number(n.minContainerWidth),a=Number(n.minContainerHeight);It(r,pn),qi(e,pn);var o={width:Math.max(i.offsetWidth,s>=0?s:XA),height:Math.max(i.offsetHeight,a>=0?a:KA)};this.containerData=o,ys(r,{width:o.width,height:o.height}),It(e,pn),qi(r,pn)},initCanvas:function(){var e=this.containerData,n=this.imageData,i=this.options.viewMode,r=Math.abs(n.rotate)%180===90,s=r?n.naturalHeight:n.naturalWidth,a=r?n.naturalWidth:n.naturalHeight,o=s/a,l=e.width,u=e.height;e.height*o>e.width?i===3?l=e.height*o:u=e.width/o:i===3?u=e.width/o:l=e.height*o;var c={aspectRatio:o,naturalWidth:s,naturalHeight:a,width:l,height:u};this.canvasData=c,this.limited=i===1||i===2,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=et({},c)},limitCanvas:function(e,n){var i=this.options,r=this.containerData,s=this.canvasData,a=this.cropBoxData,o=i.viewMode,l=s.aspectRatio,u=this.cropped&&a;if(e){var c=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;o>1?(c=Math.max(c,r.width),d=Math.max(d,r.height),o===3&&(d*l>c?c=d*l:d=c/l)):o>0&&(c?c=Math.max(c,u?a.width:0):d?d=Math.max(d,u?a.height:0):u&&(c=a.width,d=a.height,d*l>c?c=d*l:d=c/l));var f=bs({aspectRatio:l,width:c,height:d});c=f.width,d=f.height,s.minWidth=c,s.minHeight=d,s.maxWidth=1/0,s.maxHeight=1/0}if(n)if(o>(u?0:1)){var h=r.width-s.width,p=r.height-s.height;s.minLeft=Math.min(0,h),s.minTop=Math.min(0,p),s.maxLeft=Math.max(0,h),s.maxTop=Math.max(0,p),u&&this.limited&&(s.minLeft=Math.min(a.left,a.left+(a.width-s.width)),s.minTop=Math.min(a.top,a.top+(a.height-s.height)),s.maxLeft=a.left,s.maxTop=a.top,o===2&&(s.width>=r.width&&(s.minLeft=Math.min(0,h),s.maxLeft=Math.max(0,h)),s.height>=r.height&&(s.minTop=Math.min(0,p),s.maxTop=Math.max(0,p))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=r.width,s.maxTop=r.height},renderCanvas:function(e,n){var i=this.canvasData,r=this.imageData;if(n){var s=sH({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),a=s.width,o=s.height,l=i.width*(a/i.naturalWidth),u=i.height*(o/i.naturalHeight);i.left-=(l-i.width)/2,i.top-=(u-i.height)/2,i.width=l,i.height=u,i.aspectRatio=a/o,i.naturalWidth=a,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,ys(this.canvas,et({width:i.width,height:i.height},nu({translateX:i.left,translateY:i.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,i=this.imageData,r=i.naturalWidth*(n.width/n.naturalWidth),s=i.naturalHeight*(n.height/n.naturalHeight);et(i,{width:r,height:s,left:(n.width-r)/2,top:(n.height-s)/2}),ys(this.image,et({width:i.width,height:i.height},nu(et({translateX:i.left,translateY:i.top},i)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,i=e.aspectRatio||e.initialAspectRatio,r=Number(e.autoCropArea)||.8,s={width:n.width,height:n.height};i&&(n.height*i>n.width?s.height=s.width/i:s.width=s.height*i),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*r),s.height=Math.max(s.minHeight,s.height*r),s.left=n.left+(n.width-s.width)/2,s.top=n.top+(n.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=et({},s)},limitCropBox:function(e,n){var i=this.options,r=this.containerData,s=this.canvasData,a=this.cropBoxData,o=this.limited,l=i.aspectRatio;if(e){var u=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,d=o?Math.min(r.width,s.width,s.width+s.left,r.width-s.left):r.width,f=o?Math.min(r.height,s.height,s.height+s.top,r.height-s.top):r.height;u=Math.min(u,r.width),c=Math.min(c,r.height),l&&(u&&c?c*l>u?c=u/l:u=c*l:u?c=u/l:c&&(u=c*l),f*l>d?f=d/l:d=f*l),a.minWidth=Math.min(u,d),a.minHeight=Math.min(c,f),a.maxWidth=d,a.maxHeight=f}n&&(o?(a.minLeft=Math.max(0,s.left),a.minTop=Math.max(0,s.top),a.maxLeft=Math.min(r.width,s.left+s.width)-a.width,a.maxTop=Math.min(r.height,s.top+s.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=r.width-a.width,a.maxTop=r.height-a.height))},renderCropBox:function(){var e=this.options,n=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,e.movable&&e.cropBoxMovable&&Wu(this.face,Gu,i.width>=n.width&&i.height>=n.height?qA:rb),ys(this.cropBox,et({width:i.width,height:i.height},nu({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ll(this.element,f1,this.getData())}},pH={initPreview:function(){var e=this.element,n=this.crossOrigin,i=this.options.preview,r=n?this.crossOriginUrl:this.url,s=e.alt||"The image to preview",a=document.createElement("img");if(n&&(a.crossOrigin=n),a.src=r,a.alt=s,this.viewBox.appendChild(a),this.viewBoxImage=a,!!i){var o=i;typeof i=="string"?o=e.ownerDocument.querySelectorAll(i):i.querySelector&&(o=[i]),this.previews=o,Et(o,function(l){var u=document.createElement("img");Wu(l,nf,{width:l.offsetWidth,height:l.offsetHeight,html:l.innerHTML}),n&&(u.crossOrigin=n),u.src=r,u.alt=s,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',l.innerHTML="",l.appendChild(u)})}},resetPreview:function(){Et(this.previews,function(e){var n=_1(e,nf);ys(e,{width:n.width,height:n.height}),e.innerHTML=n.html,tH(e,nf)})},preview:function(){var e=this.imageData,n=this.canvasData,i=this.cropBoxData,r=i.width,s=i.height,a=e.width,o=e.height,l=i.left-n.left-e.left,u=i.top-n.top-e.top;!this.cropped||this.disabled||(ys(this.viewBoxImage,et({width:a,height:o},nu(et({translateX:-l,translateY:-u},e)))),Et(this.previews,function(c){var d=_1(c,nf),f=d.width,h=d.height,p=f,v=h,y=1;r&&(y=f/r,v=s*y),s&&v>h&&(y=h/s,p=r*y,v=h),ys(c,{width:p,height:v}),ys(c.getElementsByTagName("img")[0],et({width:a*y,height:o*y},nu(et({translateX:-l*y,translateY:-u*y},e))))}))}},mH={bind:function(){var e=this.element,n=this.options,i=this.cropper;dn(n.cropstart)&&Vn(e,m1,n.cropstart),dn(n.cropmove)&&Vn(e,p1,n.cropmove),dn(n.cropend)&&Vn(e,h1,n.cropend),dn(n.crop)&&Vn(e,f1,n.crop),dn(n.zoom)&&Vn(e,g1,n.zoom),Vn(i,gC,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Vn(i,wC,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Vn(i,mC,this.onDblclick=this.dblclick.bind(this)),Vn(e.ownerDocument,_C,this.onCropMove=this.cropMove.bind(this)),Vn(e.ownerDocument,vC,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Vn(window,bC,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,i=this.cropper;dn(n.cropstart)&&ri(e,m1,n.cropstart),dn(n.cropmove)&&ri(e,p1,n.cropmove),dn(n.cropend)&&ri(e,h1,n.cropend),dn(n.crop)&&ri(e,f1,n.crop),dn(n.zoom)&&ri(e,g1,n.zoom),ri(i,gC,this.onCropStart),n.zoomable&&n.zoomOnWheel&&ri(i,wC,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&ri(i,mC,this.onDblclick),ri(e.ownerDocument,_C,this.onCropMove),ri(e.ownerDocument,vC,this.onCropEnd),n.responsive&&ri(window,bC,this.onResize)}},gH={resize:function(){if(!this.disabled){var e=this.options,n=this.container,i=this.containerData,r=n.offsetWidth/i.width,s=n.offsetHeight/i.height,a=Math.abs(r-1)>Math.abs(s-1)?r:s;if(a!==1){var o,l;e.restore&&(o=this.getCanvasData(),l=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Et(o,function(u,c){o[c]=u*a})),this.setCropBoxData(Et(l,function(u,c){l[c]=u*a})))}}},dblclick:function(){this.disabled||this.options.dragMode===YA||this.setDragMode(Jz(this.dragBox,u1)?WA:sb)},wheel:function(e){var n=this,i=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*i,e)))},cropStart:function(e){var n=e.buttons,i=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Re(n)&&n!==1||Re(i)&&i!==0||e.ctrlKey))){var r=this.options,s=this.pointers,a;e.changedTouches?Et(e.changedTouches,function(o){s[o.identifier]=rf(o)}):s[e.pointerId||0]=rf(e),Object.keys(s).length>1&&r.zoomable&&r.zoomOnTouch?a=GA:a=_1(e.target,Gu),Fz.test(a)&&ll(this.element,m1,{originalEvent:e,action:a})!==!1&&(e.preventDefault(),this.action=a,this.cropping=!1,a===VA&&(this.cropping=!0,It(this.dragBox,op)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var i=this.pointers;e.preventDefault(),ll(this.element,p1,{originalEvent:e,action:n})!==!1&&(e.changedTouches?Et(e.changedTouches,function(r){et(i[r.identifier]||{},rf(r,!0))}):et(i[e.pointerId||0]||{},rf(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,i=this.pointers;e.changedTouches?Et(e.changedTouches,function(r){delete i[r.identifier]}):delete i[e.pointerId||0],n&&(e.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,Go(this.dragBox,op,this.cropped&&this.options.modal)),ll(this.element,h1,{originalEvent:e,action:n}))}}},_H={change:function(e){var n=this.options,i=this.canvasData,r=this.containerData,s=this.cropBoxData,a=this.pointers,o=this.action,l=n.aspectRatio,u=s.left,c=s.top,d=s.width,f=s.height,h=u+d,p=c+f,v=0,y=0,m=r.width,g=r.height,_=!0,b;!l&&e.shiftKey&&(l=d&&f?d/f:1),this.limited&&(v=s.minLeft,y=s.minTop,m=v+Math.min(r.width,i.width,i.left+i.width),g=y+Math.min(r.height,i.height,i.top+i.height));var A=a[Object.keys(a)[0]],E={x:A.endX-A.startX,y:A.endY-A.startY},M=function(S){switch(S){case oa:h+E.x>m&&(E.x=m-h);break;case la:u+E.x<v&&(E.x=v-u);break;case Kr:c+E.y<y&&(E.y=y-c);break;case vo:p+E.y>g&&(E.y=g-p);break}};switch(o){case rb:u+=E.x,c+=E.y;break;case oa:if(E.x>=0&&(h>=m||l&&(c<=y||p>=g))){_=!1;break}M(oa),d+=E.x,d<0&&(o=la,d=-d,u-=d),l&&(f=d/l,c+=(s.height-f)/2);break;case Kr:if(E.y<=0&&(c<=y||l&&(u<=v||h>=m))){_=!1;break}M(Kr),f-=E.y,c+=E.y,f<0&&(o=vo,f=-f,c-=f),l&&(d=f*l,u+=(s.width-d)/2);break;case la:if(E.x<=0&&(u<=v||l&&(c<=y||p>=g))){_=!1;break}M(la),d-=E.x,u+=E.x,d<0&&(o=oa,d=-d,u-=d),l&&(f=d/l,c+=(s.height-f)/2);break;case vo:if(E.y>=0&&(p>=g||l&&(u<=v||h>=m))){_=!1;break}M(vo),f+=E.y,f<0&&(o=Kr,f=-f,c-=f),l&&(d=f*l,u+=(s.width-d)/2);break;case gc:if(l){if(E.y<=0&&(c<=y||h>=m)){_=!1;break}M(Kr),f-=E.y,c+=E.y,d=f*l}else M(Kr),M(oa),E.x>=0?h<m?d+=E.x:E.y<=0&&c<=y&&(_=!1):d+=E.x,E.y<=0?c>y&&(f-=E.y,c+=E.y):(f-=E.y,c+=E.y);d<0&&f<0?(o=yc,f=-f,d=-d,c-=f,u-=d):d<0?(o=_c,d=-d,u-=d):f<0&&(o=vc,f=-f,c-=f);break;case _c:if(l){if(E.y<=0&&(c<=y||u<=v)){_=!1;break}M(Kr),f-=E.y,c+=E.y,d=f*l,u+=s.width-d}else M(Kr),M(la),E.x<=0?u>v?(d-=E.x,u+=E.x):E.y<=0&&c<=y&&(_=!1):(d-=E.x,u+=E.x),E.y<=0?c>y&&(f-=E.y,c+=E.y):(f-=E.y,c+=E.y);d<0&&f<0?(o=vc,f=-f,d=-d,c-=f,u-=d):d<0?(o=gc,d=-d,u-=d):f<0&&(o=yc,f=-f,c-=f);break;case yc:if(l){if(E.x<=0&&(u<=v||p>=g)){_=!1;break}M(la),d-=E.x,u+=E.x,f=d/l}else M(vo),M(la),E.x<=0?u>v?(d-=E.x,u+=E.x):E.y>=0&&p>=g&&(_=!1):(d-=E.x,u+=E.x),E.y>=0?p<g&&(f+=E.y):f+=E.y;d<0&&f<0?(o=gc,f=-f,d=-d,c-=f,u-=d):d<0?(o=vc,d=-d,u-=d):f<0&&(o=_c,f=-f,c-=f);break;case vc:if(l){if(E.x>=0&&(h>=m||p>=g)){_=!1;break}M(oa),d+=E.x,f=d/l}else M(vo),M(oa),E.x>=0?h<m?d+=E.x:E.y>=0&&p>=g&&(_=!1):d+=E.x,E.y>=0?p<g&&(f+=E.y):f+=E.y;d<0&&f<0?(o=_c,f=-f,d=-d,c-=f,u-=d):d<0?(o=yc,d=-d,u-=d):f<0&&(o=gc,f=-f,c-=f);break;case qA:this.move(E.x,E.y),_=!1;break;case GA:this.zoom(iH(a),e),_=!1;break;case VA:if(!E.x||!E.y){_=!1;break}b=eR(this.cropper),u=A.startX-b.left,c=A.startY-b.top,d=s.minWidth,f=s.minHeight,E.x>0?o=E.y>0?vc:gc:E.x<0&&(u-=d,o=E.y>0?yc:_c),E.y<0&&(c-=f),this.cropped||(qi(this.cropBox,pn),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}_&&(s.width=d,s.height=f,s.left=u,s.top=c,this.action=o,this.renderCropBox()),Et(a,function(w){w.startX=w.endX,w.startY=w.endY})}},vH={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&It(this.dragBox,op),qi(this.cropBox,pn),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=et({},this.initialImageData),this.canvasData=et({},this.initialCanvasData),this.cropBoxData=et({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(et(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),qi(this.dragBox,op),It(this.cropBox,pn)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Et(this.previews,function(i){i.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,qi(this.cropper,hC)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,It(this.cropper,hC)),this},destroy:function(){var e=this.element;return e[Je]?(e[Je]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.canvasData,r=i.left,s=i.top;return this.moveTo(e_(e)?e:r+Number(e),e_(n)?n:s+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.canvasData,r=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(Re(e)&&(i.left=e,r=!0),Re(n)&&(i.top=n,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(e,n){var i=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(i.width*e/i.naturalWidth,null,n)},zoomTo:function(e,n,i){var r=this.options,s=this.canvasData,a=s.width,o=s.height,l=s.naturalWidth,u=s.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&r.zoomable){var c=l*e,d=u*e;if(ll(this.element,g1,{ratio:e,oldRatio:a/l,originalEvent:i})===!1)return this;if(i){var f=this.pointers,h=eR(this.cropper),p=f&&Object.keys(f).length?rH(f):{pageX:i.pageX,pageY:i.pageY};s.left-=(c-a)*((p.pageX-h.left-s.left)/a),s.top-=(d-o)*((p.pageY-h.top-s.top)/o)}else qo(n)&&Re(n.x)&&Re(n.y)?(s.left-=(c-a)*((n.x-s.left)/a),s.top-=(d-o)*((n.y-s.top)/o)):(s.left-=(c-a)/2,s.top-=(d-o)/2);s.width=c,s.height=d,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),Re(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,Re(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(Re(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.imageData,r=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(Re(e)&&(i.scaleX=e,r=!0),Re(n)&&(i.scaleY=n,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,i=this.imageData,r=this.canvasData,s=this.cropBoxData,a;if(this.ready&&this.cropped){a={x:s.left-r.left,y:s.top-r.top,width:s.width,height:s.height};var o=i.width/i.naturalWidth;if(Et(a,function(c,d){a[d]=c/o}),e){var l=Math.round(a.y+a.height),u=Math.round(a.x+a.width);a.x=Math.round(a.x),a.y=Math.round(a.y),a.width=u-a.x,a.height=l-a.y}}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=i.rotate||0),n.scalable&&(a.scaleX=i.scaleX||1,a.scaleY=i.scaleY||1),a},setData:function(e){var n=this.options,i=this.imageData,r=this.canvasData,s={};if(this.ready&&!this.disabled&&qo(e)){var a=!1;n.rotatable&&Re(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,a=!0),n.scalable&&(Re(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,a=!0),Re(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var o=i.width/i.naturalWidth;Re(e.x)&&(s.left=e.x*o+r.left),Re(e.y)&&(s.top=e.y*o+r.top),Re(e.width)&&(s.width=e.width*o),Re(e.height)&&(s.height=e.height*o),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?et({},this.containerData):{}},getImageData:function(){return this.sized?et({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&Et(["left","top","width","height","naturalWidth","naturalHeight"],function(i){n[i]=e[i]}),n},setCanvasData:function(e){var n=this.canvasData,i=n.aspectRatio;return this.ready&&!this.disabled&&qo(e)&&(Re(e.left)&&(n.left=e.left),Re(e.top)&&(n.top=e.top),Re(e.width)?(n.width=e.width,n.height=e.width/i):Re(e.height)&&(n.height=e.height,n.width=e.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,i=this.options.aspectRatio,r,s;return this.ready&&this.cropped&&!this.disabled&&qo(e)&&(Re(e.left)&&(n.left=e.left),Re(e.top)&&(n.top=e.top),Re(e.width)&&e.width!==n.width&&(r=!0,n.width=e.width),Re(e.height)&&e.height!==n.height&&(s=!0,n.height=e.height),i&&(r?n.height=n.width/i:s&&(n.width=n.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,i=aH(this.image,this.imageData,n,e);if(!this.cropped)return i;var r=this.getData(e.rounded),s=r.x,a=r.y,o=r.width,l=r.height,u=i.width/Math.floor(n.naturalWidth);u!==1&&(s*=u,a*=u,o*=u,l*=u);var c=o/l,d=bs({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=bs({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),h=bs({aspectRatio:c,width:e.width||(u!==1?i.width:o),height:e.height||(u!==1?i.height:l)}),p=h.width,v=h.height;p=Math.min(d.width,Math.max(f.width,p)),v=Math.min(d.height,Math.max(f.height,v));var y=document.createElement("canvas"),m=y.getContext("2d");y.width=ol(p),y.height=ol(v),m.fillStyle=e.fillColor||"transparent",m.fillRect(0,0,p,v);var g=e.imageSmoothingEnabled,_=g===void 0?!0:g,b=e.imageSmoothingQuality;m.imageSmoothingEnabled=_,b&&(m.imageSmoothingQuality=b);var A=i.width,E=i.height,M=s,w=a,S,T,D,I,k,N;M<=-o||M>A?(M=0,S=0,D=0,k=0):M<=0?(D=-M,M=0,S=Math.min(A,o+M),k=S):M<=A&&(D=0,S=Math.min(o,A-M),k=S),S<=0||w<=-l||w>E?(w=0,T=0,I=0,N=0):w<=0?(I=-w,w=0,T=Math.min(E,l+w),N=T):w<=E&&(I=0,T=Math.min(l,E-w),N=T);var L=[M,w,S,T];if(k>0&&N>0){var R=p/o;L.push(D*R,I*R,k*R,N*R)}return m.drawImage.apply(m,[i].concat(FA(L.map(function(O){return Math.floor(ol(O))})))),y},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!e_(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,i=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var s=e===sb,a=n.movable&&e===WA;e=s||a?e:YA,n.dragMode=e,Wu(i,Gu,e),Go(i,u1,s),Go(i,d1,a),n.cropBoxMovable||(Wu(r,Gu,e),Go(r,u1,s),Go(r,d1,a))}return this}},yH=Wi.Cropper,nR=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Iz(this,t),!e||!Gz.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=et({},CC,qo(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Dz(t,[{key:"init",value:function(){var n=this.element,i=n.tagName.toLowerCase(),r;if(!n[Je]){if(n[Je]=this,i==="img"){if(this.isImg=!0,r=n.getAttribute("src")||"",this.originalUrl=r,!r)return;r=n.src}else i==="canvas"&&window.HTMLCanvasElement&&(r=n.toDataURL());this.load(r)}}},{key:"load",value:function(n){var i=this;if(n){this.url=n,this.imageData={};var r=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Vz.test(n)){qz.test(n)?this.read(cH(n)):this.clone();return}var a=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=o,a.onerror=o,a.ontimeout=o,a.onprogress=function(){a.getResponseHeader("content-type")!==EC&&a.abort()},a.onload=function(){i.read(a.response)},a.onloadend=function(){i.reloading=!1,i.xhr=null},s.checkCrossOrigin&&TC(n)&&r.crossOrigin&&(n=xC(n)),a.open("GET",n,!0),a.responseType="arraybuffer",a.withCredentials=r.crossOrigin==="use-credentials",a.send()}}},{key:"read",value:function(n){var i=this.options,r=this.imageData,s=dH(n),a=0,o=1,l=1;if(s>1){this.url=uH(n,EC);var u=fH(s);a=u.rotate,o=u.scaleX,l=u.scaleY}i.rotatable&&(r.rotate=a),i.scalable&&(r.scaleX=o,r.scaleY=l),this.clone()}},{key:"clone",value:function(){var n=this.element,i=this.url,r=n.crossOrigin,s=i;this.options.checkCrossOrigin&&TC(i)&&(r||(r="anonymous"),s=xC(i)),this.crossOrigin=r,this.crossOriginUrl=s;var a=document.createElement("img");r&&(a.crossOrigin=r),a.src=s||i,a.alt=n.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),It(a,pC),n.parentNode.insertBefore(a,n.nextSibling)}},{key:"start",value:function(){var n=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var r=Wi.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Wi.navigator.userAgent),s=function(u,c){et(n.imageData,{naturalWidth:u,naturalHeight:c,aspectRatio:u/c}),n.initialImageData=et({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(i.naturalWidth&&!r){s(i.naturalWidth,i.naturalHeight);return}var a=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){s(a.width,a.height),r||o.removeChild(a)},a.src=i.src,r||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(a))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,i=this.options,r=this.image,s=n.parentNode,a=document.createElement("div");a.innerHTML=Wz;var o=a.querySelector(".".concat(Je,"-container")),l=o.querySelector(".".concat(Je,"-canvas")),u=o.querySelector(".".concat(Je,"-drag-box")),c=o.querySelector(".".concat(Je,"-crop-box")),d=c.querySelector(".".concat(Je,"-face"));this.container=s,this.cropper=o,this.canvas=l,this.dragBox=u,this.cropBox=c,this.viewBox=o.querySelector(".".concat(Je,"-view-box")),this.face=d,l.appendChild(r),It(n,pn),s.insertBefore(o,n.nextSibling),qi(r,pC),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,It(c,pn),i.guides||It(c.getElementsByClassName("".concat(Je,"-dashed")),pn),i.center||It(c.getElementsByClassName("".concat(Je,"-center")),pn),i.background&&It(o,"".concat(Je,"-bg")),i.highlight||It(d,Bz),i.cropBoxMovable&&(It(d,d1),Wu(d,Gu,rb)),i.cropBoxResizable||(It(c.getElementsByClassName("".concat(Je,"-line")),pn),It(c.getElementsByClassName("".concat(Je,"-point")),pn)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),dn(i.ready)&&Vn(n,yC,i.ready,{once:!0}),ll(n,yC)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),qi(this.element,pn)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=yH,t}},{key:"setDefaults",value:function(n){et(CC,qo(n)&&n)}}])}();et(nR.prototype,hH,pH,mH,gH,_H,vH);var ba=function(){return ba=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ba.apply(this,arguments)};function n_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}var bH=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],wH={opacity:0,maxWidth:"100%"},EH=ne.forwardRef(function(t,e){var n=n_(t,[]),i=n.dragMode,r=i===void 0?"crop":i,s=n.src,a=n.style,o=n.className,l=n.crossOrigin,u=n.scaleX,c=n.scaleY,d=n.enable,f=n.zoomTo,h=n.rotateTo,p=n.alt,v=p===void 0?"picture":p,y=n.ready,m=n.onInitialized,g=n_(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),_={scaleY:c,scaleX:u,enable:d,zoomTo:f,rotateTo:h},b=function(){for(var E=[],M=0;M<arguments.length;M++)E[M]=arguments[M];var w=x.useRef(null);return ne.useEffect(function(){E.forEach(function(S){S&&(typeof S=="function"?S(w.current):S.current=w.current)})},[E]),w}(e,x.useRef(null));x.useEffect(function(){var E;!((E=b.current)===null||E===void 0)&&E.cropper&&typeof f=="number"&&b.current.cropper.zoomTo(f)},[n.zoomTo]),x.useEffect(function(){var E;!((E=b.current)===null||E===void 0)&&E.cropper&&s!==void 0&&b.current.cropper.reset().clear().replace(s)},[s]),x.useEffect(function(){if(b.current!==null){var E=new nR(b.current,ba(ba({dragMode:r},g),{ready:function(M){M.currentTarget!==null&&function(w,S){S===void 0&&(S={});var T=S.enable,D=T===void 0||T,I=S.scaleX,k=I===void 0?1:I,N=S.scaleY,L=N===void 0?1:N,R=S.zoomTo,O=R===void 0?0:R,P=S.rotateTo;D?w.enable():w.disable(),w.scaleX(k),w.scaleY(L),P!==void 0&&w.rotateTo(P),O>0&&w.zoomTo(O)}(M.currentTarget.cropper,_),y&&y(M)}}));m&&m(E)}return function(){var M,w;(w=(M=b.current)===null||M===void 0?void 0:M.cropper)===null||w===void 0||w.destroy()}},[b]);var A=function(E){return bH.reduce(function(M,w){var S=M,T=w;return S[T],n_(S,[typeof T=="symbol"?T:T+""])},E)}(ba(ba({},g),{crossOrigin:l,src:s,alt:v}));return ne.createElement("div",{style:a,className:o},ne.createElement("img",ba({},A,{style:wH,ref:b})))});const yo={"modal-cropper":"_modal-cropper_9qjqm_11","modal-cropper__cropper-wrapper":"_modal-cropper__cropper-wrapper_9qjqm_22","modal-cropper__cropper-component":"_modal-cropper__cropper-component_9qjqm_29","modal-cropper__buttons-wrapper":"_modal-cropper__buttons-wrapper_9qjqm_33","modal-cropper__action-btn":"_modal-cropper__action-btn_9qjqm_44","modal-cropper__cancel-btn":"_modal-cropper__cancel-btn_9qjqm_69","fade-in":"_fade-in_9qjqm_1"},CH=({imageFile:t,isMobileScreen:e,closeModal:n,uploadAvatar:i})=>{const[r,s]=x.useState(null),[a,o]=x.useState();x.useLayoutEffect(()=>{const u=new Image;u.src=URL.createObjectURL(t),u.onload=()=>{const d=window.innerHeight-64-32-60,f=d/u.height,h=u.width*f;o({height:d,width:h})}},[t]);const l=async()=>{if(r){const c=r.getCroppedCanvas().toDataURL(),d=await fetch(c).then(f=>f.blob()).catch(f=>(console.error("Error fetching blob:",f),null));if(d){const f=new File([d],`${t.name}`,{type:d.type});i(f),n&&n()}}};return C.jsxs("div",{className:yo["modal-cropper"],onClick:u=>u.stopPropagation(),onContextMenu:u=>{e&&u.preventDefault()},children:[C.jsx("div",{style:{height:`${a==null?void 0:a.height}px`,width:`${a==null?void 0:a.width}px`},className:yo["modal-cropper__cropper-wrapper"],children:C.jsx(EH,{className:yo["modal-cropper__cropper-component"],zoomTo:0,initialAspectRatio:1,src:URL.createObjectURL(t),viewMode:2,minCropBoxHeight:10,minCropBoxWidth:10,aspectRatio:1,background:!1,responsive:!0,autoCropArea:1,dragMode:"move",movable:!0,cropBoxResizable:!0,checkOrientation:!1,guides:!0,onInitialized:u=>{s(u)}})}),C.jsxs("div",{className:yo["modal-cropper__buttons-wrapper"],children:[C.jsx("button",{onClick:l,className:yo["modal-cropper__action-btn"],children:"Сохранить"}),C.jsx("button",{onClick:n,className:yo["modal-cropper__cancel-btn"],children:"Отмена"})]})]})};var zt=[];for(var i_=0;i_<256;++i_)zt.push((i_+256).toString(16).slice(1));function SH(t,e=0){return(zt[t[e+0]]+zt[t[e+1]]+zt[t[e+2]]+zt[t[e+3]]+"-"+zt[t[e+4]]+zt[t[e+5]]+"-"+zt[t[e+6]]+zt[t[e+7]]+"-"+zt[t[e+8]]+zt[t[e+9]]+"-"+zt[t[e+10]]+zt[t[e+11]]+zt[t[e+12]]+zt[t[e+13]]+zt[t[e+14]]+zt[t[e+15]]).toLowerCase()}var sf,TH=new Uint8Array(16);function xH(){if(!sf&&(sf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!sf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sf(TH)}var AH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const AC={randomUUID:AH};function ga(t,e,n){if(AC.randomUUID&&!e&&!t)return AC.randomUUID();t=t||{};var i=t.random||(t.rng||xH)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,SH(i)}var ob={};ob.match=DH;ob.parse=iR;var RH=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,OH=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,NH=/^(?:(min|max)-)?(.+)/,MH=/(em|rem|px|cm|mm|in|pt|pc)?$/,IH=/(dpi|dpcm|dppx)?$/;function DH(t,e){return iR(t).some(function(n){var i=n.inverse,r=n.type==="all"||e.type===n.type;if(r&&i||!(r||i))return!1;var s=n.expressions.every(function(a){var o=a.feature,l=a.modifier,u=a.value,c=e[o];if(!c)return!1;switch(o){case"orientation":case"scan":return c.toLowerCase()===u.toLowerCase();case"width":case"height":case"device-width":case"device-height":u=NC(u),c=NC(c);break;case"resolution":u=OC(u),c=OC(c);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":u=RC(u),c=RC(c);break;case"grid":case"color":case"color-index":case"monochrome":u=parseInt(u,10)||1,c=parseInt(c,10)||0;break}switch(l){case"min":return c>=u;case"max":return c<=u;default:return c===u}});return s&&!i||!s&&i})}function iR(t){return t.split(",").map(function(e){e=e.trim();var n=e.match(RH),i=n[1],r=n[2],s=n[3]||"",a={};return a.inverse=!!i&&i.toLowerCase()==="not",a.type=r?r.toLowerCase():"all",s=s.match(/\([^\)]+\)/g)||[],a.expressions=s.map(function(o){var l=o.match(OH),u=l[1].toLowerCase().match(NH);return{modifier:u[1],feature:u[2],value:l[2]}}),a})}function RC(t){var e=Number(t),n;return e||(n=t.match(/^(\d+)\s*\/\s*(\d+)$/),e=n[1]/n[2]),e}function OC(t){var e=parseFloat(t),n=String(t).match(IH)[1];switch(n){case"dpcm":return e/2.54;case"dppx":return e*96;default:return e}}function NC(t){var e=parseFloat(t),n=String(t).match(MH)[1];switch(n){case"em":return e*16;case"rem":return e*16;case"cm":return e*96/2.54;case"mm":return e*96/2.54/10;case"in":return e*96;case"pt":return e*72;case"pc":return e*72/12;default:return e}}var kH=ob.match,MC=typeof window<"u"?window.matchMedia:null;function LH(t,e,n){var i=this,r;MC&&!n&&(r=MC.call(window,t)),r?(this.matches=r.matches,this.media=r.media,r.addListener(o)):(this.matches=kH(t,e),this.media=t),this.addListener=s,this.removeListener=a,this.dispose=l;function s(u){r&&r.addListener(u)}function a(u){r&&r.removeListener(u)}function o(u){i.matches=u.matches,i.media=u.media}function l(){r&&r.removeListener(o)}}function UH(t,e,n){return new LH(t,e,n)}var PH=UH;const jH=qp(PH);var BH=/[A-Z]/g,zH=/^ms-/,r_={};function HH(t){return"-"+t.toLowerCase()}function rR(t){if(r_.hasOwnProperty(t))return r_[t];var e=t.replace(BH,HH);return r_[t]=zH.test(e)?"-"+e:e}function $H(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),i=Object.keys(e),r=n.length;if(i.length!==r)return!1;for(let s=0;s<r;s++){const a=n[s];if(t[a]!==e[a]||!Object.prototype.hasOwnProperty.call(e,a))return!1}return!0}var sR={exports:{}},FH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VH=FH,qH=VH;function aR(){}function oR(){}oR.resetWarningCache=aR;var GH=function(){function t(i,r,s,a,o,l){if(l!==qH){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:oR,resetWarningCache:aR};return n.PropTypes=n,n};sR.exports=GH();var WH=sR.exports;const ke=qp(WH),Zt=ke.oneOfType([ke.string,ke.number]),lb={all:ke.bool,grid:ke.bool,aural:ke.bool,braille:ke.bool,handheld:ke.bool,print:ke.bool,projection:ke.bool,screen:ke.bool,tty:ke.bool,tv:ke.bool,embossed:ke.bool},lR={orientation:ke.oneOf(["portrait","landscape"]),scan:ke.oneOf(["progressive","interlace"]),aspectRatio:ke.string,deviceAspectRatio:ke.string,height:Zt,deviceHeight:Zt,width:Zt,deviceWidth:Zt,color:ke.bool,colorIndex:ke.bool,monochrome:ke.bool,resolution:Zt,type:Object.keys(lb)},{type:RW,...YH}=lR,cR={minAspectRatio:ke.string,maxAspectRatio:ke.string,minDeviceAspectRatio:ke.string,maxDeviceAspectRatio:ke.string,minHeight:Zt,maxHeight:Zt,minDeviceHeight:Zt,maxDeviceHeight:Zt,minWidth:Zt,maxWidth:Zt,minDeviceWidth:Zt,maxDeviceWidth:Zt,minColor:ke.number,maxColor:ke.number,minColorIndex:ke.number,maxColorIndex:ke.number,minMonochrome:ke.number,maxMonochrome:ke.number,minResolution:Zt,maxResolution:Zt,...YH},XH={...lb,...cR};var KH={all:XH,types:lb,matchers:lR,features:cR};const QH=t=>`not ${t}`,ZH=(t,e)=>{const n=rR(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?QH(n):`(${n}: ${e})`},JH=t=>t.join(" and "),e$=t=>{const e=[];return Object.keys(KH.all).forEach(n=>{const i=t[n];i!=null&&e.push(ZH(n,i))}),JH(e)},t$=x.createContext(void 0),n$=t=>t.query||e$(t),IC=t=>t?Object.keys(t).reduce((n,i)=>(n[rR(i)]=t[i],n),{}):void 0,uR=()=>{const t=x.useRef(!1);return x.useEffect(()=>{t.current=!0},[]),t.current},i$=t=>{const e=x.useContext(t$),n=()=>IC(t)||IC(e),[i,r]=x.useState(n);return x.useEffect(()=>{const s=n();$H(i,s)||r(s)},[t,e]),i},r$=t=>{const e=()=>n$(t),[n,i]=x.useState(e);return x.useEffect(()=>{const r=e();n!==r&&i(r)},[t]),n},s$=(t,e)=>{const n=()=>jH(t,e||{},!!e),[i,r]=x.useState(n),s=uR();return x.useEffect(()=>{if(s){const a=n();return r(a),()=>{a&&a.dispose()}}},[t,e]),i},a$=t=>{const[e,n]=x.useState(t.matches);return x.useEffect(()=>{const i=r=>{n(r.matches)};return t.addListener(i),n(t.matches),()=>{t.removeListener(i)}},[t]),e},o$=(t,e,n)=>{const i=i$(e),r=r$(t);if(!r)throw new Error("Invalid or missing MediaQuery!");const s=s$(r,i),a=a$(s),o=uR();return x.useEffect(()=>{o&&n&&n(a)},[a]),x.useEffect(()=>()=>{s&&s.dispose()},[]),a},Md=()=>({isMobileScreen:o$({query:"(max-width: 991px)"})}),l$=({userAvatar:t,uid:e})=>{const{isMobileScreen:n}=Md(),[i,r]=x.useState(!1),[s,a]=x.useState(null),[o,l]=x.useState(!1),u=x.useRef(null),{toggleModal:c}=Od({setCbState:r}),d=100,f=()=>c(!0),h="image/jpeg, image/png, image/bmp, image/webp, image/avif",p=async m=>{const g=rA(sA,`users_uploads/${`${ga()}_${m.name}`}`),_=nA(g,m);return new Promise((b,A)=>{_.on("state_changed",E=>{const M=Math.floor(E.bytesTransferred/E.totalBytes*100);l(M)},E=>{console.log("Upload error:",E),l("error"),A(E)},async()=>{const E=await iA(_.snapshot.ref);l(!1),b(E)})})},v=async m=>{const g={maxSizeMB:10,useWebWorker:!0,initialQuality:.97,alwaysKeepResolution:!0};try{return await xt(m,g)}catch(_){return console.error("Ошибка сжатия изображения:",_),m}},y=async m=>{if(m){const g=await v(m),_=await p(g);typeof _=="string"&&Wv(fe(he,`users/${e}/avatar`),_)}};return C.jsxs(C.Fragment,{children:[C.jsxs("button",{onClick:()=>{var m;typeof o!="number"&&((m=u.current)==null||m.click())},className:`${_o["upload-avatar"]} ${typeof o=="number"?_o["upload-avatar--loading"]:""}`,children:[C.jsx(na,{AvatarImg:t}),o===!1&&C.jsx(Nz,{className:_o["upload-avatar__camera-icon"]}),o==="error"&&C.jsx("div",{className:_o["upload-avatar__error-icon"],children:"!"}),typeof o=="number"&&C.jsx("div",{className:_o["upload-avatar__circular-progressbar-wrapper"],children:C.jsx(Xl,{className:_o["upload-avatar__circular-progressbar"],value:o===0?1:o,styles:Kl({strokeLinecap:"round",pathTransitionDuration:.5,pathColor:"rgb(255, 255, 255)",trailColor:"none"})})})]}),C.jsx("input",{ref:u,type:"file",accept:h,style:{display:"none"},onChange:m=>{const g=m.target.files;if(g&&g[0]){const _=g[0];_.type.startsWith("image/")&&(a({name:_.name,fileObject:_}),f())}m.target.value=""}}),i&&s&&C.jsx(Nd,{transitionDuration:d,toggleModal:()=>c(!1,d),divIdFromIndexHtml:"modal-backdrop",children:C.jsx(CH,{uploadAvatar:y,isMobileScreen:n,imageFile:s.fileObject})})]})},ar={"modal-input-confirm":"_modal-input-confirm_1rp25_11","modal-input-confirm__info-wrapper":"_modal-input-confirm__info-wrapper_1rp25_21","modal-input-confirm__title":"_modal-input-confirm__title_1rp25_26","modal-input-confirm__subtitle":"_modal-input-confirm__subtitle_1rp25_32","modal-input-confirm__buttons-wrapper":"_modal-input-confirm__buttons-wrapper_1rp25_38","modal-input-confirm__action-btn":"_modal-input-confirm__action-btn_1rp25_43","modal-input-confirm__cancel-btn":"_modal-input-confirm__cancel-btn_1rp25_68","modal-input-confirm__input":"_modal-input-confirm__input_1rp25_93","modal-input-confirm__label-error":"_modal-input-confirm__label-error_1rp25_104","fade-in":"_fade-in_1rp25_1"},c$=({title:t,subtitle:e,actionBtnText:n,avatar:i,isMobileScreen:r,inputPlaceholder:s,setInputValue:a,inputValue:o,action:l,closeModal:u,widthStyle:c,validateInput:d})=>{const[f,h]=x.useState(""),p=()=>{if(a!==void 0&&o!==void 0){if(d){const v=d(o);if(v){h(v);return}}l(),u()}};return x.useEffect(()=>()=>{h("")},[]),C.jsxs("div",{className:ar["modal-input-confirm"],onClick:v=>v.stopPropagation(),onContextMenu:v=>{r&&v.preventDefault()},style:{width:c||""},children:[(i!==void 0||t!==void 0)&&C.jsxs("div",{className:ar["modal-input-confirm__info-wrapper"],children:[i&&C.jsx(na,{isLittle:!0,AvatarImg:i}),t&&C.jsx("span",{className:ar["modal-input-confirm__title"],children:t})]}),e&&C.jsx("p",{className:ar["modal-input-confirm__subtitle"],children:e}),f&&C.jsx("label",{htmlFor:"inputField",className:ar["modal-input-confirm__label-error"],children:f}),s!==void 0&&a!==void 0&&o!==void 0&&C.jsx("input",{value:o,type:"text",autoComplete:"off",id:"inputField",onChange:v=>a(v.target.value),placeholder:s,className:ar["modal-input-confirm__input"]}),C.jsxs("div",{className:ar["modal-input-confirm__buttons-wrapper"],children:[C.jsx("button",{className:ar["modal-input-confirm__action-btn"],onClick:p,children:n}),C.jsx("button",{className:ar["modal-input-confirm__cancel-btn"],onClick:u,children:"Отмена"})]})]})},Ji=()=>{const{email:t,avatar:e,uid:n,username:i,blocked:r}=_d(mB);return{isAuth:!!t,email:t,avatar:e,uid:n,username:i,blocked:r}},u$=({isMobileScreen:t,isPanelOpen:e,setIsPanelOpen:n})=>{const{avatar:i,uid:r,username:s}=Ji(),[a,o]=x.useState(!1),[l,u]=x.useState(""),c=Ln(),d=ey(),{toggleBodyLock:f}=Im(),{toggleModal:h}=Od({setCbState:o}),p=100,v=()=>{n(_=>!_),f()},y=()=>{const _=fe(he,`users/${r}`);mt(_,{isOnline:!1}),rD(d).then(()=>{console.log("Sign-out successful."),c(pB()),localStorage.removeItem("existingDataByUser")}).catch(b=>{console.log(b)})},m=async()=>{const _=fe(he,`users/${r}`);await mt(_,{username:l,usernameNormalized:fs(l)}),u("")},g=_=>_.replace(/\s/g,"").length<3?"Минимальная длина 3 символа":_.replace(/\s/g,"").length>32?"Максимальная длина 32 символа":/^[a-zA-Zа-яА-ЯёЁ0-9\s]+$/.test(_)?"":"Допускаются только буквы и цифры";return Ml.createPortal(C.jsx("div",{onClick:_=>_.stopPropagation(),className:go["stop-propagation-wrapper"],children:C.jsx("div",{onClick:v,className:`${go["my-panel-backdrop"]} ${e?go.active:""}`,children:C.jsxs("div",{onClick:_=>_.stopPropagation(),className:go["my-panel"],children:[C.jsxs("div",{className:go["my-panel__user-wrapper"],children:[C.jsx(l$,{uid:r,userAvatar:i}),C.jsx("span",{className:go["my-panel__user-name"],children:s})]}),C.jsx(Zg,{Svg:xA,onBtnClick:()=>h(!0),text:"Изменить имя"}),C.jsx(Zg,{Svg:pz,onBtnClick:()=>{},text:"Новая группа"}),C.jsx(Zg,{Svg:AA,onBtnClick:y,text:"Выйти"}),a&&C.jsx(Nd,{transitionDuration:p,toggleModal:()=>h(!1,p),divIdFromIndexHtml:"modal-backdrop",children:C.jsx(c$,{isMobileScreen:t,inputPlaceholder:"Имя",title:"Изменить имя",actionBtnText:"Сохранить",action:m,avatar:i,widthStyle:"300px",inputValue:l,setInputValue:u,validateInput:g})})]})})}),document.getElementById("my-panel"))},d$="_btn_9zixc_1",f$="_btn__svg_9zixc_14",DC={btn:d$,btn__svg:f$},h$=({isMobileScreen:t})=>{const[e,n]=x.useState(!1),{toggleBodyLock:i}=Im(),r=()=>{n(s=>!s),i()};return C.jsxs("div",{onClick:r,className:DC.btn,children:[C.jsx(xA,{className:DC.btn__svg}),C.jsx(u$,{isMobileScreen:t,isPanelOpen:e,setIsPanelOpen:n})]})},s_={"chats-top-section":"_chats-top-section_37407_1","chats-top-section__content":"_chats-top-section__content_37407_16","chats-top-section__title":"_chats-top-section__title_37407_21"},kC=({isMobileScreen:t})=>{const{avatar:e}=Ji(),n=t?"section":"div";return C.jsx(n,{className:s_["chats-top-section"],children:C.jsx("div",{className:"container",children:C.jsxs("div",{className:s_["chats-top-section__content"],children:[C.jsx(na,{AvatarImg:e}),C.jsx("h1",{className:s_["chats-top-section__title"],children:"Online Chat"}),C.jsx(h$,{isMobileScreen:t})]})})})},p$="_rotate_19rcq_1",Qr={"chats-list":"_chats-list_19rcq_11","chats-list--relative":"_chats-list--relative_19rcq_15","chats-list__search-wrapper":"_chats-list__search-wrapper_19rcq_35","chats-list__circular-progressbar":"_chats-list__circular-progressbar_19rcq_38",rotate:p$,"chats-list__circular-progressbar-wrapper":"_chats-list__circular-progressbar-wrapper_19rcq_41","chats-list__content":"_chats-list__content_19rcq_61","chats-list__chats-wrapper":"_chats-list__chats-wrapper_19rcq_67","chats-list__chats-wrapper--is-searching":"_chats-list__chats-wrapper--is-searching_19rcq_70","fade-in":"_fade-in_19rcq_1"},dR=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5C7.46774 5 4 8.24148 4 12C4 15.7585 7.46774 19 12 19C12.6209 19 13.224 18.9381 13.8023 18.8215C13.9231 18.7971 14.0473 18.7953 14.1687 18.8161L19.4315 19.717L18.3869 17.0167C18.258 16.6833 18.3168 16.3064 18.5412 16.0282C19.4673 14.8799 20 13.4904 20 12C20 8.24148 16.5323 5 12 5ZM2 12C2 6.92196 6.59113 3 12 3C17.4089 3 22 6.92196 22 12C22 13.7774 21.4276 15.4282 20.4527 16.8133L21.9327 20.6392C22.0625 20.9749 22.0019 21.3545 21.774 21.6332C21.5461 21.9118 21.1861 22.0464 20.8313 21.9857L14.0104 20.8181C13.3601 20.9375 12.6877 21 12 21C6.59113 21 2 17.078 2 12Z",fill:"black"})),af={"empty-wrapper":"_empty-wrapper_1vovt_1","empty-wrapper__link":"_empty-wrapper__link_1vovt_8","empty-wrapper__icon-wrapper":"_empty-wrapper__icon-wrapper_1vovt_18","empty-wrapper__svg":"_empty-wrapper__svg_1vovt_24","empty-wrapper__text":"_empty-wrapper__text_1vovt_27"},LC=({text:t})=>C.jsx("div",{className:af["empty-wrapper"],children:C.jsxs("div",{className:af["empty-wrapper__icon-wrapper"],children:[C.jsx(dR,{width:136,height:136,viewBox:"0 0 24 24",className:af["empty-wrapper__svg"]}),C.jsx("span",{className:af["empty-wrapper__text"],children:t})]})}),m$=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11ZM12 9C13.1046 9 14 8.10457 14 7C14 5.89543 13.1046 5 12 5C10.8954 5 10 5.89543 10 7C10 8.10457 10.8954 9 12 9Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C6.4686 12 4 15.6324 4 18C4 18.5523 3.55228 19 3 19C2.44771 19 2 18.5523 2 18C2 14.3676 5.5314 10 12 10C13.9955 10 15.7139 10.4121 17.1402 11.0991C17.6378 11.3387 17.8469 11.9363 17.6072 12.4339C17.3676 12.9315 16.7699 13.1406 16.2724 12.9009C15.1351 12.3532 13.716 12 12 12Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.8282 15.5858L20.414 14.1716L18.9998 15.5858L17.5856 14.1716L16.1714 15.5858L17.5856 17L16.1714 18.4142L17.5856 19.8284L18.9998 18.4142L20.414 19.8284L21.8282 18.4142L20.414 17L21.8282 15.5858Z",fill:"black"})),cb=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2C8.44771 2 8 2.44771 8 3V4H5C4.44771 4 4 4.44772 4 5C4 5.55228 4.44771 6 5 6H19C19.5523 6 20 5.55228 20 5C20 4.44772 19.5523 4 19 4H16V3C16 2.44771 15.5523 2 15 2H9ZM7 8C7 7.44772 6.55228 7 6 7C5.44772 7 5 7.44772 5 8V19C5 20.6569 6.34315 22 8 22H16C17.6569 22 19 20.6569 19 19V8C19 7.44772 18.5523 7 18 7C17.4477 7 17 7.44772 17 8V19C17 19.5523 16.5523 20 16 20H8C7.44772 20 7 19.5523 7 19V8ZM10 8C10.5523 8 11 8.44771 11 9V17C11 17.5523 10.5523 18 10 18C9.44771 18 9 17.5523 9 17V9C9 8.44771 9.44771 8 10 8ZM15 9C15 8.44771 14.5523 8 14 8C13.4477 8 13 8.44771 13 9V17C13 17.5523 13.4477 18 14 18C14.5523 18 15 17.5523 15 17V9Z",fill:"black"})),g$=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11ZM12 9C13.1046 9 14 8.10457 14 7C14 5.89543 13.1046 5 12 5C10.8954 5 10 5.89543 10 7C10 8.10457 10.8954 9 12 9Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C6.4686 12 4 15.6324 4 18C4 18.5523 3.55229 19 3 19C2.44772 19 2 18.5523 2 18C2 14.3676 5.5314 10 12 10C13.9955 10 15.7139 10.4121 17.1402 11.0991C17.6378 11.3387 17.8469 11.9363 17.6072 12.4339C17.3676 12.9315 16.7699 13.1406 16.2724 12.9009C15.1351 12.3532 13.716 12 12 12Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 16V18H16V16H22Z",fill:"black"})),_$="_active_n0jrn_34",gt={"chat-span":"_chat-span_n0jrn_11","fade-in":"_fade-in_n0jrn_1","chat-item":"_chat-item_n0jrn_24",active:_$,"chat-item__background":"_chat-item__background_n0jrn_37","chat-item__background-btn":"_chat-item__background-btn_n0jrn_46","chat-item__black-icon":"_chat-item__black-icon_n0jrn_53","chat-item__red-icon":"_chat-item__red-icon_n0jrn_61","chat-item__foreground":"_chat-item__foreground_n0jrn_69","chat-item__foreground--active":"_chat-item__foreground--active_n0jrn_91","chat-item__foreground--active-group":"_chat-item__foreground--active-group_n0jrn_97","chat-item__foreground--hover":"_chat-item__foreground--hover_n0jrn_103","chat-item__left-wrapper":"_chat-item__left-wrapper_n0jrn_106","chat-item__user-avatar":"_chat-item__user-avatar_n0jrn_114","chat-item__user-details-wrapper":"_chat-item__user-details-wrapper_n0jrn_124","chat-item__user-name":"_chat-item__user-name_n0jrn_131","chat-item__user-message":"_chat-item__user-message_n0jrn_142","chat-item__right-wrapper":"_chat-item__right-wrapper_n0jrn_153","chat-item__counter-wrapper":"_chat-item__counter-wrapper_n0jrn_160","chat-item__counter":"_chat-item__counter_n0jrn_160","chat-item__overlay":"_chat-item__overlay_n0jrn_177"},v$=t=>x.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.53296 7.52864C1.79404 7.26829 2.21732 7.26829 2.4784 7.52864L5.15249 10.1953C5.41357 10.4557 5.41357 10.8778 5.15249 11.1381C4.89142 11.3985 4.46813 11.3985 4.20706 11.1381L1.53296 8.47145C1.27189 8.2111 1.27189 7.78899 1.53296 7.52864Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.21241 8.19526C6.47348 7.93491 6.89677 7.93491 7.15784 8.19526L9.16341 10.1953C9.42448 10.4556 9.42448 10.8777 9.16341 11.1381C8.90234 11.3984 8.47905 11.3984 8.21798 11.1381L6.21241 9.13807C5.95133 8.87772 5.95133 8.45561 6.21241 8.19526Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5007 4.86189C10.7617 5.12224 10.7617 5.54435 10.5007 5.8047L5.15247 11.138C4.8914 11.3984 4.46811 11.3984 4.20704 11.138C3.94596 10.8777 3.94596 10.4556 4.20704 10.1952L9.55522 4.86189C9.8163 4.60154 10.2396 4.60154 10.5007 4.86189Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5116 4.86189C14.7727 5.12224 14.7727 5.54435 14.5116 5.8047L9.16346 11.138C8.90238 11.3984 8.4791 11.3984 8.21802 11.138C7.95695 10.8777 7.95695 10.4556 8.21802 10.1952L13.5662 4.86189C13.8273 4.60154 14.2506 4.60154 14.5116 4.86189Z",fill:"black"})),y$=t=>x.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.52851 7.52864C3.78886 7.26829 4.21097 7.26829 4.47132 7.52864L7.13799 10.1953C7.39834 10.4557 7.39834 10.8778 7.13799 11.1381C6.87764 11.3985 6.45553 11.3985 6.19518 11.1381L3.52851 8.47145C3.26816 8.2111 3.26816 7.78899 3.52851 7.52864Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4714 4.86189C12.7318 5.12224 12.7318 5.54435 12.4714 5.8047L7.13807 11.138C6.87772 11.3984 6.45561 11.3984 6.19526 11.138C5.93491 10.8777 5.93491 10.4556 6.19526 10.1952L11.5286 4.86189C11.7889 4.60154 12.2111 4.60154 12.4714 4.86189Z",fill:"black"})),fR=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22ZM11 15V17H13V15H11ZM11 13V7H13V13H11Z",fill:"black"})),b$=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12Z",fill:"black"}),x.createElement("path",{d:"M13 7C13 6.44772 12.5523 6 12 6V6V6C11.4477 6 11 6.44772 11 7V13H13V7Z",fill:"black"}),x.createElement("path",{d:"M14.4902 16.5C14.8807 16.8905 15.5139 16.8905 15.9044 16.5V16.5V16.5C16.2949 16.1095 16.2949 15.4763 15.9044 15.0858L12.4148 11.596L11.0005 13.0103L14.4902 16.5Z",fill:"black"})),wi={"checked-and-time-statuses":"_checked-and-time-statuses_dusi2_1","checked-and-time-statuses__checked-icon":"_checked-and-time-statuses__checked-icon_dusi2_8","checked-and-time-statuses__checked-icon--image":"_checked-and-time-statuses__checked-icon--image_dusi2_15","checked-and-time-statuses__unchecked-icon":"_checked-and-time-statuses__unchecked-icon_dusi2_18","checked-and-time-statuses__unchecked-icon--image":"_checked-and-time-statuses__unchecked-icon--image_dusi2_25","checked-and-time-statuses__error-icon":"_checked-and-time-statuses__error-icon_dusi2_28","checked-and-time-statuses__loading-icon":"_checked-and-time-statuses__loading-icon_dusi2_37","checked-and-time-statuses__loading-icon--image":"_checked-and-time-statuses__loading-icon--image_dusi2_46","checked-and-time-statuses__timestamp":"_checked-and-time-statuses__timestamp_dusi2_49","checked-and-time-statuses__timestamp--image":"_checked-and-time-statuses__timestamp--image_dusi2_57"},lp=({time:t,isChecked:e,isForImage:n,isOwn:i,isCanceled:r,isLoading:s})=>{const a=new Date(t),o=`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`;return C.jsxs("div",{className:wi["checked-and-time-statuses"],onContextMenu:l=>{l.preventDefault()},children:[!r&&s!==!0&&e===!0&&i&&C.jsx(v$,{className:`${wi["checked-and-time-statuses__checked-icon"]} ${n?wi["checked-and-time-statuses__checked-mark--image"]:""}`}),!r&&s!==!0&&e===!1&&i&&C.jsx(y$,{className:`${wi["checked-and-time-statuses__unchecked-icon"]} ${n?wi["checked-and-time-statuses__unchecked-mark--image"]:""}`}),r&&C.jsx(fR,{className:wi["checked-and-time-statuses__error-icon"]}),!r&&s===!0&&C.jsx(b$,{className:`${wi["checked-and-time-statuses__loading-icon"]} ${n?wi["checked-and-time-statuses__loading-icon--image"]:""}`}),C.jsx("span",{className:`${wi["checked-and-time-statuses__timestamp"]} ${n?wi["checked-and-time-statuses__timestamp--image"]:""}`,children:o})]})},ca={"modal-action-confirm":"_modal-action-confirm_jk4nt_11","modal-action-confirm__info-wrapper":"_modal-action-confirm__info-wrapper_jk4nt_21","modal-action-confirm__avatar":"_modal-action-confirm__avatar_jk4nt_26","modal-action-confirm__title":"_modal-action-confirm__title_jk4nt_32","modal-action-confirm__subtitle":"_modal-action-confirm__subtitle_jk4nt_38","modal-action-confirm__buttons-wrapper":"_modal-action-confirm__buttons-wrapper_jk4nt_44","modal-action-confirm__action-btn":"_modal-action-confirm__action-btn_jk4nt_49","modal-action-confirm__cancel-btn":"_modal-action-confirm__cancel-btn_jk4nt_74","fade-in":"_fade-in_jk4nt_1"},ub=({title:t,subtitle:e,actionBtnText:n,avatar:i,isMobileScreen:r,action:s,closeModal:a})=>C.jsxs("div",{className:ca["modal-action-confirm"],onClick:o=>o.stopPropagation(),onContextMenu:o=>{r&&o.preventDefault()},children:[(i!==void 0||t!==void 0)&&C.jsxs("div",{className:ca["modal-action-confirm__info-wrapper"],children:[i!==void 0&&C.jsx(na,{isLittle:!0,AvatarImg:i}),t!==void 0&&C.jsx("span",{className:ca["modal-action-confirm__title"],children:t})]}),C.jsx("span",{className:ca["modal-action-confirm__subtitle"],children:e}),C.jsxs("div",{className:ca["modal-action-confirm__buttons-wrapper"],children:[C.jsx("button",{className:ca["modal-action-confirm__action-btn"],onClick:()=>{s(),a()},children:n}),C.jsx("button",{className:ca["modal-action-confirm__cancel-btn"],onClick:a,children:"Отмена"})]})]}),w$={activeChatId:null,activeChatname:null,activeChatAvatar:null,activeChatBlocked:null,activeChatMembers:null,activeChatIsGroup:null,activeChatGroupAdminUrl:null},db=Ad({name:"activeChat",initialState:w$,selectors:{selectActiveChat:t=>t},reducers:{setActiveChatId(t,e){t.activeChatId=e.payload.activeChatId},setActiveChat(t,e){t.activeChatId=e.payload.activeChatId,t.activeChatname=e.payload.activeChatname,t.activeChatAvatar=e.payload.activeChatAvatar,t.activeChatIsGroup=e.payload.activeChatIsGroup,t.activeChatBlocked=e.payload.activeChatBlocked,t.activeChatMembers=e.payload.activeChatMembers,t.activeChatGroupAdminUrl=e.payload.activeChatGroupAdminUrl},setActiveChatnameAndAvatar(t,e){e.payload.activeChatname!==void 0&&(t.activeChatname=e.payload.activeChatname),e.payload.activeChatAvatar!==void 0&&(t.activeChatAvatar=e.payload.activeChatAvatar)},setActiveChatBlocked(t,e){t.activeChatBlocked=e.payload.activeChatBlocked},setActiveChatMembers(t,e){t.activeChatMembers=e.payload.activeChatMembers},removeActiveChat(t){t.activeChatId=null,t.activeChatname=null,t.activeChatAvatar=null,t.activeChatBlocked=null,t.activeChatMembers=null,t.activeChatIsGroup=null,t.activeChatGroupAdminUrl=null}}}),{setActiveChatId:E$,removeActiveChat:hR,setActiveChatnameAndAvatar:C$,setActiveChatBlocked:S$,setActiveChatMembers:T$,setActiveChat:pR}=db.actions,{selectActiveChat:x$}=db.selectors,A$=db.reducer,Ql=()=>{const{activeChatId:t,activeChatAvatar:e,activeChatBlocked:n,activeChatname:i,activeChatMembers:r,activeChatIsGroup:s,activeChatGroupAdminUrl:a}=_d(x$);return{activeChatId:t,activeChatAvatar:e,activeChatBlocked:n,activeChatname:i,activeChatMembers:r,activeChatIsGroup:s,activeChatGroupAdminUrl:a}},mR=({isMobileScreen:t,chatsListRef:e,chatItemData:n,chatAvatar:i,chatname:r,uncheckedCount:s,uid:a})=>{var k;const[o,l]=x.useState(!1),{toggleModal:u}=Od({setCbState:l}),[c,d]=x.useState(!1),[f,h]=x.useState(!1),p=x.useRef(null),v=x.useRef(null),y=x.useRef(null),m=kl(),g=Ln(),{blocked:_}=Ji(),{activeChatAvatar:b,activeChatname:A,activeChatId:E}=Ql(),M=500,w=100,S=((k=n.membersDetails.find(N=>N.uid!==a))==null?void 0:k.uid)||null,T={delete:{title:"Удалить чат",subtitle:"Вы точно хотите удалить чат без возможности восстановления?",actionBtnText:"Удалить",action:async()=>{if(S===null||_===null)throw new Error("Ошибка удаления чата");d(!1);try{const N={[`userChats/${a}/chats/${n.chatId}`]:null,[`userChats/${S}/chats/${n.chatId}`]:null,[`chats/${n.chatId}`]:null};await mt(fe(he),N)}catch(N){console.error("Ошибка удаления чата",N)}}},ban:{title:"Подтверждение",subtitle:S!==null&&_!==null&&_.includes(S)?"Разрешить пользователю писать Вам сообщения?":"Запретить пользователю писать Вам сообщения",actionBtnText:S!==null&&_!==null&&_.includes(S)?"Разблокировать":"Заблокировать",action:async()=>{if(S===null||_===null){console.error("Ошибка блокировки пользователя");return}d(!1);const N=fe(he,`users/${a}/blocked`);try{_.includes(S)?await Wv(N,_.filter(L=>L!==S)):await Wv(N,[..._,S])}catch(L){console.error("Ошибка блокировки пользователя",L)}}},leave:{title:"Покинуть чат",subtitle:"Вы точно хотите покинуть чат?",actionBtnText:"Покинуть",action:async()=>{d(!1);try{const N=Object.keys(n.membersIds).reduce((R,O)=>(O!==a&&(R[`userChats/${O}/chats/${n.chatId}/membersIds/${a}`]=null),R),{}),L={[`userChats/${a}/chats/${n.chatId}`]:null,...N};console.log(L)}catch(N){console.error("Ошибка покидания чата",N)}}}};x.useEffect(()=>{if(n.chatId===E){const N={};i!==b&&(N.activeChatAvatar=i),r!==A&&(N.activeChatname=r),Object.keys(N).length>0&&g(C$(N))}},[i,r]),x.useEffect(()=>{const N=O=>{O.cancelable&&O.preventDefault()},L=v==null?void 0:v.current,R=e==null?void 0:e.current;return c&&L&&(t&&R?R.style.overflow="hidden":(L.addEventListener("wheel",N,{passive:!1}),L.addEventListener("touchmove",N,{passive:!1}))),!c&&L&&(t&&R?R.style.overflow="":(L.removeEventListener("wheel",N),L.removeEventListener("touchmove",N))),()=>{L&&(t&&R?R.style.overflow="":(L.removeEventListener("wheel",N),L.removeEventListener("touchmove",N)))}},[c]),x.useEffect(()=>(t&&c&&p.current&&(p.current=null),()=>{t&&c&&p.current&&(p.current=null)}),[c]),x.useEffect(()=>{if(!f)return;const N=setTimeout(()=>{h(!1)},200);return()=>clearTimeout(N)},[f]);const D=N=>{if(y.current!==null){const L=N.touches[0].clientY;Math.abs(L-y.current)>0&&(p.current&&(clearTimeout(p.current),p.current=null),y.current=null)}},I=()=>{d(!1),E!==n.chatId&&g(pR({activeChatId:n.chatId,activeChatname:r,activeChatAvatar:i,activeChatBlocked:[],activeChatIsGroup:n.isGroup,activeChatMembers:n.membersDetails,activeChatGroupAdminUrl:n.groupAdminUid})),m("/chats/chat")};return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:`${gt["chat-item"]} ${c?gt.active:""}`,onContextMenu:N=>{t||(N.preventDefault(),d(L=>!L))},ref:v,children:[C.jsxs("div",{className:gt["chat-item__background"],onContextMenu:N=>{t&&N.preventDefault()},children:[n.isGroup===!1&&C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:()=>u("ban"),onContextMenu:N=>{t&&N.preventDefault()},className:gt["chat-item__background-btn"],children:C.jsx(m$,{className:gt["chat-item__black-icon"]})}),C.jsx("button",{onClick:()=>u("delete"),onContextMenu:N=>{t&&N.preventDefault()},className:gt["chat-item__background-btn"],children:C.jsx(cb,{className:gt["chat-item__red-icon"]})})]}),n.isGroup===!0&&C.jsx("button",{onClick:()=>u("leave"),onContextMenu:N=>{t&&N.preventDefault()},className:gt["chat-item__background-btn"],children:C.jsx(g$,{className:gt["chat-item__black-icon"]})})]}),C.jsxs("div",{onContextMenu:N=>{t&&N.preventDefault()},onTouchStart:N=>{t&&!c&&(f||h(!0),y.current=N.touches[0].clientY,p.current=setTimeout(()=>{d(!0)},M))},onTouchEnd:()=>{t&&(p.current&&(clearTimeout(p.current),p.current=null),y.current=null)},onClick:I,onTouchMove:D,className:`${gt["chat-item__foreground"]} ${c?n.isGroup===!1?gt["chat-item__foreground--active"]:gt["chat-item__foreground--active-group"]:""}  ${f&&t?gt["chat-item__foreground--hover"]:""}`,children:[C.jsxs("div",{className:gt["chat-item__left-wrapper"],children:[C.jsx(na,{AvatarImg:i}),C.jsxs("div",{className:gt["chat-item__user-details-wrapper"],children:[C.jsx(qu,{width:"40%",borderRadius:2,height:17,highlightColor:"var(--base-white-snow)",baseColor:"var(--base-grey-gainsboro)",children:C.jsxs("span",{className:gt["chat-item__user-name"],children:[r!==null&&r.length>0&&r,r!==null&&r.length===0&&C.jsx(Vu,{})]})}),C.jsx("span",{className:gt["chat-item__user-message"],children:C.jsxs(qu,{width:"100%",borderRadius:2,height:14,highlightColor:"var(--base-white-snow)",baseColor:"var(--base-grey-gainsboro)",children:[r!==null&&r.length>0&&n.lastMessageText.length!==0&&n.lastMessageText,r!==null&&r.length>0&&n.lastMessageText.length===0&&"Контент",r!==null&&r.length===0&&C.jsx(Vu,{})]})})]})]}),C.jsxs("div",{className:gt["chat-item__right-wrapper"],children:[s>0&&C.jsx("div",{className:gt["chat-item__counter-wrapper"],children:C.jsx("span",{className:gt["chat-item__counter"],children:s})}),C.jsx(lp,{isChecked:n.lastMessageIsChecked,time:n.lastMessageDateUTC,isOwn:n.lastMessageSenderUid===a,isLoading:!1,isCanceled:!1})]})]})]}),c&&C.jsx("div",{onContextMenu:N=>{N.preventDefault(),t&&f&&h(!1),d(L=>!L)},onClick:()=>{t&&f&&h(!1),d(N=>!N)},className:gt["chat-item__overlay"]}),o&&C.jsx(Nd,{transitionDuration:w,toggleModal:()=>u(!1,w),divIdFromIndexHtml:"modal-backdrop",children:C.jsx(ub,{isMobileScreen:t,title:T[o].title,subtitle:T[o].subtitle,actionBtnText:T[o].actionBtnText,action:T[o].action,avatar:i})})]})},R$="_wrapper_1ucdn_1",of={wrapper:R$,"icon-wrapper":"_icon-wrapper_1ucdn_9","icon-wrapper__svg":"_icon-wrapper__svg_1ucdn_15","icon-wrapper__text":"_icon-wrapper__text_1ucdn_18"},O$=()=>C.jsx("div",{className:of.wrapper,children:C.jsxs("div",{className:of["icon-wrapper"],children:[C.jsx(dR,{width:136,height:136,viewBox:"0 0 24 24",className:of["icon-wrapper__svg"]}),C.jsx("span",{className:of["icon-wrapper__text"],children:"Ошибка загрузки!"})]})}),N$=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.1216 8.46446C14.5121 8.07394 15.1453 8.07394 15.5358 8.46446C15.9264 8.85499 15.9264 9.48815 15.5358 9.87868L13.4145 12L15.5358 14.1213C15.9264 14.5118 15.9264 15.145 15.5358 15.5355C15.1453 15.9261 14.5121 15.9261 14.1216 15.5355L12.0003 13.4142L9.87898 15.5355C9.48846 15.9261 8.85529 15.9261 8.46477 15.5355C8.07424 15.145 8.07424 14.5118 8.46477 14.1213L10.5861 12L8.46477 9.87868C8.07424 9.48815 8.07424 8.85499 8.46477 8.46446C8.85529 8.07394 9.48846 8.07394 9.87898 8.46446L12.0003 10.5858L14.1216 8.46446Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12Z",fill:"black"})),M$=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 2C15.968 2 20 6.032 20 11C20 15.968 15.968 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2ZM11 18C14.867 18 18 14.867 18 11C18 7.132 14.867 4 11 4C7.132 4 4 7.132 4 11C4 14.867 7.132 18 11 18ZM22.314 20.899L19.485 18.071L18.071 19.485L20.899 22.314L22.314 20.899Z",fill:"black"})),I$="_search_79irv_11",D$="_rotate_79irv_1",k$="_search__input_79irv_53",ua={search:I$,"fade-in":"_fade-in_79irv_1","search__search-svg":"_search__search-svg_79irv_22","search__circular-progressbar":"_search__circular-progressbar_79irv_32",rotate:D$,"search__circular-progressbar-wrapper":"_search__circular-progressbar-wrapper_79irv_35",search__input:k$,"search__clear-btn":"_search__clear-btn_79irv_70","search__delete-svg":"_search__delete-svg_79irv_74"},L$=async t=>{const e=fe(he,"users/"),n=va(e,Wh("usernameNormalized"),L5(t),YU(t+""),U5(10)),i=await _n(n);if(i.exists()){const r=i.val();return Object.values(r).filter(o=>o.usernameNormalized.includes(t))}},U$=({setSearchedGlobalChats:t,setSearchedChats:e,setIsSearching:n,setIsLoading:i,isSearching:r,isLoading:s,chatsWithDetails:a})=>{const{uid:o}=Ji(),[l,u]=x.useState(""),c=x.useDeferredValue(l),d=x.useRef(null),f=()=>{u("")},h=()=>{d.current&&d.current.focus()};return x.useEffect(()=>{if(c.length>0){n(!0),i(!0),t([]);const v=a.filter(y=>{if(y.isGroup===!1){const m=y.membersDetails.find(_=>_.uid!==o);return fs(m.username).includes(fs(c))}else return fs(y.groupChatname).includes(fs(c))});e(v)}let p=null;return p=setTimeout(async()=>{if(c.length>0)try{const v=await L$(fs(c)),y=Array.from(new Set(a.filter(g=>g.isGroup===!1).flatMap(g=>g.membersDetails.map(_=>_.uid)))),m=v!==void 0?v.filter(g=>g.uid!==o&&!y.includes(g.uid)):[];i(!1),t(m)}catch{i(!1),t([])}},1e3),c.length===0&&(r!==!1&&n(!1),s!==!1&&i(!1),e([]),t([])),()=>{p&&clearTimeout(p)}},[c,a.length]),C.jsxs("div",{onClick:h,className:ua.search,children:[!s&&C.jsx(M$,{className:`${ua["search__search-svg"]} ${s?ua["search__search-svg--loading"]:""}`}),s&&C.jsx("div",{className:ua["search__circular-progressbar-wrapper"],children:C.jsx(Xl,{className:ua["search__circular-progressbar"],value:Yy,styles:Kl({strokeLinecap:"round",pathTransitionDuration:.5,pathColor:"var(--base-accent-blue)",trailColor:"none"})})}),C.jsx("input",{ref:d,value:l,type:"text",autoComplete:"off",onChange:p=>u(p.target.value),placeholder:"Поиск",className:ua.search__input}),l.length>0&&C.jsx(N$,{onClick:f,role:"button",className:ua["search__delete-svg"]})]})},UC={"searched-global-chats-wrapper":"_searched-global-chats-wrapper_14cuf_10","searched-global-chats-wrapper__text":"_searched-global-chats-wrapper__text_14cuf_14","fade-in":"_fade-in_14cuf_1"},bo={"chat-span":"_chat-span_s4u23_11","fade-in":"_fade-in_s4u23_1","chat-item":"_chat-item_s4u23_24","chat-item--hover":"_chat-item--hover_s4u23_46","chat-item__wrapper":"_chat-item__wrapper_s4u23_49","chat-item__user-avatar":"_chat-item__user-avatar_s4u23_57","chat-item__user-details-wrapper":"_chat-item__user-details-wrapper_s4u23_67","chat-item__user-name":"_chat-item__user-name_s4u23_74","chat-item__user-message":"_chat-item__user-message_s4u23_85","chat-item__right-wrapper":"_chat-item__right-wrapper_s4u23_96","chat-item__counter-wrapper":"_chat-item__counter-wrapper_s4u23_103","chat-item__counter":"_chat-item__counter_s4u23_103","chat-item__overlay":"_chat-item__overlay_s4u23_119"},P$=({isMobileScreen:t,chatAvatar:e,chatname:n,userUid:i})=>{const[r,s]=x.useState(!1),a=kl(),o=Ln();x.useEffect(()=>{if(!r)return;const u=setTimeout(()=>{s(!1)},200);return()=>clearTimeout(u)},[r]);const l=()=>{o(hR()),a("/chats/chat",{state:{userUidFromGlobalSearch:i,chatAvatarFromGlobalSearch:e,chatnameFromGlobalSearch:n}})};return C.jsx(C.Fragment,{children:C.jsx("div",{onContextMenu:u=>{u.preventDefault()},onTouchStart:()=>{t&&(r||s(!0))},onClick:l,className:`${bo["chat-item"]} ${r&&t?bo["chat-item--hover"]:""}`,children:C.jsxs("div",{className:bo["chat-item__wrapper"],children:[C.jsx(na,{AvatarImg:e}),C.jsxs("div",{className:bo["chat-item__user-details-wrapper"],children:[C.jsx(qu,{width:"40%",borderRadius:2,height:17,highlightColor:"var(--base-white-snow)",baseColor:"var(--base-grey-gainsboro)",children:C.jsxs("span",{className:bo["chat-item__user-name"],children:[n!==null&&n.length>0&&n,n!==null&&n.length===0&&C.jsx(Vu,{})]})}),C.jsx("span",{className:bo["chat-item__user-message"],children:C.jsxs(qu,{width:"100%",borderRadius:2,height:14,highlightColor:"var(--base-white-snow)",baseColor:"var(--base-grey-gainsboro)",children:[n==null&&C.jsx(Vu,{}),n!==null&&n.length===0&&"Неизвестный пользователь",n!==null&&n.length>0&&"Новый чат"]})})]})]})})})},j$=({searchedGlobalChats:t,isMobileScreen:e})=>t==="error"?null:C.jsxs("div",{className:UC["searched-global-chats-wrapper"],children:[C.jsx("span",{className:UC["searched-global-chats-wrapper__text"],children:"Глобальный поиск"}),t.map((n,i)=>C.jsx(P$,{userUid:n.uid,isMobileScreen:e,chatname:n.username,chatAvatar:n.avatar},i))]}),PC={"searched-chats-wrapper":"_searched-chats-wrapper_1bjs6_10","searched-chats-wrapper__text":"_searched-chats-wrapper__text_1bjs6_14","fade-in":"_fade-in_1bjs6_1"},B$=({unreadCounts:t,searchedChats:e,chatsListRef:n,isMobileScreen:i,uid:r})=>C.jsxs("div",{className:PC["searched-chats-wrapper"],children:[C.jsx("span",{className:PC["searched-chats-wrapper__text"],children:"Чаты"}),e.map((s,a)=>{const o=s.isGroup===!1&&s.membersDetails.find(l=>l.uid!==r);return"chatId"in s?C.jsx(mR,{uncheckedCount:t[`${s.chatId}`],uid:r,chatItemData:s,chatsListRef:n,isMobileScreen:i,chatname:o===!1?s.groupChatname:o.username,chatAvatar:o===!1?s.groupAvatar:o==null?void 0:o.avatar},a):null})]}),jC=({isMobileScreen:t})=>{const{uid:e,avatar:n,username:i,blocked:r}=Ji(),[s,a]=x.useState([]),[o,l]=x.useState([]),[u,c]=x.useState({}),[d,f]=x.useState([]),[h,p]=x.useState([]),[v,y]=x.useState(!1),[m,g]=x.useState(!1),[_,b]=x.useState(!1),A=x.useRef(null),E=t?"section":"div";return x.useLayoutEffect(()=>{b(!0);const M=fe(he,`userChats/${e}`),w=Vi(M,S=>{const T=S.val();if(T)if("chats"in T){const D=Object.values(T.chats);a(D)}else b(!1)},S=>{b("error"),console.error("Error fetching username:",S)});return()=>{w()}},[]),x.useLayoutEffect(()=>{(async()=>{if(s.length>0)try{const w=new Set(o.map(I=>I.chatId)),S=s.filter(I=>"membersIds"in I),D=(await Promise.all(S.map(async I=>{if(w.has(I.chatId)){const L=o.find(R=>R.chatId===I.chatId);return{...I,membersDetails:L.membersDetails}}const N=(await Promise.all(Object.keys(I.membersIds).map(async L=>{if(L===e)return{uid:L,username:i,avatar:n,blocked:r};if(I.isGroup===!0)return null;try{const R=fe(he,`users/${L}`),O=await _n(R);if(O.exists()){const P=O.val();return{uid:L,username:P.username||al,avatar:P.avatar||Us,blocked:[]}}else return{uid:L,username:al,avatar:Us,blocked:[]}}catch(R){return console.error(`Ошибка при получении данных для пользователя ${L}:`,R),{uid:L,username:al,avatar:Us,blocked:[]}}}))).filter(L=>L!==null);return{...I,membersDetails:N}}))).sort((I,k)=>{const N=new Date(I.lastMessageDateUTC).getTime();return new Date(k.lastMessageDateUTC).getTime()-N});l(D),b(!1)}catch(w){b("error"),console.error("Error getting chats with details:",w)}})()},[s]),x.useEffect(()=>{if(e===null||s.length===0)return;const M=[];return s.forEach(w=>{const S=fe(he,`chats/${w.chatId}/unreadMessages/${e}`),T=Vi(S,D=>{const I=D.val()||{},k=Object.keys(I).length;c(N=>({...N,[w.chatId]:k}))});M.push(()=>WU(S,"value",T))}),()=>{M.forEach(w=>w())}},[e,s]),C.jsx(E,{ref:A,className:`${Qr["chats-list"]} ${_===!0?Qr["chats-list--relative"]:""}`,children:C.jsx("div",{className:"container container--height container--no-padding",children:C.jsxs("div",{className:Qr["chats-list__content"],children:[_===!0&&C.jsx("div",{className:Qr["chats-list__circular-progressbar-wrapper"],children:C.jsx(Xl,{className:Qr["chats-list__circular-progressbar"],value:Yy,styles:Kl({strokeLinecap:"round",pathTransitionDuration:.5,pathColor:"var(--base-accent-blue)",trailColor:"none"})})}),_==="error"&&C.jsx(O$,{}),_===!1&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:Qr["chats-list__search-wrapper"],children:C.jsx(U$,{isLoading:m,isSearching:v,setIsLoading:g,setIsSearching:y,setSearchedChats:p,setSearchedGlobalChats:f,chatsWithDetails:o})}),(o==null?void 0:o.length)===0&&v===!1&&C.jsx(LC,{text:"Начните общаться!"}),C.jsxs("div",{className:`${Qr["chats-list__chats-wrapper"]} ${v?Qr["chats-list__chats-wrapper--is-searching"]:""}`,children:[(o==null?void 0:o.length)!==0&&v===!1&&o.map((M,w)=>{const S=M.isGroup===!1?M.membersDetails.find(T=>T.uid!==e):null;return"chatId"in M?C.jsx(mR,{uid:e,uncheckedCount:u[`${M.chatId}`],chatItemData:M,chatsListRef:A,isMobileScreen:t,chatname:S===null?M.groupChatname:S.username,chatAvatar:S===null?M.groupAvatar:S.avatar},w):null}),v===!0&&h.length>0&&C.jsx(B$,{unreadCounts:u,uid:e,isMobileScreen:t,chatsListRef:A,searchedChats:h}),v===!0&&d.length>0&&C.jsx(j$,{isMobileScreen:t,searchedGlobalChats:d})]}),v===!0&&m===!1&&d.length===0&&h.length===0&&C.jsx(LC,{text:"Нет результатов"})]})]})})})},z$="_main_1ec2i_10",BC={main:z$,"chats-section":"_chats-section_1ec2i_23","fade-in":"_fade-in_1ec2i_1"},lf={"default-chats-section":"_default-chats-section_a9swq_1","default-chats-section__content":"_default-chats-section__content_a9swq_7","default-chats-section__title":"_default-chats-section__title_a9swq_13","default-chats-section__title-wrapper":"_default-chats-section__title-wrapper_a9swq_20"},H$=()=>C.jsx("section",{className:lf["default-chats-section"],children:C.jsx("div",{className:"container container--height container--max-width-unset ",children:C.jsx("div",{className:lf["default-chats-section__content"],children:C.jsx("div",{className:lf["default-chats-section__title-wrapper"],children:C.jsx("h1",{className:lf["default-chats-section__title"],children:"Выберите, кому хотите написать"})})})})}),$$={isMessagesSelecting:!1,isMessagesForwarding:!1,selectedMessages:[],selectedChatId:null,selectedChatMembers:null},fb=Ad({name:"selectedMessages",initialState:$$,selectors:{selectMessages:t=>t},reducers:{addSelectedMessage(t,e){t.isMessagesSelecting=!0,t.selectedChatId=e.payload.selectedChatId,t.selectedChatMembers=e.payload.selectedChatMembers,t.selectedMessages=[...t.selectedMessages,e.payload.selectedMessage].sort((n,i)=>{const r=typeof n.messageDateUTC=="number"?n.messageDateUTC:Number(n.messageDateUTC),s=typeof i.messageDateUTC=="number"?i.messageDateUTC:Number(i.messageDateUTC);return isNaN(r)||isNaN(s)?(console.warn("Некорректные данные messageDateUTC:",{a:n,b:i}),0):r-s})},removeSelectedMessage(t,e){const n=t.selectedMessages.filter(i=>i.messageId!==e.payload.selectedMessage.messageId).sort((i,r)=>{const s=typeof i.messageDateUTC=="number"?i.messageDateUTC:Number(i.messageDateUTC),a=typeof r.messageDateUTC=="number"?r.messageDateUTC:Number(r.messageDateUTC);return isNaN(s)||isNaN(a)?(console.warn("Некорректные данные messageDateUTC:",{a:i,b:r}),0):s-a});t.selectedMessages=n,n.length===0&&(t.isMessagesSelecting=!1,t.selectedChatId=null,t.selectedChatMembers=null)},clearSelectedMessagesState(t){t.isMessagesSelecting=!1,t.selectedChatId=null,t.selectedChatMembers=null,t.selectedMessages=[],t.isMessagesForwarding=!1},setIsMessagesForwarding(t,e){t.isMessagesForwarding=e.payload.isMessagesForwarding},setIsMessagesSelecting(t,e){t.isMessagesSelecting=e.payload.isMessagesSelecting}}}),{addSelectedMessage:gR,removeSelectedMessage:F$,clearSelectedMessagesState:xa,setIsMessagesForwarding:_R,setIsMessagesSelecting:V$}=fb.actions,{selectMessages:q$}=fb.selectors,G$=fb.reducer,Lm=()=>{const{isMessagesSelecting:t,selectedMessages:e,selectedChatId:n,selectedChatMembers:i,isMessagesForwarding:r}=_d(q$);return{isMessagesSelecting:t,selectedMessages:e,selectedChatId:n,selectedChatMembers:i,isMessagesForwarding:r}},W$={messagesArray:[]},hb=Ad({name:"messagesArray",initialState:W$,selectors:{selectMessagesArray:t=>t},reducers:{addInitialMessagesArray(t,e){t.messagesArray=e.payload.map(n=>({...n,messageDateUTC:`${new Date(n.messageDateUTC)}`}))},addLoadingMessage(t,e){t.messagesArray=[...t.messagesArray,{...e.payload,messageDateUTC:`${new Date(e.payload.messageDateUTC)}`}]},addMessage(t,e){t.messagesArray=[...t.messagesArray,...e.payload.map(n=>({...n,messageDateUTC:`${new Date(n.messageDateUTC)}`}))]},addMessages(t,e){const n=new Map(t.messagesArray.map(r=>[r.messageId,r]));e.payload.forEach(r=>{if(n.has(r.messageId)){const s=n.get(r.messageId);n.set(r.messageId,{...s,...r,media:s.media,messageDateUTC:`${new Date(r.messageDateUTC)}`})}else n.set(r.messageId,{...r,messageDateUTC:`${new Date(r.messageDateUTC)}`})});const i=Array.from(n.values());t.messagesArray=i.sort((r,s)=>new Date(r.messageDateUTC).getTime()-new Date(s.messageDateUTC).getTime())},removeLoadingMessage(t,e){t.messagesArray=t.messagesArray.filter(n=>n!=e.payload)},updateProgressKeyInMessage(t,e){const n=t.messagesArray.find(i=>i.messageId===e.payload.messageId);if(n){if(e.payload.filePath==="media"){const i=n.media.find(r=>r.loadingId===e.payload.loadingId);i&&(i.progress=e.payload.progress)}if(e.payload.filePath==="files"){const i=n.files.find(r=>r.loadingId===e.payload.loadingId);i&&(i.progress=e.payload.progress)}}},updateProgressPreviewKeyInMessage(t,e){const n=t.messagesArray.find(i=>i.messageId===e.payload.messageId);if(n){const i=n.media.find(r=>r.loadingId===e.payload.loadingId);i&&"progressPreview"in i&&(i.progressPreview=e.payload.progress)}},updateIsCanceledKeyInMessage(t,e){const n=t.messagesArray.find(i=>i.messageId===e.payload.messageId);n&&n.isCanceled!==!0&&(n.isCanceled=!0)},clearMessages(t){t.messagesArray=[]}}}),{addLoadingMessage:zC,addMessage:Y$,addMessages:a_,removeLoadingMessage:OW,addInitialMessagesArray:NW,updateProgressKeyInMessage:X$,updateProgressPreviewKeyInMessage:K$,updateIsCanceledKeyInMessage:Q$,clearMessages:cp}=hb.actions,{selectMessagesArray:Z$}=hb.selectors,J$=hb.reducer,eF=({isMobileScreen:t})=>{const e=Qs(),n=Ln(),{isMessagesForwarding:i}=Lm(),r=e.pathname==="/chats/chat";return x.useEffect(()=>{e.pathname==="/chats"&&(n(hR()),n(cp()),i||n(xa()))},[e]),C.jsxs("main",{className:BC.main,children:[!t&&C.jsxs(C.Fragment,{children:[C.jsxs("section",{className:BC["chats-section"],children:[C.jsx(kC,{isMobileScreen:t}),C.jsx(jC,{isMobileScreen:t})]}),r&&C.jsx(MN,{}),!r&&C.jsx(H$,{})]}),t&&C.jsxs(C.Fragment,{children:[C.jsx(kC,{isMobileScreen:t}),C.jsx(jC,{isMobileScreen:t})]})]})},tF="_main_mtat8_1",nF={main:tF},HC={"chat-bottom-section":"_chat-bottom-section_1bn5c_1"},iF=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 12C22 6.48 17.52 2 12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12ZM8 11H12V8L16 12L12 16V13H8V11Z",fill:"black"})),rF="_active_zgfw2_60",Ei={"message-input-wrapper":"_message-input-wrapper_zgfw2_11","message-input-wrapper__textarea":"_message-input-wrapper__textarea_zgfw2_17","message-input-wrapper__btn":"_message-input-wrapper__btn_zgfw2_44","message-input-wrapper__arrow-icon":"_message-input-wrapper__arrow-icon_zgfw2_51",active:rF,"message-input-wrapper__sub-wrapper":"_message-input-wrapper__sub-wrapper_zgfw2_69","message-input-wrapper__blocked-text":"_message-input-wrapper__blocked-text_zgfw2_77","message-input-wrapper__error-icon":"_message-input-wrapper__error-icon_zgfw2_83","fade-in":"_fade-in_zgfw2_1"},sF="_active_1w9j9_29",Kt={"attach-menu":"_attach-menu_1w9j9_1","attach-menu__menu-wrapper":"_attach-menu__menu-wrapper_1w9j9_4","attach-menu__menu-wrapper--bottom":"_attach-menu__menu-wrapper--bottom_1w9j9_12","attach-menu__menu":"_attach-menu__menu_1w9j9_4",active:sF,"attach-menu__btn":"_attach-menu__btn_1w9j9_34","attach-menu__btn-icon":"_attach-menu__btn-icon_1w9j9_44","attach-menu__btn-text":"_attach-menu__btn-text_1w9j9_50","attach-backdrop":"_attach-backdrop_1w9j9_66","attach-btn":"_attach-btn_1w9j9_7","attach-btn__icon":"_attach-btn__icon_1w9j9_84"},aF=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.99999 4C3.34314 4 2 5.10645 2 7V16.5714C2 18.465 3.34314 20 4.99999 20H19C20.6535 20 21.9946 18.4711 21.9999 16.5828C22 16.5754 22 16.568 22 16.5607V7.42857C22 5.53502 20.6568 4 19 4H4.99999ZM20 13.4147V7C20 6.36882 19.5522 6 19 6H5C4.44772 6 4 6.36882 4 7V14.9552L7.2929 11.1918C7.64479 10.7897 8.20188 10.7444 8.6 11.0857L11.8246 13.8496L15.2191 9.00032C15.4067 8.73234 15.6897 8.57488 15.99 8.57145C16.2903 8.56802 16.576 8.71898 16.7682 8.98261L20 13.4147ZM4.50006 17.5614C4.5 17.7 4.81788 18 5 18H19C19.4459 18 19.871 17.4606 20 17L16.0158 11.5211L12.7809 16.1425C12.4434 16.6245 11.8321 16.7132 11.4 16.3428L8.09384 13.509L4.70712 17.3795C4.64379 17.4519 4.57408 17.5125 4.50006 17.5614Z",fill:"black"})),vR=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 5.77778H12.414L10.414 4H3C2.44771 4 2 4.39797 2 4.88889V19.1111C2 19.602 2.44771 20 3 20H21C21.5523 20 22 19.602 22 19.1111V6.66667C22 6.17575 21.5523 5.77778 21 5.77778ZM4.00012 18.2222V7.55554H20.0001V18.2222H4.00012Z",fill:"black"})),oF=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4682 2.8876C14.538 2.77464 15.6311 3.04951 16.4509 3.52278C17.2706 3.99604 18.0552 4.80529 18.4923 5.78827C18.9415 6.7985 19.0376 8.04234 18.348 9.23688L13.848 17.0311C13.6013 17.4584 13.1213 18.0101 12.4212 18.3254C11.6637 18.6666 10.725 18.6921 9.74989 18.1292C8.77482 17.5662 8.32757 16.7404 8.24429 15.9139C8.1673 15.1499 8.40514 14.4584 8.65181 14.0311L12.6518 7.1029C12.928 6.62461 13.5395 6.46073 14.0178 6.73688C14.4961 7.01302 14.66 7.62461 14.3839 8.1029L10.3839 15.0311C10.2972 15.1812 10.2083 15.4557 10.2342 15.7134C10.2539 15.9085 10.3393 16.1601 10.7499 16.3971C11.1605 16.6342 11.421 16.5824 11.5999 16.5018C11.836 16.3955 12.0293 16.1812 12.1159 16.0311L16.6159 8.23688C16.9263 7.69936 16.9064 7.14416 16.6648 6.60087C16.4111 6.03033 15.9302 5.53156 15.4509 5.25483C14.9715 4.97809 14.2991 4.81098 13.6782 4.87654C13.0869 4.93898 12.5961 5.19936 12.2858 5.73688L7.28579 14.3971C6.63146 15.5305 7.00005 17.6963 9.24989 18.9952C11.4997 20.2942 13.5597 19.5305 14.214 18.3971L17.714 12.335C17.9901 11.8567 18.6017 11.6928 19.08 11.9689C19.5583 12.2451 19.7222 12.8567 19.446 13.335L15.946 19.3971C14.6004 21.7279 11.1962 22.4283 8.24989 20.7273C5.30358 19.0262 4.20806 15.7279 5.55374 13.3971L10.5537 4.73688C11.2434 3.54234 12.3687 3.00369 13.4682 2.8876Z",fill:"black"}));function yR(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=yR(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function ws(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=yR(t))&&(i&&(i+=" "),i+=e);return i}const Yu=t=>typeof t=="number"&&!isNaN(t),La=t=>typeof t=="string",Rn=t=>typeof t=="function",Pf=t=>La(t)||Rn(t)?t:null,v1=t=>x.isValidElement(t)||La(t)||Rn(t)||Yu(t);function lF(t,e,n){n===void 0&&(n=300);const{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function Um(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:r=!0,collapseDuration:s=300}=t;return function(a){let{children:o,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:f,playToast:h}=a;const p=i?`${e}--${l}`:e,v=i?`${n}--${l}`:n,y=x.useRef(0);return x.useLayoutEffect(()=>{const m=d.current,g=p.split(" "),_=b=>{b.target===d.current&&(h(),m.removeEventListener("animationend",_),m.removeEventListener("animationcancel",_),y.current===0&&b.type!=="animationcancel"&&m.classList.remove(...g))};m.classList.add(...g),m.addEventListener("animationend",_),m.addEventListener("animationcancel",_)},[]),x.useEffect(()=>{const m=d.current,g=()=>{m.removeEventListener("animationend",g),r?lF(m,c,s):c()};f||(u?g():(y.current=1,m.className+=` ${v}`,m.addEventListener("animationend",g)))},[f]),ne.createElement(ne.Fragment,null,o)}}function $C(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const tn=new Map;let Xu=[];const y1=new Set,cF=t=>y1.forEach(e=>e(t)),bR=()=>tn.size>0;function wR(t,e){var n;if(e)return!((n=tn.get(e))==null||!n.isToastActive(t));let i=!1;return tn.forEach(r=>{r.isToastActive(t)&&(i=!0)}),i}function ER(t,e){v1(t)&&(bR()||Xu.push({content:t,options:e}),tn.forEach(n=>{n.buildToast(t,e)}))}function FC(t,e){tn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function uF(t){const{subscribe:e,getSnapshot:n,setProps:i}=x.useRef(function(s){const a=s.containerId||1;return{subscribe(o){const l=function(c,d,f){let h=1,p=0,v=[],y=[],m=[],g=d;const _=new Map,b=new Set,A=()=>{m=Array.from(_.values()),b.forEach(w=>w())},E=w=>{y=w==null?[]:y.filter(S=>S!==w),A()},M=w=>{const{toastId:S,onOpen:T,updateId:D,children:I}=w.props,k=D==null;w.staleId&&_.delete(w.staleId),_.set(S,w),y=[...y,w.props.toastId].filter(N=>N!==w.staleId),A(),f($C(w,k?"added":"updated")),k&&Rn(T)&&T(x.isValidElement(I)&&I.props)};return{id:c,props:g,observe:w=>(b.add(w),()=>b.delete(w)),toggle:(w,S)=>{_.forEach(T=>{S!=null&&S!==T.props.toastId||Rn(T.toggle)&&T.toggle(w)})},removeToast:E,toasts:_,clearQueue:()=>{p-=v.length,v=[]},buildToast:(w,S)=>{if((z=>{let{containerId:q,toastId:$,updateId:H}=z;const Z=q?q!==c:c!==1,ie=_.has($)&&H==null;return Z||ie})(S))return;const{toastId:T,updateId:D,data:I,staleId:k,delay:N}=S,L=()=>{E(T)},R=D==null;R&&p++;const O={...g,style:g.toastStyle,key:h++,...Object.fromEntries(Object.entries(S).filter(z=>{let[q,$]=z;return $!=null})),toastId:T,updateId:D,data:I,closeToast:L,isIn:!1,className:Pf(S.className||g.toastClassName),bodyClassName:Pf(S.bodyClassName||g.bodyClassName),progressClassName:Pf(S.progressClassName||g.progressClassName),autoClose:!S.isLoading&&(P=S.autoClose,U=g.autoClose,P===!1||Yu(P)&&P>0?P:U),deleteToast(){const z=_.get(T),{onClose:q,children:$}=z.props;Rn(q)&&q(x.isValidElement($)&&$.props),f($C(z,"removed")),_.delete(T),p--,p<0&&(p=0),v.length>0?M(v.shift()):A()}};var P,U;O.closeButton=g.closeButton,S.closeButton===!1||v1(S.closeButton)?O.closeButton=S.closeButton:S.closeButton===!0&&(O.closeButton=!v1(g.closeButton)||g.closeButton);let B=w;x.isValidElement(w)&&!La(w.type)?B=x.cloneElement(w,{closeToast:L,toastProps:O,data:I}):Rn(w)&&(B=w({closeToast:L,toastProps:O,data:I}));const V={content:B,props:O,staleId:k};g.limit&&g.limit>0&&p>g.limit&&R?v.push(V):Yu(N)?setTimeout(()=>{M(V)},N):M(V)},setProps(w){g=w},setToggle:(w,S)=>{_.get(w).toggle=S},isToastActive:w=>y.some(S=>S===w),getSnapshot:()=>m}}(a,s,cF);tn.set(a,l);const u=l.observe(o);return Xu.forEach(c=>ER(c.content,c.options)),Xu=[],()=>{u(),tn.delete(a)}},setProps(o){var l;(l=tn.get(a))==null||l.setProps(o)},getSnapshot(){var o;return(o=tn.get(a))==null?void 0:o.getSnapshot()}}}(t)).current;i(t);const r=x.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!r)return[];const a=new Map;return t.newestOnTop&&r.reverse(),r.forEach(o=>{const{position:l}=o.props;a.has(l)||a.set(l,[]),a.get(l).push(o)}),Array.from(a,o=>s(o[0],o[1]))},isToastActive:wR,count:r==null?void 0:r.length}}function dF(t){const[e,n]=x.useState(!1),[i,r]=x.useState(!1),s=x.useRef(null),a=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:d}=t;var f,h;function p(){n(!0)}function v(){n(!1)}function y(_){const b=s.current;a.canDrag&&b&&(a.didMove=!0,e&&v(),a.delta=t.draggableDirection==="x"?_.clientX-a.start:_.clientY-a.start,a.start!==_.clientX&&(a.canCloseOnClick=!1),b.style.transform=`translate3d(${t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,b.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function m(){document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",m);const _=s.current;if(a.canDrag&&a.didMove&&_){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return r(!0),t.closeToast(),void t.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(h=tn.get((f={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||h.setToggle(f.id,f.fn),x.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||v(),window.addEventListener("focus",p),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",v)}},[t.pauseOnFocusLoss]);const g={onPointerDown:function(_){if(t.draggable===!0||t.draggable===_.pointerType){a.didMove=!1,document.addEventListener("pointermove",y),document.addEventListener("pointerup",m);const b=s.current;a.canCloseOnClick=!0,a.canDrag=!0,b.style.transition="none",t.draggableDirection==="x"?(a.start=_.clientX,a.removalDistance=b.offsetWidth*(t.draggablePercent/100)):(a.start=_.clientY,a.removalDistance=b.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(_){const{top:b,bottom:A,left:E,right:M}=s.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=E&&_.clientX<=M&&_.clientY>=b&&_.clientY<=A?v():p()}};return o&&l&&(g.onMouseEnter=v,t.stacked||(g.onMouseLeave=p)),d&&(g.onClick=_=>{c&&c(_),a.canCloseOnClick&&u()}),{playToast:p,pauseToast:v,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:g}}function fF(t){let{delay:e,isRunning:n,closeToast:i,type:r="default",hide:s,className:a,style:o,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:f}=t;const h=s||l&&u===0,p={...o,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(p.transform=`scaleX(${u})`);const v=ws("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),y=Rn(a)?a({rtl:c,type:r,defaultClassName:v}):ws(v,a),m={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&i()}};return ne.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},ne.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),ne.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:y,style:p,...m}))}let hF=1;const CR=()=>""+hF++;function pF(t){return t&&(La(t.toastId)||Yu(t.toastId))?t.toastId:CR()}function iu(t,e){return ER(t,e),e.toastId}function up(t,e){return{...e,type:e&&e.type||t,toastId:pF(e)}}function cf(t){return(e,n)=>iu(e,up(t,n))}function Fe(t,e){return iu(t,up("default",e))}Fe.loading=(t,e)=>iu(t,up("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Fe.promise=function(t,e,n){let i,{pending:r,error:s,success:a}=e;r&&(i=La(r)?Fe.loading(r,n):Fe.loading(r.render,{...n,...r}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,d,f)=>{if(d==null)return void Fe.dismiss(i);const h={type:c,...o,...n,data:f},p=La(d)?{render:d}:d;return i?Fe.update(i,{...h,...p}):Fe(p.render,{...h,...p}),f},u=Rn(t)?t():t;return u.then(c=>l("success",a,c)).catch(c=>l("error",s,c)),u},Fe.success=cf("success"),Fe.info=cf("info"),Fe.error=cf("error"),Fe.warning=cf("warning"),Fe.warn=Fe.warning,Fe.dark=(t,e)=>iu(t,up("default",{theme:"dark",...e})),Fe.dismiss=function(t){(function(e){var n;if(bR()){if(e==null||La(n=e)||Yu(n))tn.forEach(i=>{i.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const i=tn.get(e.containerId);i?i.removeToast(e.id):tn.forEach(r=>{r.removeToast(e.id)})}}else Xu=Xu.filter(i=>e!=null&&i.options.toastId!==e)})(t)},Fe.clearWaitingQueue=function(t){t===void 0&&(t={}),tn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Fe.isActive=wR,Fe.update=function(t,e){e===void 0&&(e={});const n=((i,r)=>{var s;let{containerId:a}=r;return(s=tn.get(a||1))==null?void 0:s.toasts.get(i)})(t,e);if(n){const{props:i,content:r}=n,s={delay:100,...i,...e,toastId:e.toastId||t,updateId:CR()};s.toastId!==t&&(s.staleId=t);const a=s.render||r;delete s.render,iu(a,s)}},Fe.done=t=>{Fe.update(t,{progress:1})},Fe.onChange=function(t){return y1.add(t),()=>{y1.delete(t)}},Fe.play=t=>FC(!0,t),Fe.pause=t=>FC(!1,t);const mF=typeof window<"u"?x.useLayoutEffect:x.useEffect,uf=t=>{let{theme:e,type:n,isLoading:i,...r}=t;return ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},o_={info:function(t){return ne.createElement(uf,{...t},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ne.createElement(uf,{...t},ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ne.createElement(uf,{...t},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ne.createElement(uf,{...t},ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ne.createElement("div",{className:"Toastify__spinner"})}},gF=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:s}=dF(t),{closeButton:a,children:o,autoClose:l,onClick:u,type:c,hideProgressBar:d,closeToast:f,transition:h,position:p,className:v,style:y,bodyClassName:m,bodyStyle:g,progressClassName:_,progressStyle:b,updateId:A,role:E,progress:M,rtl:w,toastId:S,deleteToast:T,isIn:D,isLoading:I,closeOnClick:k,theme:N}=t,L=ws("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":k}),R=Rn(v)?v({rtl:w,position:p,type:c,defaultClassName:L}):ws(L,v),O=function(V){let{theme:z,type:q,isLoading:$,icon:H}=V,Z=null;const ie={theme:z,type:q};return H===!1||(Rn(H)?Z=H({...ie,isLoading:$}):x.isValidElement(H)?Z=x.cloneElement(H,ie):$?Z=o_.spinner():(ae=>ae in o_)(q)&&(Z=o_[q](ie))),Z}(t),P=!!M||!l,U={closeToast:f,type:c,theme:N};let B=null;return a===!1||(B=Rn(a)?a(U):x.isValidElement(a)?x.cloneElement(a,U):function(V){let{closeToast:z,theme:q,ariaLabel:$="close"}=V;return ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${q}`,type:"button",onClick:H=>{H.stopPropagation(),z(H)},"aria-label":$},ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(U)),ne.createElement(h,{isIn:D,done:T,position:p,preventExitTransition:n,nodeRef:i,playToast:s},ne.createElement("div",{id:S,onClick:u,"data-in":D,className:R,...r,style:y,ref:i},ne.createElement("div",{...D&&{role:E},className:Rn(m)?m({type:c}):ws("Toastify__toast-body",m),style:g},O!=null&&ne.createElement("div",{className:ws("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},O),ne.createElement("div",null,o)),B,ne.createElement(fF,{...A&&!P?{key:`pb-${A}`}:{},rtl:w,theme:N,delay:l,isRunning:e,isIn:D,closeToast:f,hide:d,type:c,style:b,className:_,controlledProgress:P,progress:M||0})))},Pm=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},SR=Um(Pm("bounce",!0));Um(Pm("slide",!0));Um(Pm("zoom"));Um(Pm("flip"));const _F={position:"top-right",transition:SR,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function vF(t){let e={..._F,...t};const n=t.stacked,[i,r]=x.useState(!0),s=x.useRef(null),{getToastToRender:a,isToastActive:o,count:l}=uF(e),{className:u,style:c,rtl:d,containerId:f}=e;function h(v){const y=ws("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":d});return Rn(u)?u({position:v,rtl:d,defaultClassName:y}):ws(y,Pf(u))}function p(){n&&(r(!0),Fe.play())}return mF(()=>{if(n){var v;const y=s.current.querySelectorAll('[data-in="true"]'),m=12,g=(v=e.position)==null?void 0:v.includes("top");let _=0,b=0;Array.from(y).reverse().forEach((A,E)=>{const M=A;M.classList.add("Toastify__toast--stacked"),E>0&&(M.dataset.collapsed=`${i}`),M.dataset.pos||(M.dataset.pos=g?"top":"bot");const w=_*(i?.2:1)+(i?0:m*E);M.style.setProperty("--y",`${g?w:-1*w}px`),M.style.setProperty("--g",`${m}`),M.style.setProperty("--s",""+(1-(i?b:0))),_+=M.offsetHeight,b+=.025})}},[i,l,n]),ne.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(r(!1),Fe.pause())},onMouseLeave:p},a((v,y)=>{const m=y.length?{...c}:{...c,pointerEvents:"none"};return ne.createElement("div",{className:h(v),style:m,key:`container-${v}`},y.map(g=>{let{content:_,props:b}=g;return ne.createElement(gF,{...b,stacked:n,collapseAll:p,isIn:o(b.toastId,b.containerId),style:b.style,key:`toast-${b.key}`},_)}))}))}let l_=null;const Ku=t=>{if(l_)return;l_=Fe.error(t,{className:"custom-toast-error",onClose:()=>{l_=null}})},yF=()=>Ml.createPortal(C.jsx(vF,{position:"top-right",autoClose:2e3,limit:1,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",transition:SR}),document.getElementById("toastify")),bF=({isMobileScreen:t,updateAttachedItems:e,isAttachedItems:n})=>{const i=x.useRef(null),r=x.useRef(null),[s,a]=x.useState(!1),[o,l]=x.useState(!1),u=x.useRef(null),c="image/jpeg, image/png, image/bmp, image/webp, image/avif, image/gif, video/mp4, video/webm";x.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]),x.useEffect(()=>{t||o&&a(!1)},[o]);const d=async p=>{const v={maxSizeMB:10,useWebWorker:!0,initialQuality:.97,alwaysKeepResolution:!0};try{return await xt(p,v)}catch(y){return console.error("Ошибка сжатия изображения:",y),p}},f=async p=>{const v=p.target.files;if(v){const m=(await Promise.all(Array.from(v).map(async g=>{if(g.size>Fu)return Ku("Максимальный размер 50MB"),null;if(g.type.startsWith("image/")){const _=await d(g);return{imgUrl:URL.createObjectURL(_),name:g.name,fileObject:_}}else return g.type.startsWith("video/")?{videoUrl:URL.createObjectURL(g),name:g.name,fileObject:g}:{isFile:!0,name:g.name,fileObject:g}}))).filter(g=>g!==null);m.length>0&&e(m)}},h=p=>{const v=p.target.files;if(v){const m=Array.from(v).map(g=>g.size>Fu?(Ku("Максимальный размер 50MB"),null):{isFile:!0,name:g.name,fileObject:g}).filter(g=>g!==null);m.length>0&&e(m)}};return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:Kt["attach-menu"],children:[C.jsx("button",{className:Kt["attach-btn"],onClick:()=>{t&&a(p=>!p)},onMouseEnter:()=>{t||(a(!0),u.current&&clearTimeout(u.current),l(!1))},children:C.jsx(oF,{className:`${Kt["attach-btn__icon"]} ${s?Kt.active:""}`})}),C.jsx("div",{className:`${Kt["attach-menu__menu-wrapper"]} ${n?Kt["attach-menu__menu-wrapper--bottom"]:""}`,children:C.jsxs("div",{className:`${Kt["attach-menu__menu"]} ${s?Kt.active:""}`,children:[C.jsxs("button",{className:Kt["attach-menu__btn"],onClick:()=>{var p;a(!1),(p=r.current)==null||p.click()},children:[C.jsx(aF,{className:Kt["attach-menu__btn-icon"]}),C.jsx("span",{className:Kt["attach-menu__btn-text"],children:"Фото или видео"})]}),C.jsxs("button",{className:Kt["attach-menu__btn"],onClick:()=>{var p;a(!1),(p=i.current)==null||p.click()},children:[C.jsx(vR,{className:Kt["attach-menu__btn-icon"]}),C.jsx("span",{className:Kt["attach-menu__btn-text"],children:"Файл"})]})]})}),C.jsx("input",{ref:r,type:"file",accept:c,multiple:!0,style:{display:"none"},onChange:f}),C.jsx("input",{ref:i,type:"file",multiple:!0,style:{display:"none"},onChange:h})]}),s&&C.jsx("div",{className:Kt["attach-backdrop"],onClick:()=>a(!1),onMouseEnter:()=>{if(!t){const p=setTimeout(()=>{l(!0)},800);u.current=p}},onMouseLeave:()=>{t||(u.current&&clearTimeout(u.current),o===!0&&l(!1))}})]})},wF=(t,e,n)=>{x.useEffect(()=>{if(t){t.style.height="0px";const i=t.scrollHeight;i<=n?(t.style.height=i+"px",t.style.overflow!=="hidden"&&(t.style.overflow="hidden")):(t.style.overflow!=="auto"&&(t.style.overflow="auto"),t.style.height=n+"px")}},[t,e])},EF={chatInputValues:{localeState:{attachedItems:[],messageText:""}}},pb=Ad({name:"chatInputValues",initialState:EF,selectors:{selectChatInputValues:t=>t},reducers:{addChatInputValue:(t,e)=>{t.chatInputValues[e.payload.chatId]||(t.chatInputValues[e.payload.chatId]={attachedItems:[],messageText:""})},updateChatInputValue:(t,e)=>{if(e.payload.attachedItems!==void 0){const n=t.chatInputValues[e.payload.chatId||"localeState"].attachedItems||[];t.chatInputValues[e.payload.chatId||"localeState"].attachedItems=[...n,...e.payload.attachedItems]}e.payload.messageText!==void 0&&(t.chatInputValues[e.payload.chatId||"localeState"].messageText=e.payload.messageText)},setChatInputValue:(t,e)=>{e.payload.attachedItems!==void 0&&(t.chatInputValues[e.payload.chatId||"localeState"].attachedItems=e.payload.attachedItems),e.payload.messageText!==void 0&&(t.chatInputValues[e.payload.chatId||"localeState"].messageText=e.payload.messageText)},clearChatInputValue:(t,e)=>{t.chatInputValues[e.payload.chatId||"localeState"].messageText="",t.chatInputValues[e.payload.chatId||"localeState"].attachedItems=[]},filterAttachedItemsChatInputValue:(t,e)=>{t.chatInputValues[e.payload.chatId||"localeState"].attachedItems=t.chatInputValues[e.payload.chatId||"localeState"].attachedItems.filter(n=>n.fileObject!==e.payload.attachedItem.fileObject)}}}),{addChatInputValue:CF,updateChatInputValue:TR,setChatInputValue:MW,clearChatInputValue:VC,filterAttachedItemsChatInputValue:SF}=pb.actions,{selectChatInputValues:TF}=pb.selectors,xF=pb.reducer,AF=({chatInputValues:t,isSubscribeLoading:e,isMobileScreen:n,attachedItems:i,uploadTasksRef:r,locationState:s,updateAttachedItems:a,setDuringMessageSendingToggle:o})=>{var O;const l=x.useRef({}),{uid:u,avatar:c,username:d,blocked:f}=Ji(),{activeChatId:h,activeChatMembers:p,activeChatBlocked:v,activeChatIsGroup:y}=Ql(),m=x.useRef(null),g=Ln(),_=h!==null&&t[h]!=null?t[h].messageText:t.localeState.messageText,b=(O=p==null?void 0:p.find(P=>P.uid!==u))==null?void 0:O.uid,A=y===!1?b!==void 0&&v!==null&&f!==null&&(f.includes(b)||v.includes(u)):!1;x.useEffect(()=>{(async()=>{if(h===null)return;const U=l.current[h]??!1;_.length>0&&!U&&(await mt(fe(he),{[`chats/${h}/writingUsers/${u}`]:!0}),l.current[h]=!0),_.length===0&&U&&(await mt(fe(he),{[`chats/${h}/writingUsers/${u}`]:null}),l.current[h]=!1)})()},[_,h]),x.useEffect(()=>{if(h===null)return;l.current[h];const P=fe(he,`chats/${h}/writingUsers/${u}`);return Df(P).set(null),()=>{(async()=>{if(h===null)return;(l.current[h]??!1)&&(await mt(fe(he),{[`chats/${h}/writingUsers/${u}`]:null}),l.current[h]=!1)})()}},[h]),x.useEffect(()=>{if(h===null)return;const P=fe(he,`chats/${h}/writingUsers/${u}`);return Df(P).set(null),()=>{Df(P).cancel(),(async()=>{if(h===null)return;(l.current[h]??!1)&&(await mt(fe(he),{[`chats/${h}/writingUsers/${u}`]:null}),l.current[h]=!1)})()}},[h]),wF(m.current,_,130);const E=async(P,U,B,V,z)=>{const q=rA(sA,`users_uploads/${"name"in P?`${ga()}_${P.name}`:`preview_${ga()}_${z}`}`),$=nA(q,P);return r.current[B]||(r.current[B]={}),r.current[B][V]={task:$,fileRef:q},new Promise((H,Z)=>{$.on("state_changed",ie=>{const ae=Math.floor(ie.bytesTransferred/ie.totalBytes*100);z||g(X$({messageId:B,loadingId:V,progress:ae,filePath:U})),z&&g(K$({messageId:B,loadingId:V,progress:ae}))},ie=>{console.log("Upload error:",ie),g(Q$({messageId:B})),Z(ie)},async()=>{const ie=await iA($.snapshot.ref);H(ie)})})},M=async P=>{if(!u)return;delete r.current[P.messageId];const U=[...P.media,...P.files],B=U.length>0?await Promise.all(U.map(async V=>{if("imgUrl"in V)return{imgUrl:await E(V.fileObject,"media",P.messageId,V.loadingId),isHorizontal:V.isHorizontal,isSquare:V.isSquare};if("videoUrl"in V){const z=document.createElement("video");z.src=V.videoUrl,await new Promise(ae=>{z.onloadedmetadata=ae});const q=document.createElement("canvas"),$=q.getContext("2d");if(q.width=z.videoWidth,q.height=z.videoHeight,await new Promise((ae,le)=>{z.currentTime=0,z.onseeked=()=>{ae(null)},z.onerror=Ee=>{le(Ee)}}),!$)throw new Error("2D context не был создан");$.drawImage(z,0,0,q.width,q.height);const H=await new Promise(ae=>{q.toBlob(le=>{le&&ae(le)},"image/png")}),Z=await E(V.fileObject,"media",P.messageId,V.loadingId),ie=await E(H,"media",P.messageId,V.loadingId,V.videoName);return{videoUrl:Z,videoPreview:ie,isHorizontal:V.isHorizontal,isSquare:V.isSquare}}else return{fileUrl:await E(V.fileObject,"files",P.messageId,V.loadingId),fileName:V.fileName,fileSize:V.fileSize}})):[];return{messageText:P.messageText,messageDateUTC:sl(),messageId:P.messageId,isDeleted:P.isDeleted,isChecked:P.isChecked,senderUid:P.senderUid,isEdited:!1,isLoading:!1,answerToMessage:P.answerToMessage,media:B.filter(V=>!("fileUrl"in V)),files:B.filter(V=>"fileUrl"in V)}},w=async(P,U,B)=>{const V=U.length>0?await Promise.all(U.map(async $=>{if("imgUrl"in $){const H=new Image;H.src=$.imgUrl,await new Promise(ae=>{H.onload=ae});const Z=H.width>H.height||H.width===H.height,ie=H.width===H.height;return{imgUrl:$.imgUrl,isHorizontal:Z,isSquare:ie,fileObject:$.fileObject,progress:0,loadingId:ga()}}else if("videoUrl"in $){const H=document.createElement("video");H.src=$.videoUrl,await new Promise(ae=>{H.onloadedmetadata=ae});const Z=H.videoWidth>H.videoHeight||H.videoWidth===H.videoHeight,ie=H.videoWidth===H.videoHeight;return{videoUrl:$.videoUrl,isHorizontal:Z,isSquare:ie,videoPreview:"",videoName:$.name,fileObject:$.fileObject,progress:0,progressPreview:0,loadingId:ga()}}else return{fileUrl:"",fileName:$.name,fileSize:Math.round($.fileObject.size/1024),fileObject:$.fileObject,progress:0,loadingId:ga()}})):[],z=fe(he,`chats/${B}/messages`),q=I5(z).key;if(q!==null)return{messageText:P,messageDateUTC:Date.now(),messageId:q,isDeleted:!1,isChecked:!1,senderUid:u,isLoading:!0,isCanceled:!1,isEdited:!1,answerToMessage:"",media:V.filter($=>!("fileUrl"in $)),files:V.filter($=>"fileUrl"in $)}},S=(P,U,B)=>{const V={chatId:P,membersIds:{[u]:!0,[U]:!0},lastMessageText:B,lastMessageDateUTC:sl(),lastMessageIsChecked:!1,lastMessageSenderUid:u,groupChatname:"",groupAvatar:"",groupAdminUid:"",isGroup:!1};return{updatesByUserChats:{[`userChats/${u}/chats/${P}`]:V,[`userChats/${U}/chats/${P}`]:V},chatId:P}},T=async(P,U)=>{try{const B=fe(he,`userChats/${u}/chats`),V=await _n(B);if(V.exists()){const q=Object.values(V.val()).find($=>$.isGroup===!1&&Object.keys($.membersIds).includes(s.userUidFromGlobalSearch));if(q!==void 0)return g(E$({activeChatId:q.chatId})),{updatesByUserChats:void 0,chatId:q.chatId};if(q===void 0)return S(U,s.userUidFromGlobalSearch,P)}else return V.exists()?void 0:S(U,s.userUidFromGlobalSearch,P)}catch(B){console.error("Ошибка при получении данных о чатах пользователя",B);return}},D=async(P,U,B)=>{const V=fe(he,`chats/${P}/`);if((await _n(V)).exists())return;const q={chatId:P,unreadMessages:{[B]:{[U.messageId]:!0}},messages:{[U.messageId]:U}};return{[`chats/${P}`]:q}},I=(P,U,B)=>{const V={lastMessageText:U,lastMessageDateUTC:sl(),lastMessageIsChecked:!1,lastMessageSenderUid:u};return B.reduce((q,$)=>(q[`userChats/${$}/chats/${P}/lastMessageText`]=V.lastMessageText,q[`userChats/${$}/chats/${P}/lastMessageDateUTC`]=V.lastMessageDateUTC,q[`userChats/${$}/chats/${P}/lastMessageIsChecked`]=V.lastMessageIsChecked,q[`userChats/${$}/chats/${P}/lastMessageSenderUid`]=V.lastMessageSenderUid,q),{})},k=(P,U,B)=>{const z=B.filter(H=>H!==u).reduce((H,Z)=>(H[`chats/${P}/unreadMessages/${Z}/${U.messageId}`]=!0,H),{}),q={[`chats/${P}/unreadMessages/${u}`]:null};return{[`chats/${P}/messages/${U.messageId}`]:U,...z,...q}},N=async P=>{const U={maxSizeMB:10,useWebWorker:!0,initialQuality:.97,alwaysKeepResolution:!0};try{return await xt(P,U)}catch(B){return console.error("Ошибка сжатия изображения:",B),P}},L=async P=>{const U=P.clipboardData.items,V=(await Promise.all(Array.from(U).map(async z=>{if(z.kind==="file"&&z.type.startsWith("image/")){const q=z.getAsFile();if(q){if(q.size>Fu)return Ku("Максимальный размер 50MB"),null;const $=await N(q);return{imgUrl:URL.createObjectURL($),name:q.name,fileObject:$}}}return null}))).filter(z=>z!==null);V.length>0&&a(V)},R=async(P,U,B)=>{if(u&&!(e===!0||P.trim().length===0&&U.length===0)){if(B!==null&&h===null){const V=ga(),z=await w(P,U,V);if(z===void 0)return;g(zC(z)),g(VC({chatId:h})),o(Z=>!Z);const q=await T(P,V);if(q===void 0)return;const{updatesByUserChats:$,chatId:H}=q;if($!==void 0){const Z=await M(z);if(Z===void 0)return;const ie=await D(H,Z,B.userUidFromGlobalSearch);if(ie===void 0)return;const ae={...$,...ie};await mt(fe(he),ae);const le=[{uid:u,username:d,avatar:c,blocked:f},{uid:B.userUidFromGlobalSearch,username:B.chatnameFromGlobalSearch,avatar:B.chatAvatarFromGlobalSearch,blocked:[]}];g(pR({activeChatId:V,activeChatAvatar:B.chatAvatarFromGlobalSearch,activeChatname:B.chatnameFromGlobalSearch,activeChatIsGroup:!1,activeChatMembers:le,activeChatBlocked:[],activeChatGroupAdminUrl:""}))}}else if(h!==null&&p!==null){const V=await w(P,U,h);if(V===void 0)return;g(zC(V)),g(VC({chatId:h})),o(ie=>!ie);const z=await M(V);if(z===void 0)return;const q=p.map(ie=>ie.uid),$=I(h,P,q),H=k(h,z,q),Z={...$,...H};await mt(fe(he),Z)}}};return C.jsxs("div",{className:Ei["message-input-wrapper"],children:[!A&&!e&&C.jsxs(C.Fragment,{children:[C.jsx(bF,{updateAttachedItems:a,isAttachedItems:i.length>0,isMobileScreen:n}),C.jsx("textarea",{rows:1,ref:m,onChange:P=>g(TR({chatId:h,messageText:P.target.value})),onPasteCapture:L,onKeyDown:P=>{P.key==="Enter"&&!n&&!P.shiftKey&&(P.preventDefault(),R(_,i,s))},value:_,placeholder:"Сообщение",className:Ei["message-input-wrapper__textarea"]}),C.jsx("button",{disabled:_.trim().length===0&&i.length===0,className:Ei["message-input-wrapper__btn"],onClick:()=>{R(_,i,s)},children:C.jsx(iF,{className:_.trim().length===0&&i.length===0?Ei["message-input-wrapper__arrow-icon"]:`${Ei["message-input-wrapper__arrow-icon"]} ${Ei.active}`})})]}),A&&!e&&C.jsxs("div",{className:Ei["message-input-wrapper__sub-wrapper"],children:[C.jsx(fR,{className:Ei["message-input-wrapper__error-icon"]}),C.jsx("span",{className:Ei["message-input-wrapper__blocked-text"],children:"Отправка сообщений ограничена"})]}),e&&C.jsx("div",{className:Ei["message-input-wrapper__sub-wrapper"]})]})},Ci={"attached-content-wrapper":"_attached-content-wrapper_1bgx5_10","attached-content-wrapper__item":"_attached-content-wrapper__item_1bgx5_36","attached-content-wrapper__media":"_attached-content-wrapper__media_1bgx5_47","attached-content-wrapper__file-wrapper":"_attached-content-wrapper__file-wrapper_1bgx5_57","attached-content-wrapper__cross-btn":"_attached-content-wrapper__cross-btn_1bgx5_66","attached-content-wrapper__cross-icon":"_attached-content-wrapper__cross-icon_1bgx5_77","attached-content-wrapper__cross-icon--file":"_attached-content-wrapper__cross-icon--file_1bgx5_85","attached-content-wrapper__file-icon":"_attached-content-wrapper__file-icon_1bgx5_89","attached-content-wrapper__file-name":"_attached-content-wrapper__file-name_1bgx5_97","fade-in":"_fade-in_1bgx5_1"},jm=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.05022 7.05028C6.65969 7.4408 6.65969 8.07397 7.05022 8.46449L10.5858 12L7.05023 15.5356C6.6597 15.9261 6.6597 16.5593 7.05023 16.9498C7.44075 17.3403 8.07392 17.3403 8.46444 16.9498L12 13.4142L15.5355 16.9498C15.926 17.3403 16.5592 17.3403 16.9497 16.9498C17.3402 16.5592 17.3402 15.9261 16.9497 15.5356L13.4142 12L16.9497 8.46449C17.3402 8.07397 17.3402 7.4408 16.9497 7.05028C16.5592 6.65976 15.926 6.65976 15.5355 7.05028L12 10.5858L8.46443 7.05028C8.07391 6.65975 7.44074 6.65975 7.05022 7.05028Z",fill:"black"})),RF=({activeChatId:t,attachedItems:e})=>{const n=Ln();return C.jsx("div",{className:Ci["attached-content-wrapper"],children:e.map((i,r)=>C.jsxs("div",{className:Ci["attached-content-wrapper__item"],children:["imgUrl"in i&&C.jsx("img",{className:Ci["attached-content-wrapper__media"],src:i.imgUrl}),"videoUrl"in i&&C.jsx("video",{className:Ci["attached-content-wrapper__media"],src:i.videoUrl}),"isFile"in i&&C.jsxs("div",{className:Ci["attached-content-wrapper__file-wrapper"],children:[C.jsx(vR,{className:Ci["attached-content-wrapper__file-icon"]}),C.jsx("span",{className:Ci["attached-content-wrapper__file-name"],children:i.name})]}),C.jsx("button",{onClick:()=>{n(SF({chatId:t,attachedItem:i}))},className:Ci["attached-content-wrapper__cross-btn"],children:C.jsx(jm,{className:`${Ci["attached-content-wrapper__cross-icon"]} ${"fileUrl"in i?Ci["attached-content-wrapper__cross-icon--file"]:""}`})})]},r))})},OF="_active_xomti_21",Si={"drag-n-drop-zone":"_drag-n-drop-zone_xomti_1",active:OF,"drag-n-drop-zone__drop-wrapper":"_drag-n-drop-zone__drop-wrapper_xomti_25","drag-n-drop-zone__top-span":"_drag-n-drop-zone__top-span_xomti_42","drag-n-drop-zone__bottom-span":"_drag-n-drop-zone__bottom-span_xomti_45"},NF=({setIsDrag:t,isDrag:e,updateAttachedItems:n})=>{const[i,r]=x.useState(null),[s,a]=x.useState(null),o=h=>{const v=Array.from(h.dataTransfer.items).every(y=>y.kind==="file"&&(y.type.startsWith("image")||y.type.startsWith("video")));r(v?"media":"file")},l=async h=>{const p={maxSizeMB:10,useWebWorker:!0,initialQuality:.97,alwaysKeepResolution:!0};try{return await xt(h,p)}catch(v){return console.error("Ошибка сжатия изображения:",v),h}},u=h=>{h.preventDefault(),o(h)},c=h=>{h.preventDefault();const p=h.currentTarget,v=h.relatedTarget;p.contains(v)||t(!1)},d=async h=>{h.preventDefault();const p=h.dataTransfer.files;if(p){const y=(await Promise.all(Array.from(p).map(async m=>{if(m.size>Fu)return Ku("Максимальный размер 50MB"),null;if(m.type.startsWith("image/")){const g=await l(m);return{imgUrl:URL.createObjectURL(g),name:m.name,fileObject:g}}else return m.type.startsWith("video/")?{videoUrl:URL.createObjectURL(m),name:m.name,fileObject:m}:{isFile:!0,name:m.name,fileObject:m}}))).filter(m=>m!==null);y.length>0&&n(y)}t(!1)},f=h=>{h.preventDefault();const p=h.dataTransfer.files;if(p){const y=Array.from(p).map(m=>m.size>Fu?(Ku("Максимальный размер 50MB"),null):{isFile:!0,name:m.name,fileObject:m}).filter(m=>m!==null);y.length>0&&n(y)}t(!1)};return C.jsxs("div",{className:`${Si["drag-n-drop-zone"]} ${e?Si.active:""}`,onDragEnter:u,onDragLeave:c,onDrop:h=>{h.preventDefault(),t(!1)},onDragOver:h=>h.preventDefault(),children:[i!==null&&C.jsxs("div",{onDragOver:h=>h.preventDefault(),onDrop:f,onDragEnter:()=>a("file"),onDragLeave:h=>{const p=h.currentTarget,v=h.relatedTarget;p.contains(v)||a(null)},style:{height:i==="file"?"calc(70% + 8px)":"35%"},className:`${Si["drag-n-drop-zone__drop-wrapper"]} ${s==="file"?Si.active:""}`,children:[C.jsx("span",{className:Si["drag-n-drop-zone__top-span"],children:"Перетащите сюда файлы"}),C.jsx("span",{className:Si["drag-n-drop-zone__bottom-span"],children:"для отправки без сжатия"})]}),i==="media"&&C.jsxs("div",{onDrop:h=>d(h),onDragOver:h=>h.preventDefault(),onDragEnter:()=>a("media"),onDragLeave:h=>{const p=h.currentTarget,v=h.relatedTarget;p.contains(v)||a(null)},style:{height:"35%"},className:`${Si["drag-n-drop-zone__drop-wrapper"]} ${s==="media"?Si.active:""}`,children:[C.jsx("span",{className:Si["drag-n-drop-zone__top-span"],children:"Перетащите сюда файлы"}),C.jsx("span",{className:Si["drag-n-drop-zone__bottom-span"],children:"для быстрой отправки"})]})]})},MF=()=>{const{chatInputValues:t}=_d(TF);return{chatInputValues:t}},IF=({activeChatId:t,isSubscribeLoading:e,isMobileScreen:n,uploadTasksRef:i,isDrag:r,locationState:s,setIsDrag:a,setDuringMessageSendingToggle:o})=>{const l=n?"section":"div",u=Ln(),{chatInputValues:c}=MF(),d=h=>{u(TR({chatId:t,attachedItems:h}))},f=t!==null&&c[t]!=null?c[t].attachedItems:c.localeState.attachedItems;return C.jsxs(l,{className:HC["chat-bottom-section"],id:"chat-bottom-section",children:[C.jsx("div",{className:n?"container":"container container--max-width-unset",children:C.jsxs("div",{className:HC["chat-bottom-section__content"],children:[f.length>0&&C.jsx(RF,{activeChatId:t,attachedItems:f}),C.jsx(AF,{setDuringMessageSendingToggle:o,chatInputValues:c,isSubscribeLoading:e,locationState:s,uploadTasksRef:i,isMobileScreen:n,updateAttachedItems:d,attachedItems:f})]})}),!n&&C.jsx(NF,{updateAttachedItems:d,isDrag:r,setIsDrag:a})]})},xR=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.694 18.6943C15.102 18.2867 15.102 17.6259 14.694 17.2184L9.4699 12L14.694 6.78165C15.102 6.37408 15.102 5.71326 14.694 5.30568C14.2859 4.89811 13.6244 4.8981 13.2164 5.30568L7.30602 11.2096C7.08861 11.4267 6.98704 11.7158 7.00132 12.0002C6.98713 12.2844 7.0887 12.5733 7.30603 12.7904L13.2164 18.6943C13.6244 19.1019 14.2859 19.1019 14.694 18.6943Z",fill:"black"})),AR=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 6V3C7 2.44772 7.44771 2 8 2H20C20.5523 2 21 2.44772 21 3V17C21 17.5523 20.5523 18 20 18H17V21C17 21.552 16.55 22 15.993 22H4.007C3.45417 22.0033 3.00333 21.5579 3.00002 21.005L3 21L3.003 7C3.003 6.448 3.453 6 4.01 6L7 6ZM5.003 8L5 20H15V8H5.003ZM17 6H9V4H19V16H17V6Z",fill:"black"})),DF=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M21 11L14 4V8C7 9 4 14 3 19C5.5 15.5 9 13.9 14 13.9V18L21 11V11Z",fill:"black"})),kF="_active_j3tjm_44",LF="_fadeInAndScale_j3tjm_1",UF="_fadeIn_j3tjm_1",PF="_dot_j3tjm_89",jF="_bounce_j3tjm_1",Ue={"chat-top-section":"_chat-top-section_j3tjm_1","chat-top-section__content":"_chat-top-section__content_j3tjm_10","chat-top-section__back-wrapper":"_chat-top-section__back-wrapper_j3tjm_15","chat-top-section__back-btn":"_chat-top-section__back-btn_j3tjm_21","chat-top-section__back-icon":"_chat-top-section__back-icon_j3tjm_30",active:kF,"chat-top-section__selected-counter":"_chat-top-section__selected-counter_j3tjm_48",fadeInAndScale:LF,"chat-top-section__middle-wrapper":"_chat-top-section__middle-wrapper_j3tjm_59",fadeIn:UF,"chat-top-section__chatname":"_chat-top-section__chatname_j3tjm_68","chat-top-section__info":"_chat-top-section__info_j3tjm_77","chat-top-section__info--active":"_chat-top-section__info--active_j3tjm_86","chat-top-section__dots":"_chat-top-section__dots_j3tjm_89",dot:PF,bounce:jF,"chat-top-section__selecting-buttons-wrapper":"_chat-top-section__selecting-buttons-wrapper_j3tjm_102","chat-top-section__selecting-button":"_chat-top-section__selecting-button_j3tjm_102","chat-top-section__selecting-button--animated":"_chat-top-section__selecting-button--animated_j3tjm_113","chat-top-section__selecting-icon":"_chat-top-section__selecting-icon_j3tjm_126"},BF="_dot_1lfgv_1",zF="_bounce_1lfgv_1",c_={dot:BF,bounce:zF},u_=()=>C.jsxs(C.Fragment,{children:[C.jsx("span",{className:c_.dot,children:"."}),C.jsx("span",{className:c_.dot,children:"."}),C.jsx("span",{className:c_.dot,children:"."})]});var mb={},ia={};Object.defineProperty(ia,"__esModule",{value:!0});var HF=x;function $F(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(n){if(n!=="default"){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}}),e.default=t,Object.freeze(e)}var Oe=$F(HF);const lo=.3,Id="linear",gb="normal",_b="none",RR="running",FF="paused",vb="all";var OR=({duration:t=lo,delay:e=0,overlay:n=0})=>t+e-n||0,Qu=t=>t===void 0;function dp(t,e,n){return Qu(e)&&Qu(t)?n||0:t&&t>=0?t:e||0}const Bm=Oe.createContext({animationStates:{},register:()=>{}});function VF({play:t,sequences:e=[],children:n}){const[i,r]=Oe.useState({}),s=Oe.useRef({}),a=Oe.useCallback(o=>{const{sequenceIndex:l,sequenceId:u}=o;(!Qu(u)||!Qu(l))&&(s.current[dp(l,u)]=o)},[]);return Oe.useEffect(()=>{const o=Array.isArray(e)&&e.length?e:Object.values(s.current),l={};(t?o:[...o].reverse()).reduce((u,{sequenceId:c,sequenceIndex:d,duration:f=lo,delay:h,overlay:p},v)=>{const y=dp(d,c,v),g=OR({duration:f,delay:h,overlay:p})+u;return l[y]={play:t,pause:!t,delay:(h||0)+u,controlled:!0},g},0),r(l)},[t]),Oe.createElement(Bm.Provider,{value:{animationStates:i,register:a}},n)}var NR=t=>(t||0)*1e3;function qF(t){const{play:e,children:n,render:i,start:r,end:s,complete:a="",onComplete:o,delay:l=0,duration:u=lo,easeType:c=Id,sequenceId:d,sequenceIndex:f}=t,h=Oe.useRef(),[p,v]=Oe.useState(r||{}),{register:y,animationStates:m={}}=Oe.useContext(Bm),g=dp(f,d);return Oe.useEffect(()=>{(!Qu(f)&&f>=0||d)&&y(t)},[]),Oe.useEffect(()=>{const _=m[g]||{};return v({...e||_.play?s:r,transition:`${vb} ${u}s ${c} ${_.delay||l}s`}),e&&(a||o)&&(h.current=setTimeout(()=>{a&&v(a),o&&o()},NR((_.delay||l)+u))),()=>h.current&&clearTimeout(h.current)},[g,m,e,u,c,l,o,r,s,a]),i?i({style:p}):Oe.createElement("div",{style:p},n)}var GF=t=>t?t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`):"";const WF=t=>{const e=t.length;return t.reduce((n,i,r)=>{const s=parseFloat((100/(e-1)).toFixed(2))*r;if(typeof i=="string")return`${n} ${s}% {${i}}`;const a=Object.keys(i);if(a.length&&isNaN(+a[0])){const o=a.reduce((l,u)=>`${l} ${GF(u)}: ${i[u]};`,"");return`${n} ${s}% {${o}}`}return`${n} ${a[0]}% {${i[a[0]]}}`},"")};function YF({keyframes:t,animationName:e}){return`@keyframes ${e} {${WF(t)}}`}function xl({keyframes:t,animationName:e}){var n,i,r,s;let a=document.querySelector("style[data-id=rsi]");a||(a=document.createElement("style"),a.setAttribute("data-id","rsi"),document.head.appendChild(a));const o=(r=(i=(n=a.sheet)===null||n===void 0?void 0:n.cssRules)===null||i===void 0?void 0:i.length)!==null&&r!==void 0?r:0;try{(s=a.sheet)===null||s===void 0||s.insertRule(YF({keyframes:t,animationName:e}),o)}catch(l){console.error("react simple animate, error found during insert style ",l)}return{styleTag:a,index:o}}var Al=(t,e)=>{if(!t)return;const n=Object.values(t.cssRules).findIndex(({name:i})=>i===e);n>=0&&t.deleteRule(n)},Rl=()=>`RSI-${Math.random().toString(36).substr(2,9)}`,MR=t=>t?FF:RR;function XF(t){const{children:e,play:n=!1,pause:i=!1,render:r,duration:s=lo,delay:a=0,easeType:o=Id,direction:l=gb,fillMode:u=_b,iterationCount:c=1,sequenceIndex:d,keyframes:f,sequenceId:h}=t;let p;const v=Oe.useRef({forward:"",reverse:""}),y=Oe.useRef(!1),m=Oe.useRef({forward:null,reverse:null}),g=dp(d,h),{register:_,animationStates:b={}}=Oe.useContext(Bm),A=b[g]||{},[,E]=Oe.useState(!1);Oe.useEffect(()=>{const w=m.current,S=v.current;v.current.forward=Rl();let T=xl({animationName:v.current.forward,keyframes:f});return m.current.forward=T.styleTag,v.current.reverse=Rl(),T=xl({animationName:v.current.reverse,keyframes:f.reverse()}),m.current.reverse=T.styleTag,_(t),n&&E(!0),()=>{var D,I;Al((D=w.forward)===null||D===void 0?void 0:D.sheet,S.forward),Al((I=w.reverse)===null||I===void 0?void 0:I.sheet,S.reverse)}},[]),A.controlled&&!y.current?(p=A.pause,A.pause||(y.current=!0)):p=i;const M={animation:`${s}s ${o} ${A.delay||a}s ${c} ${l} ${u} ${MR(p)} ${((A.controlled?A.play:n)?v.current.forward:v.current.reverse)||""}`};return r?r({style:M}):Oe.createElement("div",{style:M||{}},e)}function KF(t){const{start:e,end:n,complete:i,onComplete:r,delay:s=0,duration:a=lo,easeType:o=Id}=t,l=Oe.useMemo(()=>`${vb} ${a}s ${o} ${s}s`,[a,o,s]),[u,c]=Oe.useState({isPlaying:!1,style:{...e,transition:l}}),{isPlaying:d,style:f}=u,h=Oe.useRef();return Oe.useEffect(()=>((r||i)&&d&&(h.current=setTimeout(()=>{r&&r(),i&&c(p=>({...p,style:i}))},NR(s+a))),()=>h.current&&clearTimeout(h.current)),[u,i,s,a,d,r]),{isPlaying:d,style:f,play:Oe.useCallback(p=>{c(v=>({...v,style:{...p?n:e,transition:l},isPlaying:p}))},[n,e,l])}}function QF(t){const{duration:e=lo,delay:n=0,easeType:i=Id,direction:r=gb,fillMode:s=_b,iterationCount:a=1,keyframes:o}=t,l=Oe.useRef({forward:"",reverse:""}),u=Oe.useRef({forward:null,reverse:null}),{register:c}=Oe.useContext(Bm),[d,f]=Oe.useState(null),[h,p]=Oe.useState(!1);return Oe.useEffect(()=>{const y=u.current,m=l.current;l.current.forward=Rl();let g=xl({animationName:l.current.forward,keyframes:o});return u.current.forward=g.styleTag,l.current.reverse=Rl(),g=xl({animationName:l.current.reverse,keyframes:o.reverse()}),u.current.reverse=g.styleTag,c(t),()=>{var _,b;Al((_=y.forward)===null||_===void 0?void 0:_.sheet,m.forward),Al((b=y.reverse)===null||b===void 0?void 0:b.sheet,m.reverse)}},[]),{style:{animation:`${e}s ${i} ${n}s ${a} ${r} ${s} ${MR(h)} ${d===null?"":d?l.current.forward:l.current.reverse}`},play:f,pause:p,isPlaying:!!d}}function ZF(t){return Array.from({length:t},()=>null)}function JF(t){const{sequences:e=[]}=t,n=ZF(e.length).map((c,d)=>t.sequences[d].start),[i,r]=Oe.useState(n),[s,a]=Oe.useState(!1),o=Oe.useRef([]),l=Oe.useRef([]);Oe.useEffect(()=>{e.forEach(({keyframes:f},h)=>{if(!Array.isArray(f))return;o.current[h]||(o.current[h]={},l.current[h]={}),o.current[h].forward=Rl();let p=xl({animationName:o.current[h].forward,keyframes:f});l.current[h].forward=p.styleTag,o.current[h].reverse=Rl(),p=xl({animationName:o.current[h].reverse,keyframes:f.reverse()}),l.current[h].reverse=p.styleTag});const c=l.current,d=o.current;return()=>Object.values(d).forEach(({forward:f,reverse:h},p)=>{var v,y;Al((v=c[p].forward)===null||v===void 0?void 0:v.sheet,f),Al((y=c[p].reverse)===null||y===void 0?void 0:y.sheet,h)})},[]);const u=Oe.useCallback(c=>{let d=0;const f=c?o.current:[...o.current].reverse(),h=(c?e:[...e].reverse()).map((p,v)=>{const{duration:y=lo,delay:m=0,overlay:g,keyframes:_,iterationCount:b=1,easeType:A=Id,direction:E=gb,fillMode:M=_b,end:w={},start:S={}}=p,T=v===0?m:d,D=`${vb} ${y}s ${A} ${T}s`;return d=OR({duration:y,delay:m,overlay:g})+d,_?{animation:`${y}s ${A} ${T}s ${b} ${E} ${M} ${RR} ${c?f[v].forward:f[v].reverse}`}:{...c?w:S,transition:D}});r(c?h:[...h].reverse()),a(c)},[]);return{styles:i,play:u,isPlaying:s}}ia.Animate=qF;ia.AnimateGroup=VF;ia.AnimateKeyframes=XF;ia.useAnimate=KF;ia.useAnimateGroup=JF;ia.useAnimateKeyframes=QF;Object.defineProperty(mb,"__esModule",{value:!0});function eV(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var ui=eV(x),tV=ia;function IR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qC(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function DR(t,e,n){return e&&qC(t.prototype,e),n&&qC(t,n),t}function fp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hp(){return hp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},hp.apply(this,arguments)}function GC(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GC(n,!0).forEach(function(i){fp(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GC(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function kR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b1(t,e)}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},pp(t)}function b1(t,e){return b1=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},b1(t,e)}function w1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LR(t,e){return e&&(typeof e=="object"||typeof e=="function")?e:w1(t)}var WC={position:"absolute",height:"100%",transformStyle:"preserve-3d"},nV="cubic-bezier(0.19, 1, 0.22, 1)",iV=360,rV=1e3,UR=[0,1,2,3,4,5,6,7,8,9],E1=36,YC=function(e,n){var i=UR.findIndex(function(s){return s===n})*E1,r=e*iV;return Ro({},n===0?{rotateCounter:e>rV?0:e+1}:null,{degree:r-i})},PR=function(t){kR(e,t);function e(){var n,i;IR(this,e);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=LR(this,(n=pp(e)).call.apply(n,[this].concat(s))),fp(w1(i),"state",{degree:0,rotateCounter:0}),fp(w1(i),"updateNumber",function(){i.setState(function(o){var l=o.rotateCounter;return YC(l,i.props.activeNumber)})}),i}return DR(e,[{key:"componentDidMount",value:function(){var i=this;this.updateNumberTimeout=setTimeout(function(){return i.updateNumber()},50*this.props.position)}},{key:"shouldComponentUpdate",value:function(i){return i.className!==this.props.className||i.activeNumber!==this.props.activeNumber||i.height!==this.props.height||i.width!==this.props.width||this.state.degree===0||i.play!==this.props.play}},{key:"componentWillUnmount",value:function(){clearTimeout(this.updateNumberTimeout)}},{key:"render",value:function(){var i=this.props,r=i.activeNumber,s=i.height,a=i.color,o=i.background,l=i.width,u=i.perspective,c=i.duration,d=i.play,f=i.delay,h=i.length,p=i.position,v=i.numberStyle,y=v===void 0?{}:v,m=i.className,g=this.state.degree,_={width:"".concat(l,"px"),height:"".concat(s+3,"px")},b=s/2,A=b+s;return ui.createElement("span",{style:Ro({},_,{perspective:u,overflow:"hidden",display:"inline-block",textAlign:"left",height:s}),className:m,"aria-hidden":!0},ui.createElement(tV.Animate,hp({tag:"span",play:d,start:Ro({},WC),end:Ro({},WC,{transform:"rotateX(".concat(g,"deg)")})},{easeType:nV,duration:c,delay:f},{render:function(M){var w=M.style;return ui.createElement("span",{style:w},UR.map(function(S,T){return ui.createElement("span",{style:Ro({},_,{height:s,lineHeight:"".concat(s,"px"),fontSize:"".concat(s-1,"px"),position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",WebkitFontSmoothing:"antialiased",color:a,background:o,backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateX(".concat(E1*T,"deg) translateZ(").concat(A,"px)")},y),key:"".concat(E1*T)},S)}))}})),ui.createElement("span",{data:h-p,style:Ro({},_,{height:s,lineHeight:"".concat(s,"px"),fontSize:"".concat(s-1,"px"),left:"".concat(h-p>4?.25:0,"px"),position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",WebkitFontSmoothing:"antialiased",color:a,background:o,transform:"rotateX(0deg) translateZ(".concat(A,"px)"),visibility:"hidden"},y)},r))}}],[{key:"getDerivedStateFromProps",value:function(i,r){var s=i.activeNumber,a=r.rotateCounter;return YC(a,s)}}]),e}(ui.Component),jR=function(t){kR(e,t);function e(){return IR(this,e),LR(this,pp(e).apply(this,arguments))}return DR(e,[{key:"shouldComponentUpdate",value:function(i){return i.nonNumberClassName!==this.props.nonNumberClassName||i.numberClassName!==this.props.numberClassName||i.numbers!==this.props.numbers||i.height!==this.props.height||i.width!==this.props.width||i.duration!==this.props.duration||i.delay!==this.props.delay||i.play!==this.props.play}},{key:"render",value:function(){var i=this.props,r=i.numbers,s=i.nonNumberStyle,a=i.numberStyle,o=i.numberClassName,l=i.nonNumberClassName,u=i.height,c=i.width,d=i.color,f=i.background,h=i.perspective,p=i.duration,v=i.animate,y=i.play,m=i.delay,g=0;return ui.createElement("section",{style:{display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":r},Array.from(r).map(function(_,b){var A=ui.createElement("span",{"aria-hidden":!0,style:s,className:l,key:g},_);return v?(g+=1,Number.isNaN(parseInt(_,10))?A:ui.createElement(PR,hp({key:b,height:u,width:c,color:d,background:f,perspective:h,duration:p,play:y,delay:m,numberStyle:a},{position:g,length:r.length,activeNumber:parseInt(_,10),className:o}))):Number.isNaN(parseInt(_,10))?A:ui.createElement("span",{"aria-hidden":!0,style:s||{padding:0},key:g},_)}))}}]),e}(ui.Component);fp(jR,"defaultProps",{perspective:500,duration:.3,animate:!0,play:!1,delay:0,nonNumberStyle:{},numberStyle:{}});mb.FlipNumber=PR;var sV=mb.default=jR;const BR=()=>{const{messagesArray:t}=_d(Z$);return{messagesArray:t}},zR=async t=>{const e=fe(he,`chats/${t}/messages`),n=va(e,Wh("isDeleted"),Xv(!1),Yv(1)),i=await _n(n);return i.exists()?Object.values(i.val())[0]:null},aV=({isMobileScreen:t,avatar:e,chatname:n,isSubscribeLoading:i,locationUid:r})=>{var S;const s=t?"section":"div",{uid:a}=Ji(),[o,l]=x.useState(""),[u,c]=x.useState([]),d=kl(),f=Ln(),{activeChatMembers:h,activeChatIsGroup:p,activeChatId:v,activeChatGroupAdminUrl:y}=Ql(),{isMessagesSelecting:m,selectedMessages:g}=Lm(),{messagesArray:_}=BR(),b=p===!0&&h!==null&&u.length>0&&((S=h.find(T=>T.uid===u[0]))==null?void 0:S.username.slice(0,20))||"";x.useEffect(()=>{var I;let T,D;if(h!==null&&p!==null||r!==null){if(i===!0)l("");else if(i===!1&&p===!1||r!==null){const k=((I=h==null?void 0:h.find(N=>N.uid!==a))==null?void 0:I.uid)||r;if(k){const N=fe(he,`users/${k}/isOnline`);T&&T(),T=Vi(N,L=>{const R=L.val()||!1;R===!1?l(vB):R===!0&&l(qE)},L=>{console.error("Ошибка при получении статуса online:",L)})}}else if(i===!1&&p===!0&&h!==null){const k=h.length,N=k===1?"участник":k>=2&&k<=4?"участника":"участников";l(`${k} ${N}`)}}if(i===!0)c([]);else if(i===!1&&v){const k=fe(he,`chats/${v}/writingUsers`);D=Vi(k,N=>{const L=N.val();if(L){const R=Object.keys(L).filter(O=>O!==a);c(R)}else c([])},N=>{console.error("Ошибка при подписке на writingUsers:",N)})}return()=>{T&&T(),D&&D()}},[h,i,r,v]);const A=()=>{m?f(xa()):d("/chats")},E=async()=>{try{if(h===null||v===null){f(xa());return}const T=fe(he,`userChats/${a}/chats/${v}/lastMessageDateUTC`),D=await _n(T);if(!D.exists())throw new Error("Чат не найден");const I=D.val(),k=g.reduce((R,O)=>(R[`chats/${v}/messages/${O.messageId}/isDeleted`]=!0,R),{});await mt(fe(he),k),f(xa());const N=await zR(v);if(N===null&&p===!1){const R=h.map(V=>V.uid),O={[`chats/${v}/unreadMessages`]:null},P={lastMessageText:"История очищена",lastMessageDateUTC:sl(),lastMessageIsChecked:null,lastMessageSenderUid:a},B={...R.reduce((V,z)=>(V[`userChats/${z}/chats/${v}/lastMessageDateUTC`]=P.lastMessageDateUTC,V[`userChats/${z}/chats/${v}/lastMessageIsChecked`]=P.lastMessageIsChecked,V[`userChats/${z}/chats/${v}/lastMessageSenderUid`]=P.lastMessageSenderUid,V[`userChats/${z}/chats/${v}/lastMessageText`]=P.lastMessageText,V),{}),...O};await mt(fe(he),B);return}if((N==null?void 0:N.messageDateUTC)!==I&&N!==null){const R=h.map(B=>B.uid),O=R.reduce((B,V)=>(g.forEach(z=>{B[`chats/${v}/unreadMessages/${V}/${z.messageId}`]=null}),B),{}),U={...R.reduce((B,V)=>(B[`userChats/${V}/chats/${v}/lastMessageDateUTC`]=N.messageDateUTC,B[`userChats/${V}/chats/${v}/lastMessageIsChecked`]=N.isChecked,B[`userChats/${V}/chats/${v}/lastMessageSenderUid`]=N.senderUid,B[`userChats/${V}/chats/${v}/lastMessageText`]=N.messageText,B),{}),...O};await mt(fe(he),U)}}catch(T){throw console.error("Ошибка удаления сообщения:",T),T}},M=()=>{const T=_.filter(D=>g.some(I=>I.messageId===D.messageId)).filter(D=>D.messageText.trim()!=="").map(D=>D.messageText);navigator.clipboard.writeText(T.join(`

`)),f(xa())},w=()=>{f(_R({isMessagesForwarding:!0})),f(V$({isMessagesSelecting:!1})),d("/chats",{replace:!0})};return C.jsx(s,{className:Ue["chat-top-section"],children:C.jsx("div",{className:t?"container":"container container--max-width-unset",children:C.jsxs("div",{className:Ue["chat-top-section__content"],children:[C.jsxs("div",{className:Ue["chat-top-section__back-wrapper"],children:[C.jsxs("button",{onClick:A,className:Ue["chat-top-section__back-btn"],children:[C.jsx(xR,{className:`${Ue["chat-top-section__back-icon"]} ${m?"":Ue.active}`}),C.jsx(jm,{className:`${Ue["chat-top-section__back-icon"]} ${m?Ue.active:""}`})]}),m&&C.jsx(sV,{numberStyle:{fontFamily:"var(--font-family)",fontWeight:500,whiteSpace:"nowrap",fontVariantNumeric:"tabular-nums"},height:13,width:9,color:"var(--base-black)",play:!0,perspective:100,numbers:`${g.length}`})]}),!m&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:Ue["chat-top-section__middle-wrapper"],children:[C.jsx("span",{className:Ue["chat-top-section__chatname"],children:n}),o.length===0&&C.jsx("span",{className:Ue["chat-top-section__info"],children:C.jsx(u_,{})}),o.length>0&&u.length===0&&C.jsx("span",{className:`${Ue["chat-top-section__info"]} ${o===qE?Ue["chat-top-section__info--active"]:""}`,children:o}),o.length>0&&u.length>0&&p===!1&&C.jsxs("span",{className:`${Ue["chat-top-section__info"]} ${Ue["chat-top-section__info--active"]} ${Ue["chat-top-section__info--loading"]}`,children:[GE,C.jsx(u_,{})]}),o.length>0&&u.length>0&&p===!0&&h&&C.jsx("span",{className:`${Ue["chat-top-section__info"]} ${Ue["chat-top-section__info--active"]}`,children:b.length>0?C.jsxs(C.Fragment,{children:[b," ",GE,C.jsx(u_,{})]}):o})]}),C.jsx(na,{animated:!0,AvatarImg:e})]}),m&&C.jsxs("div",{className:Ue["chat-top-section__selecting-buttons-wrapper"],children:[C.jsx("button",{onClick:M,className:`${Ue["chat-top-section__selecting-button"]} ${Ue["chat-top-section__selecting-button--animated"]} ${_.filter(T=>g.some(D=>D.messageId===T.messageId)).filter(T=>T.messageText.trim()!=="").length>0?Ue.active:""}`,children:C.jsx(AR,{className:Ue["chat-top-section__selecting-icon"]})}),C.jsx("button",{onClick:E,className:`${Ue["chat-top-section__selecting-button"]} ${Ue["chat-top-section__selecting-button--animated"]} ${p===!1||p===!0&&(y===a||g.every(T=>{const D=_.find(I=>I.messageId===T.messageId);return(D==null?void 0:D.senderUid)===a}))?Ue.active:""}`,children:C.jsx(cb,{className:Ue["chat-top-section__selecting-icon"]})}),C.jsx("button",{onClick:w,className:Ue["chat-top-section__selecting-button"],children:C.jsx(DF,{className:Ue["chat-top-section__selecting-icon"]})})]})]})})})},oV="_loading_8tv99_32",lV="_rotate_8tv99_1",si={"chat-messages":"_chat-messages_8tv99_11",loading:oV,"chat-messages__content":"_chat-messages__content_8tv99_35","chat-messages__content--no-messages":"_chat-messages__content--no-messages_8tv99_41","chat-messages__circular-progressbar-wrapper":"_chat-messages__circular-progressbar-wrapper_8tv99_46","chat-messages__circular-progressbar":"_chat-messages__circular-progressbar_8tv99_46",rotate:lV,"chat-messages__scroll-loader":"_chat-messages__scroll-loader_8tv99_61","chat-messages__no-messages":"_chat-messages__no-messages_8tv99_73","chat-messages__overlay-to-bottom-btn":"_chat-messages__overlay-to-bottom-btn_8tv99_79","chat-messages__messages-observer":"_chat-messages__messages-observer_8tv99_89","fade-in":"_fade-in_8tv99_1"},cV="_active_1v2l9_49",d_={"to-bottom-button":"_to-bottom-button_1v2l9_10","to-bottom-button__arrow-icon":"_to-bottom-button__arrow-icon_1v2l9_37",active:cV,"fade-in":"_fade-in_1v2l9_1"},uV=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12C3 11.4477 3.44772 11 4 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H4C3.44772 13 3 12.5523 3 12Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.2929 7.29289C15.6834 6.90237 16.3166 6.90237 16.7071 7.29289L20.7071 11.2929C21.0976 11.6834 21.0976 12.3166 20.7071 12.7071C20.3166 13.0976 19.6834 13.0976 19.2929 12.7071L15.2929 8.70711C14.9024 8.31658 14.9024 7.68342 15.2929 7.29289Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7071 11.2929C21.0976 11.6834 21.0976 12.3166 20.7071 12.7071L16.7071 16.7071C16.3166 17.0976 15.6834 17.0976 15.2929 16.7071C14.9024 16.3166 14.9024 15.6834 15.2929 15.2929L19.2929 11.2929C19.6834 10.9024 20.3166 10.9024 20.7071 11.2929Z",fill:"black"})),dV=({isDualSubscribe:t,onBottomBtnClick:e,chatMessagesRef:n})=>{const[i,r]=x.useState(!1),s=200;return x.useEffect(()=>{const a=n.current;let o=0;const l=()=>{if(a){const{scrollTop:u,clientHeight:c,scrollHeight:d}=a,f=u+c>=d-s,h=o!==0&&o<u;o=u,r(!!(h&&!f))}};return a&&a.addEventListener("scroll",l),()=>{a&&a.removeEventListener("scroll",l)}},[]),C.jsx("button",{className:`${d_["to-bottom-button"]} ${i||t?d_.active:""}`,onClick:e,children:C.jsx(uV,{className:d_["to-bottom-button__arrow-icon"]})})},fV="_active_8xw0j_14",f_={"sticky-date":"_sticky-date_8xw0j_2",active:fV,"sticky-date__span":"_sticky-date__span_8xw0j_17"},hV=({messageData:t,chatMessagesRef:e})=>{const n=x.useRef(null),i=x.useRef(null),[r,s]=x.useState(!1),[a,o]=x.useState(!1);x.useEffect(()=>{let u=null;const c=e.current,d=()=>{n.current&&(s(!0),u&&clearTimeout(u),u=setTimeout(()=>{s(!1)},1e3))};return c&&c.addEventListener("scroll",d),()=>{c&&c.removeEventListener("scroll",d),u&&clearTimeout(u)}},[e]),x.useEffect(()=>{const u=new IntersectionObserver(([c])=>{o(c.isIntersecting)},{threshold:1});return i.current&&u.observe(i.current),()=>{i.current&&u.unobserve(i.current)}},[]);const l=new Date(t.messageDateUTC).toLocaleDateString("ru-RU",{day:"numeric",month:"long"});return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:`${f_["sticky-date"]} ${r||a?f_.active:""}`,ref:n,children:C.jsx("span",{className:f_["sticky-date__span"],children:l})}),C.jsx("div",{ref:i})]})},pV="_message_ljw7g_10",mV="_selecting_ljw7g_17",gV="_message__wrapper_ljw7g_20",_V="_selected_ljw7g_32",vV="_own_ljw7g_41",yV="_border_ljw7g_49",bV="_message__album_ljw7g_68",wV="_message__username_ljw7g_74",EV="_message__text_ljw7g_90",Ze={message:pV,"fade-in":"_fade-in_ljw7g_1",selecting:mV,message__wrapper:gV,selected:_V,"margin-left":"_margin-left_ljw7g_35","margin-top":"_margin-top_ljw7g_38",own:vV,border:yV,message__album:bV,"message__username-wrapper":"_message__username-wrapper_ljw7g_74","message__username-wrapper--befor-media":"_message__username-wrapper--befor-media_ljw7g_77","message__username-wrapper--before-files":"_message__username-wrapper--before-files_ljw7g_80",message__username:wV,"message__text-wrapper":"_message__text-wrapper_ljw7g_90",message__text:EV,"message__files-wrapper":"_message__files-wrapper_ljw7g_114","message__files-wrapper--padding-bottom":"_message__files-wrapper--padding-bottom_ljw7g_120","message__image-info-wrapper":"_message__image-info-wrapper_ljw7g_123","message__text-info-wrapper":"_message__text-info-wrapper_ljw7g_133","message__files-info-wrapper":"_message__files-info-wrapper_ljw7g_141","message__selecting-icon-wrapper":"_message__selecting-icon-wrapper_ljw7g_148","message__selecting-icon":"_message__selecting-icon_ljw7g_148","message__selected-icon":"_message__selected-icon_ljw7g_168"},CV="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",SV="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Ka=(t,e)=>{for(const n in e)t[n]=e[n];return t},C1="numeric",S1="ascii",T1="alpha",ru="asciinumeric",Mc="alphanumeric",x1="domain",HR="emoji",TV="scheme",xV="slashscheme",h_="whitespace";function AV(t,e){return t in e||(e[t]=[]),e[t]}function Aa(t,e,n){e[C1]&&(e[ru]=!0,e[Mc]=!0),e[S1]&&(e[ru]=!0,e[T1]=!0),e[ru]&&(e[Mc]=!0),e[T1]&&(e[Mc]=!0),e[Mc]&&(e[x1]=!0),e[HR]&&(e[x1]=!0);for(const i in e){const r=AV(i,n);r.indexOf(t)<0&&r.push(t)}}function RV(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Sn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Sn.groups={};Sn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],s=e.jr[i][1];if(s&&r.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,i)},tr(t,e,n,i){i=i||Sn.groups;let r;return e&&e.j?r=e:(r=new Sn(e),n&&i&&Aa(e,n,i)),this.jr.push([t,r]),r},ts(t,e,n,i){let r=this;const s=t.length;if(!s)return r;for(let a=0;a<s-1;a++)r=r.tt(t[a]);return r.tt(t[s-1],e,n,i)},tt(t,e,n,i){i=i||Sn.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const s=e;let a,o=r.go(t);if(o?(a=new Sn,Ka(a.j,o.j),a.jr.push.apply(a.jr,o.jr),a.jd=o.jd,a.t=o.t):a=new Sn,s){if(i)if(a.t&&typeof a.t=="string"){const l=Ka(RV(a.t,i),n);Aa(s,l,i)}else n&&Aa(s,n,i);a.t=s}return r.j[t]=a,a}};const be=(t,e,n,i,r)=>t.ta(e,n,i,r),ut=(t,e,n,i,r)=>t.tr(e,n,i,r),XC=(t,e,n,i,r)=>t.ts(e,n,i,r),Q=(t,e,n,i,r)=>t.tt(e,n,i,r),dr="WORD",A1="UWORD",$R="ASCIINUMERICAL",FR="ALPHANUMERICAL",Zu="LOCALHOST",R1="TLD",O1="UTLD",jf="SCHEME",Oo="SLASH_SCHEME",yb="NUM",N1="WS",bb="NL",su="OPENBRACE",au="CLOSEBRACE",mp="OPENBRACKET",gp="CLOSEBRACKET",_p="OPENPAREN",vp="CLOSEPAREN",yp="OPENANGLEBRACKET",bp="CLOSEANGLEBRACKET",wp="FULLWIDTHLEFTPAREN",Ep="FULLWIDTHRIGHTPAREN",Cp="LEFTCORNERBRACKET",Sp="RIGHTCORNERBRACKET",Tp="LEFTWHITECORNERBRACKET",xp="RIGHTWHITECORNERBRACKET",Ap="FULLWIDTHLESSTHAN",Rp="FULLWIDTHGREATERTHAN",Op="AMPERSAND",wb="APOSTROPHE",Np="ASTERISK",ns="AT",Mp="BACKSLASH",Ip="BACKTICK",Dp="CARET",ps="COLON",Eb="COMMA",kp="DOLLAR",xi="DOT",Lp="EQUALS",Cb="EXCLAMATION",qn="HYPHEN",ou="PERCENT",Up="PIPE",Pp="PLUS",jp="POUND",lu="QUERY",Sb="QUOTE",VR="FULLWIDTHMIDDLEDOT",Tb="SEMI",Ai="SLASH",cu="TILDE",Bp="UNDERSCORE",qR="EMOJI",zp="SYM";var GR=Object.freeze({__proto__:null,WORD:dr,UWORD:A1,ASCIINUMERICAL:$R,ALPHANUMERICAL:FR,LOCALHOST:Zu,TLD:R1,UTLD:O1,SCHEME:jf,SLASH_SCHEME:Oo,NUM:yb,WS:N1,NL:bb,OPENBRACE:su,CLOSEBRACE:au,OPENBRACKET:mp,CLOSEBRACKET:gp,OPENPAREN:_p,CLOSEPAREN:vp,OPENANGLEBRACKET:yp,CLOSEANGLEBRACKET:bp,FULLWIDTHLEFTPAREN:wp,FULLWIDTHRIGHTPAREN:Ep,LEFTCORNERBRACKET:Cp,RIGHTCORNERBRACKET:Sp,LEFTWHITECORNERBRACKET:Tp,RIGHTWHITECORNERBRACKET:xp,FULLWIDTHLESSTHAN:Ap,FULLWIDTHGREATERTHAN:Rp,AMPERSAND:Op,APOSTROPHE:wb,ASTERISK:Np,AT:ns,BACKSLASH:Mp,BACKTICK:Ip,CARET:Dp,COLON:ps,COMMA:Eb,DOLLAR:kp,DOT:xi,EQUALS:Lp,EXCLAMATION:Cb,HYPHEN:qn,PERCENT:ou,PIPE:Up,PLUS:Pp,POUND:jp,QUERY:lu,QUOTE:Sb,FULLWIDTHMIDDLEDOT:VR,SEMI:Tb,SLASH:Ai,TILDE:cu,UNDERSCORE:Bp,EMOJI:qR,SYM:zp});const or=/[a-z]/,bc=new RegExp("\\p{L}","u"),p_=new RegExp("\\p{Emoji}","u"),lr=/\d/,m_=/\s/,KC="\r",g_=`
`,OV="️",NV="‍",__="￼";let df=null,ff=null;function MV(t=[]){const e={};Sn.groups=e;const n=new Sn;df==null&&(df=QC(CV)),ff==null&&(ff=QC(SV)),Q(n,"'",wb),Q(n,"{",su),Q(n,"}",au),Q(n,"[",mp),Q(n,"]",gp),Q(n,"(",_p),Q(n,")",vp),Q(n,"<",yp),Q(n,">",bp),Q(n,"（",wp),Q(n,"）",Ep),Q(n,"「",Cp),Q(n,"」",Sp),Q(n,"『",Tp),Q(n,"』",xp),Q(n,"＜",Ap),Q(n,"＞",Rp),Q(n,"&",Op),Q(n,"*",Np),Q(n,"@",ns),Q(n,"`",Ip),Q(n,"^",Dp),Q(n,":",ps),Q(n,",",Eb),Q(n,"$",kp),Q(n,".",xi),Q(n,"=",Lp),Q(n,"!",Cb),Q(n,"-",qn),Q(n,"%",ou),Q(n,"|",Up),Q(n,"+",Pp),Q(n,"#",jp),Q(n,"?",lu),Q(n,'"',Sb),Q(n,"/",Ai),Q(n,";",Tb),Q(n,"~",cu),Q(n,"_",Bp),Q(n,"\\",Mp),Q(n,"・",VR);const i=ut(n,lr,yb,{[C1]:!0});ut(i,lr,i);const r=ut(i,or,$R,{[ru]:!0}),s=ut(i,bc,FR,{[Mc]:!0}),a=ut(n,or,dr,{[S1]:!0});ut(a,lr,r),ut(a,or,a),ut(r,lr,r),ut(r,or,r);const o=ut(n,bc,A1,{[T1]:!0});ut(o,or),ut(o,lr,s),ut(o,bc,o),ut(s,lr,s),ut(s,or),ut(s,bc,s);const l=Q(n,g_,bb,{[h_]:!0}),u=Q(n,KC,N1,{[h_]:!0}),c=ut(n,m_,N1,{[h_]:!0});Q(n,__,c),Q(u,g_,l),Q(u,__,c),ut(u,m_,c),Q(c,KC),Q(c,g_),ut(c,m_,c),Q(c,__,c);const d=ut(n,p_,qR,{[HR]:!0});Q(d,"#"),ut(d,p_,d),Q(d,OV,d);const f=Q(d,NV);Q(f,"#"),ut(f,p_,d);const h=[[or,a],[lr,r]],p=[[or,null],[bc,o],[lr,s]];for(let v=0;v<df.length;v++)Zr(n,df[v],R1,dr,h);for(let v=0;v<ff.length;v++)Zr(n,ff[v],O1,A1,p);Aa(R1,{tld:!0,ascii:!0},e),Aa(O1,{utld:!0,alpha:!0},e),Zr(n,"file",jf,dr,h),Zr(n,"mailto",jf,dr,h),Zr(n,"http",Oo,dr,h),Zr(n,"https",Oo,dr,h),Zr(n,"ftp",Oo,dr,h),Zr(n,"ftps",Oo,dr,h),Aa(jf,{scheme:!0,ascii:!0},e),Aa(Oo,{slashscheme:!0,ascii:!0},e),t=t.sort((v,y)=>v[0]>y[0]?1:-1);for(let v=0;v<t.length;v++){const y=t[v][0],g=t[v][1]?{[TV]:!0}:{[xV]:!0};y.indexOf("-")>=0?g[x1]=!0:or.test(y)?lr.test(y)?g[ru]=!0:g[S1]=!0:g[C1]=!0,XC(n,y,y,g)}return XC(n,"localhost",Zu,{ascii:!0}),n.jd=new Sn(zp),{start:n,tokens:Ka({groups:e},GR)}}function WR(t,e){const n=IV(e.replace(/[A-Z]/g,o=>o.toLowerCase())),i=n.length,r=[];let s=0,a=0;for(;a<i;){let o=t,l=null,u=0,c=null,d=-1,f=-1;for(;a<i&&(l=o.go(n[a]));)o=l,o.accepts()?(d=0,f=0,c=o):d>=0&&(d+=n[a].length,f++),u+=n[a].length,s+=n[a].length,a++;s-=d,a-=f,u-=d,r.push({t:c.t,v:e.slice(s-u,s),s:s-u,e:s})}return r}function IV(t){const e=[],n=t.length;let i=0;for(;i<n;){let r=t.charCodeAt(i),s,a=r<55296||r>56319||i+1===n||(s=t.charCodeAt(i+1))<56320||s>57343?t[i]:t.slice(i,i+2);e.push(a),i+=a.length}return e}function Zr(t,e,n,i,r){let s;const a=e.length;for(let o=0;o<a-1;o++){const l=e[o];t.j[l]?s=t.j[l]:(s=new Sn(i),s.jr=r.slice(),t.j[l]=s),t=s}return s=new Sn(n),s.jr=r.slice(),t.j[e[a-1]]=s,s}function QC(t){const e=[],n=[];let i=0,r="0123456789";for(;i<t.length;){let s=0;for(;r.indexOf(t[i+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(i,i+s),10);a>0;a--)n.pop();i+=s}else n.push(t[i]),i++}return e}const Ol={defaultProtocol:"http",events:null,format:ZC,formatHref:ZC,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function zm(t,e=null){let n=Ka({},Ol);t&&(n=Ka(n,t instanceof zm?t.o:t));const i=n.ignoreTags,r=[];for(let s=0;s<i.length;s++)r.push(i[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}zm.prototype={o:Ol,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:Ol[t],typeof r=="function"&&i&&(r=r(e,n))):typeof r=="function"&&i&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function ZC(t){return t}var YR=Object.freeze({__proto__:null,defaults:Ol,Options:zm,assign:Ka});function XR(t,e){this.t="token",this.v=t,this.tk=e}XR.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"…":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Ol.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),r=t.get("tagName",n,e),s=this.toFormattedString(t),a={},o=t.get("className",n,e),l=t.get("target",n,e),u=t.get("rel",n,e),c=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return a.href=i,o&&(a.class=o),l&&(a.target=l),u&&(a.rel=u),c&&Ka(a,c),{tagName:r,attributes:a,content:s,eventListeners:d}}};function Hm(t,e){class n extends XR{constructor(r,s){super(r,s),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const JC=Hm("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),eS=Hm("text"),DV=Hm("nl"),hf=Hm("url",{isLink:!0,toHref(t=Ol.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Zu&&t[1].t===ps}}),$n=t=>new Sn(t);function kV({groups:t}){const e=t.domain.concat([Op,Np,ns,Mp,Ip,Dp,kp,Lp,qn,yb,ou,Up,Pp,jp,Ai,zp,cu,Bp]),n=[ps,Eb,xi,Cb,ou,lu,Sb,Tb,yp,bp,su,au,gp,mp,_p,vp,wp,Ep,Cp,Sp,Tp,xp,Ap,Rp],i=[Op,wb,Np,Mp,Ip,Dp,kp,Lp,qn,su,au,ou,Up,Pp,jp,lu,Ai,zp,cu,Bp],r=$n(),s=Q(r,cu);be(s,i,s),be(s,t.domain,s);const a=$n(),o=$n(),l=$n();be(r,t.domain,a),be(r,t.scheme,o),be(r,t.slashscheme,l),be(a,i,s),be(a,t.domain,a);const u=Q(a,ns);Q(s,ns,u),Q(o,ns,u),Q(l,ns,u);const c=Q(s,xi);be(c,i,s),be(c,t.domain,s);const d=$n();be(u,t.domain,d),be(d,t.domain,d);const f=Q(d,xi);be(f,t.domain,d);const h=$n(JC);be(f,t.tld,h),be(f,t.utld,h),Q(u,Zu,h);const p=Q(d,qn);Q(p,qn,p),be(p,t.domain,d),be(h,t.domain,d),Q(h,xi,f),Q(h,qn,p);const v=Q(h,ps);be(v,t.numeric,JC);const y=Q(a,qn),m=Q(a,xi);Q(y,qn,y),be(y,t.domain,a),be(m,i,s),be(m,t.domain,a);const g=$n(hf);be(m,t.tld,g),be(m,t.utld,g),be(g,t.domain,a),be(g,i,s),Q(g,xi,m),Q(g,qn,y),Q(g,ns,u);const _=Q(g,ps),b=$n(hf);be(_,t.numeric,b);const A=$n(hf),E=$n();be(A,e,A),be(A,n,E),be(E,e,A),be(E,n,E),Q(g,Ai,A),Q(b,Ai,A);const M=Q(o,ps),w=Q(l,ps),S=Q(w,Ai),T=Q(S,Ai);be(o,t.domain,a),Q(o,xi,m),Q(o,qn,y),be(l,t.domain,a),Q(l,xi,m),Q(l,qn,y),be(M,t.domain,A),Q(M,Ai,A),Q(M,lu,A),be(T,t.domain,A),be(T,e,A),Q(T,Ai,A);const D=[[su,au],[mp,gp],[_p,vp],[yp,bp],[wp,Ep],[Cp,Sp],[Tp,xp],[Ap,Rp]];for(let I=0;I<D.length;I++){const[k,N]=D[I],L=Q(A,k);Q(E,k,L),Q(L,N,A);const R=$n(hf);be(L,e,R);const O=$n();be(L,n),be(R,e,R),be(R,n,O),be(O,e,R),be(O,n,O),Q(R,N,A),Q(O,N,A)}return Q(r,Zu,g),Q(r,bb,DV),{start:r,tokens:GR}}function LV(t,e,n){let i=n.length,r=0,s=[],a=[];for(;r<i;){let o=t,l=null,u=null,c=0,d=null,f=-1;for(;r<i&&!(l=o.go(n[r].t));)a.push(n[r++]);for(;r<i&&(u=l||o.go(n[r].t));)l=null,o=u,o.accepts()?(f=0,d=o):f>=0&&f++,r++,c++;if(f<0)r-=c,r<i&&(a.push(n[r]),r++);else{a.length>0&&(s.push(v_(eS,e,a)),a=[]),r-=f,c-=f;const h=d.t,p=n.slice(r-c,r);s.push(v_(h,e,p))}}return a.length>0&&s.push(v_(eS,e,a)),s}function v_(t,e,n){const i=n[0].s,r=n[n.length-1].e,s=e.slice(i,r);return new t(s,n)}const qt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function UV(){qt.scanner=MV(qt.customSchemes);for(let t=0;t<qt.tokenQueue.length;t++)qt.tokenQueue[t][1]({scanner:qt.scanner});qt.parser=kV(qt.scanner.tokens);for(let t=0;t<qt.pluginQueue.length;t++)qt.pluginQueue[t][1]({scanner:qt.scanner,parser:qt.parser});return qt.initialized=!0,qt}function KR(t){return qt.initialized||UV(),LV(qt.parser.start,t,WR(qt.scanner.start,t))}KR.scan=WR;function PV(t,e,n){const i=KR(t),r=[];for(let s=0;s<i.length;s++){const a=i[s];if(a.t==="nl"&&e.get("nl2br")){const o=`__linkify-el-${n.elementId++}`;r.push(x.createElement("br",{key:o}))}else if(!a.isLink||!e.check(a))r.push(a.toString());else{let o=e.render(a);if(!("key"in o.props)){const l=`__linkify-el-${n.elementId++}`,u=YR.assign({key:l},o.props);o=x.cloneElement(o,u)}r.push(o)}}return r}function QR(t,e,n){if(x.Children.count(t.props.children)===0)return t;const i=[];x.Children.forEach(t.props.children,a=>{typeof a=="string"?i.push.apply(i,PV(a,e,n)):x.isValidElement(a)?typeof a.type=="string"&&e.ignoreTags.indexOf(a.type.toUpperCase())>=0?i.push(a):i.push(QR(a,e,n)):i.push(a)});const r=`__linkify-el-${n.elementId++}`,s=YR.assign({key:r},t.props);return x.cloneElement(t,s,i)}const jV=t=>{let e=0;const n=({tagName:l,attributes:u,content:c})=>(u.key=`__linkify-lnk-${e++}`,u.class&&(u.className=u.class,delete u.class),x.createElement(l,u,c)),i={key:"__linkify-wrapper"};for(const l in t)l!=="options"&&l!=="as"&&l!=="tagName"&&l!=="children"&&(i[l]=t[l]);const r=new zm(t.options,n),s=t.as||t.tagName||x.Fragment||"span",a=t.children,o=x.createElement(s,i,a);return QR(o,r,{elementId:0})},wc={"media-item-wrapper":"_media-item-wrapper_1063d_10","media-item":"_media-item_1063d_10","media-item__play-icon-wrapper":"_media-item__play-icon-wrapper_1063d_36","media-item__play-icon":"_media-item__play-icon_1063d_36","fade-in":"_fade-in_1063d_1"};function tS(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function xb(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:tS(e[n])&&tS(t[n])&&Object.keys(e[n]).length>0&&xb(t[n],e[n])})}const ZR={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Zl(){const t=typeof document<"u"?document:{};return xb(t,ZR),t}const BV={document:ZR,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Un(){const t=typeof window<"u"?window:{};return xb(t,BV),t}function zV(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function HV(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function M1(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Hp(){return Date.now()}function $V(t){const e=Un();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function FV(t,e){e===void 0&&(e="x");const n=Un();let i,r,s;const a=$V(t);return n.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(o=>o.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(r==="none"?"":r)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(n.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function pf(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function VV(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Cn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(i!=null&&!VV(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,a=r.length;s<a;s+=1){const o=r[s],l=Object.getOwnPropertyDescriptor(i,o);l!==void 0&&l.enumerable&&(pf(t[o])&&pf(i[o])?i[o].__swiper__?t[o]=i[o]:Cn(t[o],i[o]):!pf(t[o])&&pf(i[o])?(t[o]={},i[o].__swiper__?t[o]=i[o]:Cn(t[o],i[o])):t[o]=i[o])}}}return t}function mf(t,e,n){t.style.setProperty(e,n)}function JR(t){let{swiper:e,targetPosition:n,side:i}=t;const r=Un(),s=-e.translate;let a=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const u=n>s?"next":"prev",c=(f,h)=>u==="next"&&f>=h||u==="prev"&&f<=h,d=()=>{o=new Date().getTime(),a===null&&(a=o);const f=Math.max(Math.min((o-a)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=s+h*(n-s);if(c(p,n)&&(p=n),e.wrapperEl.scrollTo({[i]:p}),c(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:p})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(d)};d()}function Pi(t,e){e===void 0&&(e="");const n=[...t.children];return t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(i=>i.matches(e)):n}function qV(t,e){const n=e.contains(t);return!n&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(t):n}function $p(t){try{console.warn(t);return}catch{}}function Fp(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:zV(e)),n}function GV(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function WV(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}function Es(t,e){return Un().getComputedStyle(t,null).getPropertyValue(e)}function nS(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function YV(t,e){const n=[];let i=t.parentElement;for(;i;)n.push(i),i=i.parentElement;return n}function iS(t,e,n){const i=Un();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function cr(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let y_;function XV(){const t=Un(),e=Zl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function eO(){return y_||(y_=XV()),y_}let b_;function KV(t){let{userAgent:e}=t===void 0?{}:t;const n=eO(),i=Un(),r=i.navigator.platform,s=e||i.navigator.userAgent,a={ios:!1,android:!1},o=i.screen.width,l=i.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=r==="Win32";let p=r==="MacIntel";const v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&p&&n.touch&&v.indexOf(`${o}x${l}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),u&&!h&&(a.os="android",a.android=!0),(c||f||d)&&(a.os="ios",a.ios=!0),a}function tO(t){return t===void 0&&(t={}),b_||(b_=KV(t)),b_}let w_;function QV(){const t=Un(),e=tO();let n=!1;function i(){const o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(i()){const o=String(t.navigator.userAgent);if(o.includes("Version/")){const[l,u]=o.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));n=l<16||l===16&&u<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=i(),a=s||r&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:a,isWebView:r}}function ZV(){return w_||(w_=QV()),w_}function JV(t){let{swiper:e,on:n,emit:i}=t;const r=Un();let s=null,a=null;const o=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{a=r.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,v=h;d.forEach(y=>{let{contentBoxSize:m,contentRect:g,target:_}=y;_&&_!==e.el||(p=g?g.width:(m[0]||m).inlineSize,v=g?g.height:(m[0]||m).blockSize)}),(p!==f||v!==h)&&o()})}),s.observe(e.el))},u=()=>{a&&r.cancelAnimationFrame(a),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},c=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",c)}),n("destroy",()=>{u(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",c)})}function eq(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const s=[],a=Un(),o=function(c,d){d===void 0&&(d={});const f=a.MutationObserver||a.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){r("observerUpdate",p[0]);return}const v=function(){r("observerUpdate",p[0])};a.requestAnimationFrame?a.requestAnimationFrame(v):a.setTimeout(v,0)});h.observe(c,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const c=YV(e.hostEl);for(let d=0;d<c.length;d+=1)o(c[d])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",u)}var tq={on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=n?"unshift":"push";return t.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];e.apply(i,a)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),i=t):(e=s[0].events,n=s[0].data,i=s[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(i,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(i,n)})}),t}};function nq(){const t=this;let e,n;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=i.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Es(i,"padding-left")||0,10)-parseInt(Es(i,"padding-right")||0,10),n=n-parseInt(Es(i,"padding-top")||0,10)-parseInt(Es(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function iq(){const t=this;function e(T,D){return parseFloat(T.getPropertyValue(t.getDirectionLabel(D))||0)}const n=t.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:a,wrongRTL:o}=t,l=t.virtual&&n.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,c=Pi(r,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:c.length;let f=[];const h=[],p=[];let v=n.slidesOffsetBefore;typeof v=="function"&&(v=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const m=t.snapGrid.length,g=t.slidesGrid.length;let _=n.spaceBetween,b=-v,A=0,E=0;if(typeof s>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*s:typeof _=="string"&&(_=parseFloat(_)),t.virtualSize=-_,c.forEach(T=>{a?T.style.marginLeft="":T.style.marginRight="",T.style.marginBottom="",T.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(mf(i,"--swiper-centered-offset-before",""),mf(i,"--swiper-centered-offset-after",""));const M=n.grid&&n.grid.rows>1&&t.grid;M?t.grid.initSlides(c):t.grid&&t.grid.unsetSlides();let w;const S=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(T=>typeof n.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<d;T+=1){w=0;let D;if(c[T]&&(D=c[T]),M&&t.grid.updateSlide(T,D,c),!(c[T]&&Es(D,"display")==="none")){if(n.slidesPerView==="auto"){S&&(c[T].style[t.getDirectionLabel("width")]="");const I=getComputedStyle(D),k=D.style.transform,N=D.style.webkitTransform;if(k&&(D.style.transform="none"),N&&(D.style.webkitTransform="none"),n.roundLengths)w=t.isHorizontal()?iS(D,"width"):iS(D,"height");else{const L=e(I,"width"),R=e(I,"padding-left"),O=e(I,"padding-right"),P=e(I,"margin-left"),U=e(I,"margin-right"),B=I.getPropertyValue("box-sizing");if(B&&B==="border-box")w=L+P+U;else{const{clientWidth:V,offsetWidth:z}=D;w=L+R+O+P+U+(z-V)}}k&&(D.style.transform=k),N&&(D.style.webkitTransform=N),n.roundLengths&&(w=Math.floor(w))}else w=(s-(n.slidesPerView-1)*_)/n.slidesPerView,n.roundLengths&&(w=Math.floor(w)),c[T]&&(c[T].style[t.getDirectionLabel("width")]=`${w}px`);c[T]&&(c[T].swiperSlideSize=w),p.push(w),n.centeredSlides?(b=b+w/2+A/2+_,A===0&&T!==0&&(b=b-s/2-_),T===0&&(b=b-s/2-_),Math.abs(b)<1/1e3&&(b=0),n.roundLengths&&(b=Math.floor(b)),E%n.slidesPerGroup===0&&f.push(b),h.push(b)):(n.roundLengths&&(b=Math.floor(b)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&f.push(b),h.push(b),b=b+w+_),t.virtualSize+=w+_,A=w,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+y,a&&o&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+_}px`),n.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+_}px`),M&&t.grid.updateWrapperSize(w,f),!n.centeredSlides){const T=[];for(let D=0;D<f.length;D+=1){let I=f[D];n.roundLengths&&(I=Math.floor(I)),f[D]<=t.virtualSize-s&&T.push(I)}f=T,Math.floor(t.virtualSize-s)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-s)}if(l&&n.loop){const T=p[0]+_;if(n.slidesPerGroup>1){const D=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),I=T*n.slidesPerGroup;for(let k=0;k<D;k+=1)f.push(f[f.length-1]+I)}for(let D=0;D<t.virtual.slidesBefore+t.virtual.slidesAfter;D+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+T),h.push(h[h.length-1]+T),t.virtualSize+=T}if(f.length===0&&(f=[0]),_!==0){const T=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");c.filter((D,I)=>!n.cssMode||n.loop?!0:I!==c.length-1).forEach(D=>{D.style[T]=`${_}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let T=0;p.forEach(I=>{T+=I+(_||0)}),T-=_;const D=T>s?T-s:0;f=f.map(I=>I<=0?-v:I>D?D+y:I)}if(n.centerInsufficientSlides){let T=0;p.forEach(I=>{T+=I+(_||0)}),T-=_;const D=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(T+D<s){const I=(s-T-D)/2;f.forEach((k,N)=>{f[N]=k-I}),h.forEach((k,N)=>{h[N]=k+I})}}if(Object.assign(t,{slides:c,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){mf(i,"--swiper-centered-offset-before",`${-f[0]}px`),mf(i,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const T=-t.snapGrid[0],D=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(I=>I+T),t.slidesGrid=t.slidesGrid.map(I=>I+D)}if(d!==u&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==g&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const T=`${n.containerModifierClass}backface-hidden`,D=t.el.classList.contains(T);d<=n.maxBackfaceHiddenSlides?D||t.el.classList.add(T):D&&t.el.classList.remove(T)}}function rq(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=o=>i?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{n.push(o)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const o=e.activeIndex+s;if(o>e.slides.length&&!i)break;n.push(a(o))}else n.push(a(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const o=n[s].offsetHeight;r=o>r?o:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function sq(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()}const rS=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function aq(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;r&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=n.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<i.length;l+=1){const u=i[l];let c=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=i[0].swiperSlideOffset);const d=(a+(n.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+o),f=(a-s[0]+(n.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+o),h=-(a-c),p=h+e.slidesSizesGrid[l],v=h>=0&&h<=e.size-e.slidesSizesGrid[l],y=h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size;y&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l)),rS(u,y,n.slideVisibleClass),rS(u,v,n.slideFullyVisibleClass),u.progress=r?-d:d,u.originalProgress=r?-f:f}}function oq(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:a,progressLoop:o}=e;const l=s,u=a;if(i===0)r=0,s=!0,a=!0;else{r=(t-e.minTranslate())/i;const c=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;s=c||r<=0,a=d||r>=1,c&&(r=0),d&&(r=1)}if(n.loop){const c=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[c],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=f?o=(v-f)/p:o=(v+p-h)/p,o>1&&(o-=1)}Object.assign(e,{progress:r,progressLoop:o,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(l&&!s||u&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}const E_=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function lq(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,s=t.virtual&&n.virtual.enabled,a=t.grid&&n.grid&&n.grid.rows>1,o=d=>Pi(i,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let l,u,c;if(s)if(n.loop){let d=r-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),l=o(`[data-swiper-slide-index="${d}"]`)}else l=o(`[data-swiper-slide-index="${r}"]`);else a?(l=e.filter(d=>d.column===r)[0],c=e.filter(d=>d.column===r+1)[0],u=e.filter(d=>d.column===r-1)[0]):l=e[r];l&&(a||(c=WV(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c&&(c=e[0]),u=GV(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(d=>{E_(d,d===l,n.slideActiveClass),E_(d,d===c,n.slideNextClass),E_(d,d===u,n.slidePrevClass)}),t.emitSlidesClasses()}const Bf=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(n());if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},C_=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},I1=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=r,o=[a-e];o.push(...Array.from({length:e}).map((l,u)=>a+i+u)),t.slides.forEach((l,u)=>{o.includes(l.column)&&C_(t,u)});return}const s=r+i-1;if(t.params.rewind||t.params.loop)for(let a=r-e;a<=s+e;a+=1){const o=(a%n+n)%n;(o<r||o>s)&&C_(t,o)}else for(let a=Math.max(r-e,0);a<=Math.min(s+e,n-1);a+=1)a!==r&&(a>s||a<r)&&C_(t,a)};function cq(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function uq(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:a,snapIndex:o}=e;let l=t,u;const c=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=cq(e)),i.indexOf(n)>=0)u=i.indexOf(n);else{const h=Math.min(r.slidesPerGroupSkip,l);u=h+Math.floor((l-h)/r.slidesPerGroup)}if(u>=i.length&&(u=i.length-1),l===s&&!e.params.loop){u!==o&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=c(l);return}const d=e.grid&&r.grid&&r.grid.rows>1;let f;if(e.virtual&&r.virtual.enabled&&r.loop)f=c(l);else if(d){const h=e.slides.filter(v=>v.column===l)[0];let p=parseInt(h.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(h),0)),f=Math.floor(p/r.grid.rows)}else if(e.slides[l]){const h=e.slides[l].getAttribute("data-swiper-slide-index");h?f=parseInt(h,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:o,snapIndex:u,previousRealIndex:a,realIndex:f,previousIndex:s,activeIndex:l}),e.initialized&&I1(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function dq(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(o=>{!r&&o.matches&&o.matches(`.${i.slideClass}, swiper-slide`)&&(r=o)});let s=!1,a;if(r){for(let o=0;o<n.slides.length;o+=1)if(n.slides[o]===r){s=!0,a=o;break}}if(r&&s)n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}i.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var fq={updateSize:nq,updateSlides:iq,updateAutoHeight:rq,updateSlidesOffset:sq,updateSlidesProgress:aq,updateProgress:oq,updateSlidesClasses:lq,updateActiveIndex:uq,updateClickedSlide:dq};function hq(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let a=FV(s,t);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function pq(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:a}=n;let o=0,l=0;const u=0;n.isHorizontal()?o=i?-t:t:l=t,r.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?o:l,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-o:-l:r.virtualTranslate||(n.isHorizontal()?o-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${o}px, ${l}px, ${u}px)`);let c;const d=n.maxTranslate()-n.minTranslate();d===0?c=0:c=(t-n.minTranslate())/d,c!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function mq(){return-this.snapGrid[0]}function gq(){return-this.snapGrid[this.snapGrid.length-1]}function _q(t,e,n,i,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),i===void 0&&(i=!0);const s=this,{params:a,wrapperEl:o}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const l=s.minTranslate(),u=s.maxTranslate();let c;if(i&&t>l?c=l:i&&t<u?c=u:c=t,s.updateProgress(c),a.cssMode){const d=s.isHorizontal();if(e===0)o[d?"scrollLeft":"scrollTop"]=-c;else{if(!s.support.smoothScroll)return JR({swiper:s,targetPosition:-c,side:d?"left":"top"}),!0;o.scrollTo({[d?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(c),n&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(f){!s||s.destroyed||f.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var vq={getTranslate:hq,setTranslate:pq,minTranslate:mq,maxTranslate:gq,translateTo:_q};function yq(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function nO(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:s,previousIndex:a}=e;let o=i;if(o||(s>a?o="next":s<a?o="prev":o="reset"),e.emit(`transition${r}`),n&&s!==a){if(o==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),o==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function bq(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),nO({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function wq(t,e){t===void 0&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),nO({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var Eq={setTransition:yq,transitionStart:bq,transitionEnd:wq};function Cq(t,e,n,i,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let a=t;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:u,previousIndex:c,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=s;if(!p&&!i&&!r||s.destroyed||s.animating&&o.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const v=Math.min(s.params.slidesPerGroupSkip,a);let y=v+Math.floor((a-v)/s.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const m=-l[y];if(o.normalizeSlideIndex)for(let A=0;A<u.length;A+=1){const E=-Math.floor(m*100),M=Math.floor(u[A]*100),w=Math.floor(u[A+1]*100);typeof u[A+1]<"u"?E>=M&&E<w-(w-M)/2?a=A:E>=M&&E<w&&(a=A+1):E>=M&&(a=A)}if(s.initialized&&a!==d&&(!s.allowSlideNext&&(f?m>s.translate&&m>s.minTranslate():m<s.translate&&m<s.minTranslate())||!s.allowSlidePrev&&m>s.translate&&m>s.maxTranslate()&&(d||0)!==a))return!1;a!==(c||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(m);let g;a>d?g="next":a<d?g="prev":g="reset";const _=s.virtual&&s.params.virtual.enabled;if(!(_&&r)&&(f&&-m===s.translate||!f&&m===s.translate))return s.updateActiveIndex(a),o.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),o.effect!=="slide"&&s.setTranslate(m),g!=="reset"&&(s.transitionStart(n,g),s.transitionEnd(n,g)),!1;if(o.cssMode){const A=s.isHorizontal(),E=f?m:-m;if(e===0)_&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),_&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[A?"scrollLeft":"scrollTop"]=E})):h[A?"scrollLeft":"scrollTop"]=E,_&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return JR({swiper:s,targetPosition:E,side:A?"left":"top"}),!0;h.scrollTo({[A?"left":"top"]:E,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(m),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(n,g),e===0?s.transitionEnd(n,g):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(E){!s||s.destroyed||E.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,g))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function Sq(t,e,n,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let a=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)a=a+r.virtual.slidesBefore;else{let o;if(s){const f=a*r.params.grid.rows;o=r.slides.filter(h=>h.getAttribute("data-swiper-slide-index")*1===f)[0].column}else o=r.getSlideIndexByData(a);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:u}=r.params;let c=r.params.slidesPerView;c==="auto"?c=r.slidesPerViewDynamic():(c=Math.ceil(parseFloat(r.params.slidesPerView,10)),u&&c%2===0&&(c=c+1));let d=l-o<c;if(u&&(d=d||o<Math.ceil(c/2)),i&&u&&r.params.slidesPerView!=="auto"&&!s&&(d=!1),d){const f=u?o<r.activeIndex?"prev":"next":o-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?o+1:o-l+1,slideRealIndex:f==="next"?r.realIndex:void 0})}if(s){const f=a*r.params.grid.rows;a=r.slides.filter(h=>h.getAttribute("data-swiper-slide-index")*1===f)[0].column}else a=r.getSlideIndexByData(a)}return requestAnimationFrame(()=>{r.slideTo(a,e,n,i)}),r}function Tq(t,e,n){e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:a}=i;if(!r||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let o=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:o,u=i.virtual&&s.virtual.enabled;if(s.loop){if(a&&!u&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,t,e,n)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+l,t,e,n)}function xq(t,e,n){e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:a,rtlTranslate:o,enabled:l,animating:u}=i;if(!l||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const c=i.virtual&&r.virtual.enabled;if(r.loop){if(u&&!c&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=o?i.translate:-i.translate;function f(m){return m<0?-Math.floor(Math.abs(m)):Math.floor(m)}const h=f(d),p=s.map(m=>f(m));let v=s[p.indexOf(h)-1];if(typeof v>"u"&&r.cssMode){let m;s.forEach((g,_)=>{h>=g&&(m=_)}),typeof m<"u"&&(v=s[m>0?m-1:m])}let y=0;if(typeof v<"u"&&(y=a.indexOf(v),y<0&&(y=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(y=y-i.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),r.rewind&&i.isBeginning){const m=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(m,t,e,n)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(y,t,e,n)}),!0;return i.slideTo(y,t,e,n)}function Aq(t,e,n){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,n)}function Rq(t,e,n,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let s=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,s),o=a+Math.floor((s-a)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[o]){const u=r.snapGrid[o],c=r.snapGrid[o+1];l-u>(c-u)*i&&(s+=r.params.slidesPerGroup)}else{const u=r.snapGrid[o-1],c=r.snapGrid[o];l-u<=(c-u)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,t,e,n)}function Oq(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.clickedIndex,s;const a=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(Pi(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),M1(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(Pi(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),M1(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var Nq={slideTo:Cq,slideToLoop:Sq,slideNext:Tq,slidePrev:xq,slideReset:Aq,slideToClosest:Rq,slideToClickedSlide:Oq};function Mq(t){const e=this,{params:n,slidesEl:i}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const r=()=>{Pi(i,`.${n.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},s=e.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(s?n.grid.rows:1),o=e.slides.length%a!==0,l=s&&e.slides.length%n.grid.rows!==0,u=c=>{for(let d=0;d<c;d+=1){const f=e.isElement?Fp("swiper-slide",[n.slideBlankClass]):Fp("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(f)}};if(o){if(n.loopAddBlankSlides){const c=a-e.slides.length%a;u(c),e.recalcSlides(),e.updateSlides()}else $p("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(l){if(n.loopAddBlankSlides){const c=n.grid.rows-e.slides.length%n.grid.rows;u(c),e.recalcSlides(),e.updateSlides()}else $p("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function Iq(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:a,byMousewheel:o}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:c,allowSlideNext:d,slidesEl:f,params:h}=l,{centeredSlides:p}=h;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){n&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=c,l.allowSlideNext=d,l.emit("loopFix");return}let v=h.slidesPerView;v==="auto"?v=l.slidesPerViewDynamic():(v=Math.ceil(parseFloat(h.slidesPerView,10)),p&&v%2===0&&(v=v+1));const y=h.slidesPerGroupAuto?v:h.slidesPerGroup;let m=y;m%y!==0&&(m+=y-m%y),m+=h.loopAdditionalSlides,l.loopedSlides=m;const g=l.grid&&h.grid&&h.grid.rows>1;u.length<v+m?$p("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):g&&h.grid.fill==="row"&&$p("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const _=[],b=[];let A=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(u.filter(k=>k.classList.contains(h.slideActiveClass))[0]):A=s;const E=i==="next"||!i,M=i==="prev"||!i;let w=0,S=0;const T=g?Math.ceil(u.length/h.grid.rows):u.length,I=(g?u[s].column:s)+(p&&typeof r>"u"?-v/2+.5:0);if(I<m){w=Math.max(m-I,y);for(let k=0;k<m-I;k+=1){const N=k-Math.floor(k/T)*T;if(g){const L=T-N-1;for(let R=u.length-1;R>=0;R-=1)u[R].column===L&&_.push(R)}else _.push(T-N-1)}}else if(I+v>T-m){S=Math.max(I-(T-m*2),y);for(let k=0;k<S;k+=1){const N=k-Math.floor(k/T)*T;g?u.forEach((L,R)=>{L.column===N&&b.push(R)}):b.push(N)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),M&&_.forEach(k=>{u[k].swiperLoopMoveDOM=!0,f.prepend(u[k]),u[k].swiperLoopMoveDOM=!1}),E&&b.forEach(k=>{u[k].swiperLoopMoveDOM=!0,f.append(u[k]),u[k].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"?l.updateSlides():g&&(_.length>0&&M||b.length>0&&E)&&l.slides.forEach((k,N)=>{l.grid.updateSlide(N,k,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),n){if(_.length>0&&M){if(typeof e>"u"){const k=l.slidesGrid[A],L=l.slidesGrid[A+w]-k;o?l.setTranslate(l.translate-L):(l.slideTo(A+Math.ceil(w),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-L,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-L))}else if(r){const k=g?_.length/h.grid.rows:_.length;l.slideTo(l.activeIndex+k,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(b.length>0&&E)if(typeof e>"u"){const k=l.slidesGrid[A],L=l.slidesGrid[A-S]-k;o?l.setTranslate(l.translate-L):(l.slideTo(A-S,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-L,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-L))}else{const k=g?b.length/h.grid.rows:b.length;l.slideTo(l.activeIndex-k,0,!1,!0)}}if(l.allowSlidePrev=c,l.allowSlideNext=d,l.controller&&l.controller.control&&!a){const k={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(N=>{!N.destroyed&&N.params.loop&&N.loopFix({...k,slideTo:N.params.slidesPerView===h.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...k,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?n:!1})}l.emit("loopFix")}function Dq(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var kq={loopCreate:Mq,loopFix:Iq,loopDestroy:Dq};function Lq(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Uq(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Pq={setGrabCursor:Lq,unsetGrabCursor:Uq};function jq(t,e){e===void 0&&(e=this);function n(i){if(!i||i===Zl()||i===Un())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return!r&&!i.getRootNode?null:r||n(i.getRootNode().host)}return n(e)}function sS(t,e,n){const i=Un(),{params:r}=t,s=r.edgeSwipeDetection,a=r.edgeSwipeThreshold;return s&&(n<=a||n>=i.innerWidth-a)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function Bq(t){const e=this,n=Zl();let i=t;i.originalEvent&&(i=i.originalEvent);const r=e.touchEventsData;if(i.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(r.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){sS(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:o}=e;if(!o||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=i.target;if(s.touchEventsTarget==="wrapper"&&!qV(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",c=i.composedPath?i.composedPath():i.path;u&&i.target&&i.target.shadowRoot&&c&&(l=c[0]);const d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,f=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(f?jq(d,l):l.closest(d))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;const h=a.currentX,p=a.currentY;if(!sS(e,i,h))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=h,a.startY=p,r.touchStartTime=Hp(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let v=!0;l.matches(r.focusableElements)&&(v=!1,l.nodeName==="SELECT"&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!l.matches(r.focusableElements))&&n.activeElement.blur();const y=v&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||y)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function zq(t){const e=Zl(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:a,enabled:o}=n;if(!o||!r.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].filter(E=>E.identifier===i.touchId)[0],!u||u.identifier!==i.touchId)return}else u=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",l);return}const c=u.pageX,d=u.pageY;if(l.preventedByNestedSwiper){s.startX=c,s.startY=d;return}if(!n.allowTouchMove){l.target.matches(i.focusableElements)||(n.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:c,startY:d,currentX:c,currentY:d}),i.touchStartTime=Hp());return}if(r.touchReleaseOnEdges&&!r.loop){if(n.isVertical()){if(d<s.startY&&n.translate<=n.maxTranslate()||d>s.startY&&n.translate>=n.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(c<s.startX&&n.translate<=n.maxTranslate()||c>s.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,n.allowClick=!1;return}i.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=c,s.currentY=d;const f=s.currentX-s.startX,h=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(f**2+h**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let E;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:f*f+h*h>=25&&(E=Math.atan2(Math.abs(h),Math.abs(f))*180/Math.PI,i.isScrolling=n.isHorizontal()?E>r.touchAngle:90-E>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let p=n.isHorizontal()?f:h,v=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(p=Math.abs(p)*(a?1:-1),v=Math.abs(v)*(a?1:-1)),s.diff=p,p*=r.touchRatio,a&&(p=-p,v=-v);const y=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const m=n.params.loop&&!r.cssMode,g=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!i.isMoved){if(m&&g&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(E)}i.allowMomentumBounce=!1,r.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}let _;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&y!==n.touchesDirection&&m&&g&&Math.abs(p)>=1){Object.assign(s,{startX:c,startY:d,currentX:c,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}n.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=p+i.startTranslate;let b=!0,A=r.resistanceRatio;if(r.touchReleaseOnEdges&&(A=0),p>0?(m&&g&&!_&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(b=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+p)**A))):p<0&&(m&&g&&!_&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(r.slidesPerView!=="auto"&&n.slides.length-r.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(r.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(b=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-p)**A))),b&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(p)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function Hq(t){const e=this,n=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let r;if(i.type==="touchend"||i.type==="touchcancel"){if(r=[...i.changedTouches].filter(A=>A.identifier===n.touchId)[0],!r||r.identifier!==n.touchId)return}else{if(n.touchId!==null||i.pointerId!==n.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:o,rtlTranslate:l,slidesGrid:u,enabled:c}=e;if(!c||!a.simulateTouch&&i.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",i),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=Hp(),f=d-n.touchStartTime;if(e.allowClick){const A=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(A&&A[0]||i.target,A),e.emit("tap click",i),f<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(n.lastClickTime=Hp(),M1(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||o.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(a.followFinger?h=l?e.translate:-e.translate:h=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}const p=h>=-e.maxTranslate()&&!e.params.loop;let v=0,y=e.slidesSizesGrid[0];for(let A=0;A<u.length;A+=A<a.slidesPerGroupSkip?1:a.slidesPerGroup){const E=A<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[A+E]<"u"?(p||h>=u[A]&&h<u[A+E])&&(v=A,y=u[A+E]-u[A]):(p||h>=u[A])&&(v=A,y=u[u.length-1]-u[u.length-2])}let m=null,g=null;a.rewind&&(e.isBeginning?g=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const _=(h-u[v])/y,b=v<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(f>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(_>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?m:v+b):e.slideTo(v)),e.swipeDirection==="prev"&&(_>1-a.longSwipesRatio?e.slideTo(v+b):g!==null&&_<0&&Math.abs(_)>a.longSwipesRatio?e.slideTo(g):e.slideTo(v))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(v+b):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:v+b),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:v))}}function aS(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function $q(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Fq(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const s=t.maxTranslate()-t.minTranslate();s===0?r=0:r=(t.translate-t.minTranslate())/s,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Vq(t){const e=this;Bf(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function qq(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const iO=(t,e)=>{const n=Zl(),{params:i,el:r,wrapperEl:s,device:a}=t,o=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;!r||typeof r=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),r[l]("touchstart",t.onTouchStart,{passive:!1}),r[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:o}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:o}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",t.onClick,!0),i.cssMode&&s[l]("scroll",t.onScroll),i.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",aS,!0):t[u]("observerUpdate",aS,!0),r[l]("load",t.onLoad,{capture:!0}))};function Gq(){const t=this,{params:e}=t;t.onTouchStart=Bq.bind(t),t.onTouchMove=zq.bind(t),t.onTouchEnd=Hq.bind(t),t.onDocumentTouchStart=qq.bind(t),e.cssMode&&(t.onScroll=Fq.bind(t)),t.onClick=$q.bind(t),t.onLoad=Vq.bind(t),iO(t,"on")}function Wq(){iO(this,"off")}var Yq={attachEvents:Gq,detachEvents:Wq};const oS=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Xq(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const l=(a in s?s[a]:void 0)||t.originalParams,u=oS(t,i),c=oS(t,l),d=t.params.grabCursor,f=l.grabCursor,h=i.enabled;u&&!c?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&c&&(r.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),d&&!f?t.unsetGrabCursor():!d&&f&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(_=>{if(typeof l[_]>"u")return;const b=i[_]&&i[_].enabled,A=l[_]&&l[_].enabled;b&&!A&&t[_].disable(),!b&&A&&t[_].enable()});const p=l.direction&&l.direction!==i.direction,v=i.loop&&(l.slidesPerView!==i.slidesPerView||p),y=i.loop;p&&n&&t.changeDirection(),Cn(t.params,l);const m=t.params.enabled,g=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),h&&!m?t.disable():!h&&m&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",l),n&&(v?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!y&&g?(t.loopCreate(e),t.updateSlides()):y&&!g&&t.loopDestroy()),t.emit("breakpoint",l)}function Kq(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let i=!1;const r=Un(),s=e==="window"?r.innerHeight:n.clientHeight,a=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:s*l,point:o}}return{value:o,point:o}});a.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<a.length;o+=1){const{point:l,value:u}=a[o];e==="window"?r.matchMedia(`(min-width: ${u}px)`).matches&&(i=l):u<=n.clientWidth&&(i=l)}return i||"max"}var Qq={setBreakpoint:Xq,getBreakpoint:Kq};function Zq(t,e){const n=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):typeof i=="string"&&n.push(e+i)}),n}function Jq(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:s}=t,a=Zq(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),r.classList.add(...e),t.emitContainerClasses()}function eG(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var tG={addClasses:Jq,removeClasses:eG};function nG(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1,s=t.slidesGrid[r]+t.slidesSizesGrid[r]+i*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var iG={checkOverflow:nG},D1={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function rG(t,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){Cn(e,i);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in s)){Cn(e,i);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Cn(e,i)}}const S_={eventsEmitter:tq,update:fq,translate:vq,transition:Eq,slide:Nq,loop:kq,grabCursor:Pq,events:Yq,breakpoints:Qq,checkOverflow:iG,classes:tG},T_={};let Ab=class fr{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?n=r[0]:[e,n]=r,n||(n={}),n=Cn({},n),e&&!n.el&&(n.el=e);const a=Zl();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const c=[];return a.querySelectorAll(n.el).forEach(d=>{const f=Cn({},n,{el:d});c.push(new fr(f))}),c}const o=this;o.__swiper__=!0,o.support=eO(),o.device=tO({userAgent:n.userAgent}),o.browser=ZV(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],n.modules&&Array.isArray(n.modules)&&o.modules.push(...n.modules);const l={};o.modules.forEach(c=>{c({params:n,swiper:o,extendParams:rG(n,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const u=Cn({},D1,l);return o.params=Cn({},u,T_,n),o.originalParams=Cn({},o.params),o.passedParams=Cn({},n),o.params&&o.params.on&&Object.keys(o.params.on).forEach(c=>{o.on(c,o.params.on[c])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:i}=this,r=Pi(n,`.${i.slideClass}, swiper-slide`),s=nS(r[0]);return nS(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:i}=e;e.slides=Pi(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),a=(i.maxTranslate()-r)*e+r;i.translateTo(a,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const i=this,{params:r,slides:s,slidesGrid:a,slidesSizesGrid:o,size:l,activeIndex:u}=i;let c=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let d=s[u]?Math.ceil(s[u].swiperSlideSize):0,f;for(let h=u+1;h<s.length;h+=1)s[h]&&!f&&(d+=Math.ceil(s[h].swiperSlideSize),c+=1,d>l&&(f=!0));for(let h=u-1;h>=0;h-=1)s[h]&&!f&&(d+=s[h].swiperSlideSize,c+=1,d>l&&(f=!0))}else if(e==="current")for(let d=u+1;d<s.length;d+=1)(n?a[d]+o[d]-a[u]<l:a[d]-a[u]<l)&&(c+=1);else for(let d=u-1;d>=0;d-=1)a[u]-a[d]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Bf(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const a=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Pi(i,r())[0];return!a&&n.params.createElements&&(a=Fp("div",n.params.wrapperClass),i.append(a),Pi(i,`.${n.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(n,{el:i,wrapperEl:a,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Es(i,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Es(i,"direction")==="rtl"),wrongRTL:Es(a,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?Bf(n,s):s.addEventListener("load",a=>{Bf(n,a.target)})}),I1(n),n.initialized=!0,I1(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const i=this,{params:r,el:s,wrapperEl:a,slides:o}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),a&&a.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),HV(i)),i.destroyed=!0),null}static extendDefaults(e){Cn(T_,e)}static get extendedDefaults(){return T_}static get defaults(){return D1}static installModule(e){fr.prototype.__modules__||(fr.prototype.__modules__=[]);const n=fr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>fr.installModule(n)),fr):(fr.installModule(e),fr)}};Object.keys(S_).forEach(t=>{Object.keys(S_[t]).forEach(e=>{Ab.prototype[e]=S_[t][e]})});Ab.use([JV,eq]);const rO=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Qa(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function cl(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Qa(e[i])&&Qa(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:cl(t[i],e[i]):t[i]=e[i]})}function sO(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function aO(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function oO(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function lO(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),n=[];return e.forEach(i=>{n.indexOf(i)<0&&n.push(i)}),n.join(" ")}function sG(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function aG(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:s,prevEl:a,scrollbarEl:o,paginationEl:l}=t;const u=r.filter(S=>S!=="children"&&S!=="direction"&&S!=="wrapperClass"),{params:c,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:v}=e;let y,m,g,_,b,A,E,M;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(y=!0),r.includes("controller")&&i.controller&&i.controller.control&&c.controller&&!c.controller.control&&(m=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(c.pagination||c.pagination===!1)&&d&&!d.el&&(g=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&h&&!h.el&&(_=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||a)&&(i.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(b=!0);const w=S=>{e[S]&&(e[S].destroy(),S==="navigation"?(e.isElement&&(e[S].prevEl.remove(),e[S].nextEl.remove()),c[S].prevEl=void 0,c[S].nextEl=void 0,e[S].prevEl=void 0,e[S].nextEl=void 0):(e.isElement&&e[S].el.remove(),c[S].el=void 0,e[S].el=void 0))};r.includes("loop")&&e.isElement&&(c.loop&&!i.loop?A=!0:!c.loop&&i.loop?E=!0:M=!0),u.forEach(S=>{if(Qa(c[S])&&Qa(i[S]))Object.assign(c[S],i[S]),(S==="navigation"||S==="pagination"||S==="scrollbar")&&"enabled"in i[S]&&!i[S].enabled&&w(S);else{const T=i[S];(T===!0||T===!1)&&(S==="navigation"||S==="pagination"||S==="scrollbar")?T===!1&&w(S):c[S]=i[S]}}),u.includes("controller")&&!m&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),r.includes("children")&&n&&p&&c.virtual.enabled?(p.slides=n,p.update(!0)):r.includes("virtual")&&p&&c.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),r.includes("children")&&n&&c.loop&&(M=!0),y&&v.init()&&v.update(!0),m&&(e.controller.control=c.controller.control),g&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(c.pagination.el=l),d.init(),d.render(),d.update()),_&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(c.scrollbar.el=o),h.init(),h.updateSize(),h.setTranslate()),b&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),s&&(c.navigation.nextEl=s),a&&(c.navigation.prevEl=a),f.init(),f.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(A||M)&&e.loopDestroy(),(E||M)&&e.loopCreate(),e.update()}function oG(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},i={},r={};cl(n,D1),n._emitClasses=!0,n.init=!1;const s={},a=rO.map(l=>l.replace(/_/,"")),o=Object.assign({},t);return Object.keys(o).forEach(l=>{typeof t[l]>"u"||(a.indexOf(l)>=0?Qa(t[l])?(n[l]={},r[l]={},cl(n[l],t[l]),cl(r[l],t[l])):(n[l]=t[l],r[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?i[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:r,rest:s,events:i}}function lG(t,e){let{el:n,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:a,swiper:o}=t;sO(e)&&i&&r&&(o.params.navigation.nextEl=i,o.originalParams.navigation.nextEl=i,o.params.navigation.prevEl=r,o.originalParams.navigation.prevEl=r),aO(e)&&s&&(o.params.pagination.el=s,o.originalParams.pagination.el=s),oO(e)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(n)}function cG(t,e,n,i,r){const s=[];if(!e)return s;const a=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&i){const l=i.map(r),u=n.map(r);l.join("")!==u.join("")&&a("children"),i.length!==n.length&&a("children")}return rO.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Qa(t[l])&&Qa(e[l])){const u=Object.keys(t[l]),c=Object.keys(e[l]);u.length!==c.length?a(l):(u.forEach(d=>{t[l][d]!==e[l][d]&&a(l)}),c.forEach(d=>{t[l][d]!==e[l][d]&&a(l)}))}else t[l]!==e[l]&&a(l)}),s}const uG=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vp.apply(this,arguments)}function cO(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function uO(t){const e=[];return ne.Children.toArray(t).forEach(n=>{cO(n)?e.push(n):n.props&&n.props.children&&uO(n.props.children).forEach(i=>e.push(i))}),e}function dG(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ne.Children.toArray(t).forEach(i=>{if(cO(i))e.push(i);else if(i.props&&i.props.slot&&n[i.props.slot])n[i.props.slot].push(i);else if(i.props&&i.props.children){const r=uO(i.props.children);r.length>0?r.forEach(s=>e.push(s)):n["container-end"].push(i)}else n["container-end"].push(i)}),{slides:e,slots:n}}function fG(t,e,n){if(!n)return null;const i=c=>{let d=c;return c<0?d=e.length+c:d>=e.length&&(d=d-e.length),d},r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,o=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,u=[];for(let c=o;c<l;c+=1)c>=s&&c<=a&&u.push(e[i(c)]);return u.map((c,d)=>ne.cloneElement(c,{swiper:t,style:r,key:c.props.virtualIndex||c.key||`slide-${d}`}))}function uu(t,e){return typeof window>"u"?x.useEffect(t,e):x.useLayoutEffect(t,e)}const lS=x.createContext(null),hG=x.createContext(null),dO=x.forwardRef(function(t,e){let{className:n,tag:i="div",wrapperTag:r="div",children:s,onSwiper:a,...o}=t===void 0?{}:t,l=!1;const[u,c]=x.useState("swiper"),[d,f]=x.useState(null),[h,p]=x.useState(!1),v=x.useRef(!1),y=x.useRef(null),m=x.useRef(null),g=x.useRef(null),_=x.useRef(null),b=x.useRef(null),A=x.useRef(null),E=x.useRef(null),M=x.useRef(null),{params:w,passedParams:S,rest:T,events:D}=oG(o),{slides:I,slots:k}=dG(s),N=()=>{p(!h)};Object.assign(w.on,{_containerClasses(U,B){c(B)}});const L=()=>{Object.assign(w.on,D),l=!0;const U={...w};if(delete U.wrapperClass,m.current=new Ab(U),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=I;const B={cache:!1,slides:I,renderExternal:f,renderExternalUpdate:!1};cl(m.current.params.virtual,B),cl(m.current.originalParams.virtual,B)}};y.current||L(),m.current&&m.current.on("_beforeBreakpoint",N);const R=()=>{l||!D||!m.current||Object.keys(D).forEach(U=>{m.current.on(U,D[U])})},O=()=>{!D||!m.current||Object.keys(D).forEach(U=>{m.current.off(U,D[U])})};x.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",N)}),x.useEffect(()=>{!v.current&&m.current&&(m.current.emitSlidesClasses(),v.current=!0)}),uu(()=>{if(e&&(e.current=y.current),!!y.current)return m.current.destroyed&&L(),lG({el:y.current,nextEl:b.current,prevEl:A.current,paginationEl:E.current,scrollbarEl:M.current,swiper:m.current},w),a&&!m.current.destroyed&&a(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),uu(()=>{R();const U=cG(S,g.current,I,_.current,B=>B.key);return g.current=S,_.current=I,U.length&&m.current&&!m.current.destroyed&&aG({swiper:m.current,slides:I,passedParams:S,changedParams:U,nextEl:b.current,prevEl:A.current,scrollbarEl:M.current,paginationEl:E.current}),()=>{O()}}),uu(()=>{uG(m.current)},[d]);function P(){return w.virtual?fG(m.current,I,d):I.map((U,B)=>ne.cloneElement(U,{swiper:m.current,swiperSlideIndex:B}))}return ne.createElement(i,Vp({ref:y,className:lO(`${u}${n?` ${n}`:""}`)},T),ne.createElement(hG.Provider,{value:m.current},k["container-start"],ne.createElement(r,{className:sG(w.wrapperClass)},k["wrapper-start"],P(),k["wrapper-end"]),sO(w)&&ne.createElement(ne.Fragment,null,ne.createElement("div",{ref:A,className:"swiper-button-prev"}),ne.createElement("div",{ref:b,className:"swiper-button-next"})),oO(w)&&ne.createElement("div",{ref:M,className:"swiper-scrollbar"}),aO(w)&&ne.createElement("div",{ref:E,className:"swiper-pagination"}),k["container-end"]))});dO.displayName="Swiper";const fO=x.forwardRef(function(t,e){let{tag:n="div",children:i,className:r="",swiper:s,zoom:a,lazy:o,virtualIndex:l,swiperSlideIndex:u,...c}=t===void 0?{}:t;const d=x.useRef(null),[f,h]=x.useState("swiper-slide"),[p,v]=x.useState(!1);function y(b,A,E){A===d.current&&h(E)}uu(()=>{if(typeof u<"u"&&(d.current.swiperSlideIndex=u),e&&(e.current=d.current),!(!d.current||!s)){if(s.destroyed){f!=="swiper-slide"&&h("swiper-slide");return}return s.on("_slideClass",y),()=>{s&&s.off("_slideClass",y)}}}),uu(()=>{s&&d.current&&!s.destroyed&&h(s.getSlideClasses(d.current))},[s]);const m={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},g=()=>typeof i=="function"?i(m):i,_=()=>{v(!0)};return ne.createElement(n,Vp({ref:d,className:lO(`${f}${r?` ${r}`:""}`),"data-swiper-slide-index":l,onLoad:_},c),a&&ne.createElement(lS.Provider,{value:m},ne.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof a=="number"?a:void 0},g(),o&&!p&&ne.createElement("div",{className:"swiper-lazy-preloader"}))),!a&&ne.createElement(lS.Provider,{value:m},g(),o&&!p&&ne.createElement("div",{className:"swiper-lazy-preloader"})))});fO.displayName="SwiperSlide";function pG(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&n.auto===!0){let s=Pi(t.el,`.${i[r]}`)[0];s||(s=Fp("div",i[r]),s.className=i[r],t.el.append(s)),n[r]=s,e[r]=s}}),n}function mG(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(p){let v;return p&&typeof p=="string"&&e.isElement&&(v=e.el.querySelector(p)||e.hostEl.querySelector(p),v)?v:(p&&(typeof p=="string"&&(v=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&v&&v.length>1&&e.el.querySelectorAll(p).length===1?v=e.el.querySelector(p):v&&v.length===1&&(v=v[0])),p&&!v?p:v)}function a(p,v){const y=e.params.navigation;p=cr(p),p.forEach(m=>{m&&(m.classList[v?"add":"remove"](...y.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=v),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](y.lockClass))})}function o(){const{nextEl:p,prevEl:v}=e.navigation;if(e.params.loop){a(v,!1),a(p,!1);return}a(v,e.isBeginning&&!e.params.rewind),a(p,e.isEnd&&!e.params.rewind)}function l(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function u(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function c(){const p=e.params.navigation;if(e.params.navigation=pG(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let v=s(p.nextEl),y=s(p.prevEl);Object.assign(e.navigation,{nextEl:v,prevEl:y}),v=cr(v),y=cr(y);const m=(g,_)=>{g&&g.addEventListener("click",_==="next"?u:l),!e.enabled&&g&&g.classList.add(...p.lockClass.split(" "))};v.forEach(g=>m(g,"next")),y.forEach(g=>m(g,"prev"))}function d(){let{nextEl:p,prevEl:v}=e.navigation;p=cr(p),v=cr(v);const y=(m,g)=>{m.removeEventListener("click",g==="next"?u:l),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(m=>y(m,"next")),v.forEach(m=>y(m,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?h():(c(),o())}),i("toEdge fromEdge lock unlock",()=>{o()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{nextEl:p,prevEl:v}=e.navigation;if(p=cr(p),v=cr(v),e.enabled){o();return}[...p,...v].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),i("click",(p,v)=>{let{nextEl:y,prevEl:m}=e.navigation;y=cr(y),m=cr(m);const g=v.target;let _=m.includes(g)||y.includes(g);if(e.isElement&&!_){const b=v.path||v.composedPath&&v.composedPath();b&&(_=b.find(A=>y.includes(A)||m.includes(A)))}if(e.params.navigation.hideOnClick&&!_){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===g||e.pagination.el.contains(g)))return;let b;y.length?b=y[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(b=m[0].classList.contains(e.params.navigation.hiddenClass)),r(b===!0?"navigationShow":"navigationHide"),[...y,...m].filter(A=>!!A).forEach(A=>A.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),o()},h=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:h,update:o,init:c,destroy:d})}const gG=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M9.30567 18.6943C9.71388 19.1017 10.3757 19.1017 10.7839 18.6943L16.697 12.7931C16.9227 12.5678 17.0236 12.2653 16.9997 11.9708C17.0058 11.696 16.9039 11.4193 16.694 11.2096L10.7836 5.30568C10.3756 4.89811 9.71404 4.89811 9.30601 5.30568C8.89799 5.71326 8.89799 6.37408 9.30601 6.78166L14.5326 12.0025L9.30567 17.219C8.89746 17.6264 8.89746 18.2869 9.30567 18.6943Z",fill:"black"})),hO=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6C9.81051 6 7.94727 7.40792 7.27116 9.37076C7.14805 9.72817 6.83392 9.98561 6.45928 10.0361C4.50624 10.2994 3 11.9746 3 14C3 16.2091 4.79086 18 7 18C7.55229 18 8 18.4477 8 19C8 19.5523 7.55229 20 7 20C3.68629 20 1 17.3137 1 14C1 11.1686 2.96041 8.79651 5.59824 8.16485C6.68595 5.71241 9.14187 4 12 4C15.5571 4 18.4944 6.65314 18.9412 10.0884C21.2527 10.5287 23 12.5603 23 15C23 17.7614 20.7614 20 18 20C17.4477 20 17 19.5523 17 19C17 18.4477 17.4477 18 18 18C19.6569 18 21 16.6569 21 15C21 13.3431 19.6569 12 18 12C17.4477 12 17 11.5523 17 11C17 8.23858 14.7614 6 12 6Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C11.4477 12 11 12.4477 11 13V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V13C13 12.4477 12.5523 12 12 12Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.29289 16.2929C8.90237 16.6834 8.90237 17.3166 9.29289 17.7071L11.2929 19.7071C11.6834 20.0976 12.3166 20.0976 12.7071 19.7071C13.0976 19.3166 13.0976 18.6834 12.7071 18.2929L10.7071 16.2929C10.3166 15.9024 9.68342 15.9024 9.29289 16.2929Z",fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2929 19.7071C11.6834 20.0976 12.3166 20.0976 12.7071 19.7071L14.7071 17.7071C15.0976 17.3166 15.0976 16.6834 14.7071 16.2929C14.3166 15.9024 13.6834 15.9024 13.2929 16.2929L11.2929 18.2929C10.9024 18.6834 10.9024 19.3166 11.2929 19.7071Z",fill:"black"})),_G="_active_1x9hb_64",Qt={"modal-gallery":"_modal-gallery_1x9hb_10","modal-gallery--visible":"_modal-gallery--visible_1x9hb_22","modal-gallery__swiper":"_modal-gallery__swiper_1x9hb_26","modal-gallery__slide":"_modal-gallery__slide_1x9hb_41","modal-gallery__top-bar":"_modal-gallery__top-bar_1x9hb_47","modal-gallery__top-bar--mobile":"_modal-gallery__top-bar--mobile_1x9hb_59",active:_G,"modal-gallery__tob-bar-btn":"_modal-gallery__tob-bar-btn_1x9hb_67","modal-gallery__tob-bar-icon":"_modal-gallery__tob-bar-icon_1x9hb_81","modal-gallery__prev-btn":"_modal-gallery__prev-btn_1x9hb_92","modal-gallery__navigation-svg":"_modal-gallery__navigation-svg_1x9hb_105","modal-gallery__next-btn":"_modal-gallery__next-btn_1x9hb_118","fade-in":"_fade-in_1x9hb_1"},wo={"video-wrapper":"_video-wrapper_1irl0_1","video-item":"_video-item_1irl0_7","video-item--off-play-button":"_video-item--off-play-button_1irl0_86","video-item__pause-btn":"_video-item__pause-btn_1irl0_95","video-item__pause-btn--mobile":"_video-item__pause-btn--mobile_1irl0_110","video-item__pause-icon":"_video-item__pause-icon_1irl0_120"},vG=t=>x.createElement("svg",{width:10,height:12,viewBox:"0 0 10 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M0 11.8334H3.33333V0.166748H0V11.8334ZM6.66667 0.166748V11.8334H10V0.166748H6.66667Z",fill:"white"})),yG=({setIsTopBarVisible:t,videoUrl:e,isMobileScreen:n})=>{const i=x.useRef(null),[r,s]=x.useState(!1),a=()=>{n?t(!1):s(!0)},o=()=>{n&&t(!0)};return C.jsxs("div",{className:wo["video-wrapper"],onClick:l=>{l.stopPropagation(),n&&t(u=>!u)},children:[C.jsx("video",{ref:i,src:e,className:`${wo["video-item"]} ${r?wo["video-item--off-play-button"]:""}`,controls:!0,onPlaying:a,onPause:o,onEnded:()=>s(!1)}),r&&!n&&C.jsx("button",{className:`${wo["video-item__pause-btn"]} ${n?wo["video-item__pause-btn--mobile"]:""}`,onClick:l=>{var u,c;l.stopPropagation(),(u=i.current)!=null&&u.paused||((c=i.current)==null||c.pause(),s(!1))},children:C.jsx(vG,{className:wo["video-item__pause-icon"]})})]})},bG={"image-item":"_image-item_1mgsh_1"},wG=({imgUrl:t,setIsTopBarVisible:e,isMobileScreen:n})=>C.jsx("img",{src:t,className:bG["image-item"],alt:"",onClick:i=>{i.stopPropagation(),n&&e(r=>!r)}}),EG=({toggleModal:t,media:e,mediaIndex:n})=>{const{isMobileScreen:i}=Md(),[r,s]=x.useState(!1),[a,o]=x.useState(!0),[l,u]=x.useState(null),[c,d]=x.useState(null),f=x.useRef(null),h=x.useRef(null);x.useEffect(()=>{setTimeout(()=>{s(!0)},0)},[]);const p=()=>{s(!1),t(100)},v=y=>{e[y.activeIndex].imgUrl&&c!==e[y.activeIndex].imgUrl&&d(e[y.activeIndex].imgUrl),e[y.activeIndex].videoUrl&&c!==e[y.activeIndex].videoUrl&&d(e[y.activeIndex].videoUrl),i||(y.isBeginning&&y.isEnd?u("isOne"):y.isBeginning?u("isBeginning"):y.isEnd?u("isEnd"):l!==null&&u(null))};return Ml.createPortal(C.jsxs("div",{className:`${Qt["modal-gallery"]} ${r?Qt["modal-gallery--visible"]:""}`,onClick:p,children:[C.jsxs("div",{className:`${Qt["modal-gallery__top-bar"]} ${i?Qt["modal-gallery__top-bar--mobile"]:""} ${i&&a?Qt.active:""}`,onClick:y=>y.stopPropagation(),children:[c&&C.jsx("a",{href:c,"aria-label":"Download",download:!0,rel:"noreferrer",className:Qt["modal-gallery__tob-bar-btn"],children:C.jsx(hO,{className:Qt["modal-gallery__tob-bar-icon"]})}),C.jsx("button",{className:Qt["modal-gallery__tob-bar-btn"],onClick:p,children:C.jsx(jm,{className:Qt["modal-gallery__tob-bar-icon"]})})]}),C.jsxs(dO,{className:Qt["modal-gallery__swiper"],slidesPerView:1,modules:[mG],navigation:i?void 0:{nextEl:h.current,prevEl:f.current},initialSlide:n,onInit:v,onSlideChange:v,allowTouchMove:!0,children:[e.map((y,m)=>C.jsxs(fO,{className:Qt["modal-gallery__slide"],children:[y.imgUrl&&C.jsx(wG,{imgUrl:y.imgUrl,isMobileScreen:i,setIsTopBarVisible:o},m),y.videoUrl&&C.jsx(yG,{isMobileScreen:i,setIsTopBarVisible:o,videoUrl:y.videoUrl},m)]},m)),!i&&l!=="isOne"&&C.jsx("button",{ref:f,onClick:y=>{y.stopPropagation()},className:`${Qt["modal-gallery__prev-btn"]} ${l==="isBeginning"?"none":""}`,children:C.jsx(xR,{className:Qt["modal-gallery__navigation-svg"]})}),!i&&l!=="isOne"&&C.jsx("button",{ref:h,onClick:y=>{y.stopPropagation()},className:`${Qt["modal-gallery__next-btn"]} ${l==="isEnd"?"none":""}`,children:C.jsx(gG,{className:Qt["modal-gallery__navigation-svg"]})})]})]}),document.getElementById("modal-gallery"))},CG=t=>x.createElement("svg",{width:69,height:73,viewBox:"0 0 69 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{filter:"url(#filter0_d_317_197)"},x.createElement("path",{d:"M24.5145 22.9087C23.848 22.5088 23 22.9889 23 23.7662V49.0338C23 49.8111 23.848 50.2912 24.5145 49.8913L45.5708 37.2575C46.2182 36.8691 46.2182 35.9309 45.5708 35.5425L24.5145 22.9087Z",fill:"white"}),x.createElement("path",{d:"M21.75 23.7662V49.0338C21.75 50.7827 23.6579 51.863 25.1576 50.9632L46.214 38.3294C47.6705 37.4555 47.6705 35.3445 46.214 34.4706L25.1576 21.8368C23.6579 20.937 21.75 22.0173 21.75 23.7662Z",stroke:"black",strokeOpacity:.1,strokeWidth:2.5})),x.createElement("defs",null,x.createElement("filter",{id:"filter0_d_317_197",x:.5,y:.260742,width:68.0562,height:72.2784,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},x.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),x.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),x.createElement("feOffset",null),x.createElement("feGaussianBlur",{stdDeviation:10}),x.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),x.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_317_197"}),x.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_317_197",result:"shape"})))),SG="_rotate_d0v9o_1",Eo={"circular-progressbar-btn":"_circular-progressbar-btn_d0v9o_11","circular-progressbar-btn--file":"_circular-progressbar-btn--file_d0v9o_33","circular-progressbar-cross":"_circular-progressbar-cross_d0v9o_39","circular-progressbar-cross__icon":"_circular-progressbar-cross__icon_d0v9o_49","circular-progressbar-cross__icon--file":"_circular-progressbar-cross__icon--file_d0v9o_62","circular-progressbar":"_circular-progressbar_d0v9o_11",rotate:SG,"fade-in":"_fade-in_d0v9o_1"},k1=({progress:t,isFile:e,cancelUploads:n})=>C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:n,className:`${Eo["circular-progressbar-btn"]} ${e?Eo["circular-progressbar-btn--file"]:""}`,children:C.jsx(Xl,{className:Eo["circular-progressbar"],value:t===0?1:t,styles:Kl({strokeLinecap:"round",pathTransitionDuration:.5,pathColor:"rgb(255, 255, 255)",trailColor:"none"})})}),C.jsx("button",{onClick:n,className:Eo["circular-progressbar-cross"],children:C.jsx(jm,{className:`${Eo["circular-progressbar-cross__icon"]} ${e?Eo["circular-progressbar-cross__icon--file"]:""}`})})]}),TG=({width:t,imgUrl:e,videoUrl:n,videoPreview:i,messageData:r,progress:s,progressPreview:a,index:o,cancelUploads:l})=>{const{toggleBodyLock:u}=Im(),[c,d]=x.useState(!1),f=p=>{p?(u(),setTimeout(()=>{d(v=>!v)},p)):(d(v=>!v),u())},h=()=>{f()};return C.jsxs("div",{style:{width:t},className:wc["media-item-wrapper"],onContextMenu:p=>{p.stopPropagation(),p.preventDefault()},children:[(e||i&&i.length>0)&&C.jsxs(C.Fragment,{children:[C.jsx("img",{onClick:h,src:e||i,alt:"",className:wc["media-item"],onDragStart:p=>p.preventDefault()}),s!==void 0&&s<100&&C.jsx(k1,{progress:s,cancelUploads:l})]}),n&&(i==null?void 0:i.length)===0&&C.jsxs(C.Fragment,{children:[C.jsxs("video",{preload:"metadata",onClick:h,className:wc["media-item"],onDragStart:p=>p.preventDefault(),children:[C.jsx("source",{src:n,type:"video/mp4"}),C.jsx("source",{src:n,type:"video/webm"}),C.jsx("source",{src:n,type:"video/ogg"})]}),(s===void 0||s===100&&a===100)&&C.jsx("div",{className:wc["media-item__play-icon-wrapper"],children:C.jsx(CG,{className:wc["media-item__play-icon"]})}),s!==void 0&&a!==void 0&&(s<100||a<100)&&C.jsx(k1,{progress:s,cancelUploads:l})]}),r.media.length>0&&c&&C.jsx(EG,{mediaIndex:o,toggleModal:f,media:r.media})]})},ai={"file-item":"_file-item_1jq3u_1","file-item__left-wrapper":"_file-item__left-wrapper_1jq3u_13","file-item__file-icon-wrapper":"_file-item__file-icon-wrapper_1jq3u_19","file-item__file-icon":"_file-item__file-icon_1jq3u_19","file-item__info-wrapper":"_file-item__info-wrapper_1jq3u_32","file-item__name":"_file-item__name_1jq3u_38","file-item__size":"_file-item__size_1jq3u_48","file-item__right-wrapper":"_file-item__right-wrapper_1jq3u_56","file-item__checked-and-time-statuses-wrapper":"_file-item__checked-and-time-statuses-wrapper_1jq3u_62","file-item__download-btn":"_file-item__download-btn_1jq3u_66","file-item__download-icon":"_file-item__download-icon_1jq3u_71"},xG=t=>x.createElement("svg",{width:34,height:40,viewBox:"0 0 34 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 3.99C0 2.93179 0.420374 1.91691 1.16864 1.16864C1.91691 0.420374 2.93179 0 3.99 0H23.275L33.25 9.975V35.91C33.25 36.9682 32.8296 37.9831 32.0814 38.7314C31.3331 39.4796 30.3182 39.9 29.26 39.9H3.99C2.93179 39.9 1.91691 39.4796 1.16864 38.7314C0.420374 37.9831 0 36.9682 0 35.91V3.99Z",fill:"url(#paint0_linear_412_677)"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.98047 14.1312V12.4702H22.9425V14.1322H7.98047V14.1312ZM17.9555 15.7942H7.98047V17.4562H17.9555V15.7942ZM7.98047 20.7802H22.9425V19.1202H7.98047V20.7822V20.7802Z",fill:"#CFCFCF"}),x.createElement("path",{d:"M26.6242 9.9651C26.191 9.9651 25.762 9.87976 25.3619 9.71396C24.9617 9.54816 24.598 9.30514 24.2918 8.99879C23.9855 8.69244 23.7426 8.32875 23.5769 7.9285C23.4112 7.52825 23.326 7.09929 23.3262 6.6661V0.0581055L33.2462 9.9651H26.6242Z",fill:"#DBDBDB"}),x.createElement("defs",null,x.createElement("linearGradient",{id:"paint0_linear_412_677",x1:0,y1:0,x2:0,y2:39.9,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{stopColor:"white"}),x.createElement("stop",{offset:1,stopColor:"#DBDBDB"})))),AG=({fileUrl:t,fileName:e,fileSize:n,isStatusesVisible:i,timeStatus:r,isCheckedStatus:s,isLoadingStatus:a,isCanceledStatus:o,isMessageOwn:l,progress:u,cancelUploads:c})=>C.jsxs("div",{className:ai["file-item"],children:[C.jsxs("div",{className:ai["file-item__left-wrapper"],children:[C.jsxs("div",{className:ai["file-item__file-icon-wrapper"],children:[(u===void 0||u===100||o===!0)&&C.jsx(xG,{className:ai["file-item__file-icon"]}),u!==void 0&&u<100&&o!==!0&&C.jsx(k1,{progress:u,isFile:!0,cancelUploads:c})]}),C.jsxs("div",{className:ai["file-item__info-wrapper"],children:[C.jsx("span",{className:ai["file-item__name"],children:e}),C.jsx("span",{className:ai["file-item__size"],children:`${n} KB`})]})]}),C.jsxs("div",{className:ai["file-item__right-wrapper"],children:[!a&&C.jsx("a",{href:t,"aria-label":"Download",download:!0,rel:"noreferrer",className:ai["file-item__download-btn"],children:C.jsx(hO,{className:ai["file-item__download-icon"]})}),i&&C.jsx("div",{className:a?ai["file-item__checked-and-time-statuses-wrapper"]:"",children:C.jsx(lp,{isCanceled:o,isLoading:a,isChecked:s,time:r,isOwn:l})})]})]}),RG={"message-context-backdrop":"_message-context-backdrop_1a51c_1","message-context-backdrop__text":"_message-context-backdrop__text_1a51c_10"},OG="_active_fy3ee_18",cS={"message-context-menu":"_message-context-menu_fy3ee_2",active:OG},NG=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H4ZM3 12C3 11.4477 3.44772 11 4 11H13C13.5523 11 14 11.4477 14 12C14 12.5523 13.5523 13 13 13H4C3.44771 13 3 12.5523 3 12ZM10 18C10 17.4477 10.4477 17 11 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H11C10.4477 19 10 18.5523 10 18Z",fill:"black"})),MG="_red_15ouo_25",Co={"message-context-menu-button":"_message-context-menu-button_15ouo_1","message-context-menu-button__icon":"_message-context-menu-button__icon_15ouo_18",red:MG,"message-context-menu-button__text":"_message-context-menu-button__text_15ouo_28"},x_=({text:t,Svg:e,onClick:n,accentColor:i})=>C.jsxs("button",{onClick:n,className:`${Co["message-context-menu-button"]} ${i?Co[i]:""}`,children:[C.jsx(e,{className:`${Co["message-context-menu-button__icon"]} ${i?Co[i]:""}`}),C.jsx("span",{className:`${Co["message-context-menu-button__text"]} ${i?Co[i]:""}`,children:t})]}),IG=({messageText:t,сontextMenuActive:e,isMenuVisible:n,selectingMessageData:i,closeContextMenu:r,setModalOpen:s})=>{const a=x.useRef(null),[o,l]=x.useState({width:0,height:0}),u=Ln(),{activeChatId:c,activeChatMembers:d}=Ql();x.useEffect(()=>{if(a.current){const{clientWidth:m,clientHeight:g}=a.current;l({width:m+2,height:g+2})}},[n]);const f=e.backdropWidth-e.positionX>o.width,h=e.backdropHeight-e.positionY>o.height,p=m=>{navigator.clipboard.writeText(m),r()},v=()=>{r(),s("delete")},y=()=>{if(c===null||d===null)return;const m=new Date(i.messageDateUTC).getTime();u(gR({selectedMessage:{messageId:i.messageId,messageDateUTC:m},selectedChatId:c,selectedChatMembers:d})),r()};return C.jsxs("div",{ref:a,style:{top:h?e.positionY:e.positionY-o.height,left:f?e.positionX:e.positionX-o.width,transformOrigin:`${f?"left":"right"} ${h?"top":"bottom"}`},className:`${cS["message-context-menu"]} ${n?cS.active:""}`,onClick:m=>m.stopPropagation(),children:[t&&C.jsx(x_,{text:"Копировать текст",Svg:AR,onClick:()=>p(t)}),C.jsx(x_,{text:"Выбрать",Svg:NG,onClick:y}),C.jsx(x_,{text:"Удалить",Svg:cb,onClick:v,accentColor:"red"})]})},DG=({messageText:t,selectingMessageData:e,сontextMenuActive:n,setModalOpen:i,setContextMenuActive:r})=>{const[s,a]=x.useState(!1);x.useEffect(()=>{setTimeout(()=>{a(!0)},10)},[n.isActive]);const o=()=>{a(!1),setTimeout(()=>{r({positionY:0,positionX:0,backdropHeight:0,backdropWidth:0,isActive:!1})},150)};return Ml.createPortal(C.jsx("div",{onClick:o,onContextMenu:l=>{l.preventDefault()},className:RG["message-context-backdrop"],children:C.jsx(IG,{selectingMessageData:e,setModalOpen:l=>i(l),messageText:t,closeContextMenu:o,isMenuVisible:s,сontextMenuActive:n})}),document.getElementById("message-context-backdrop"))},kG=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12Z",fill:"black"})),LG=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM15.7071 9.29289C16.0976 9.68342 16.0976 10.3166 15.7071 10.7071L11.7071 14.7071C11.3166 15.0976 10.6834 15.0976 10.2929 14.7071L8.29289 12.7071C7.90237 12.3166 7.90237 11.6834 8.29289 11.2929C8.68342 10.9024 9.31658 10.9024 9.70711 11.2929L11 12.5858L14.2929 9.29289C14.6834 8.90237 15.3166 8.90237 15.7071 9.29289Z",fill:"black"})),UG=({uid:t,messageData:e,isLastOfGroup:n,isFirstOfGroup:i,uploadTasksRef:r,messageIndex:s})=>{var D,I,k,N,L,R,O,P,U,B,V;const[a,o]=x.useState({positionY:0,positionX:0,backdropHeight:0,backdropWidth:0,isActive:!1}),{activeChatMembers:l,activeChatAvatar:u,activeChatIsGroup:c,activeChatId:d}=Ql(),[f,h]=x.useState(!1),p=Ln(),{isMobileScreen:v}=Md(),{toggleModal:y}=Od({setCbState:h}),{isMessagesSelecting:m,selectedMessages:g}=Lm(),_=g.find(z=>z.messageId===e.messageId),b=100,A=c!==null&&c===!1&&u!==null?u:((D=l==null?void 0:l.find(z=>z.uid===e.senderUid))==null?void 0:D.avatar)||Us,E=l!=null?((I=l.find(z=>z.uid===e.senderUid))==null?void 0:I.username)||_B:void 0,M={delete:{title:"Удалить сообщение",subtitle:"Вы хотите удалить сообщение безвозвратно?",actionBtnText:"Удалить",action:async()=>{try{if(l===null||d===null)return;const z=fe(he,`userChats/${t}/chats/${d}/lastMessageDateUTC`),q=await _n(z);if(!q.exists())throw new Error("Чат не найден");const $=q.val();await mt(fe(he),{[`chats/${d}/messages/${e.messageId}/isDeleted`]:!0});const H=await zR(d);if(H===null&&c===!1){const ie=l.map(J=>J.uid),ae={[`chats/${d}/unreadMessages`]:null},le={lastMessageText:"История очищена",lastMessageDateUTC:sl(),lastMessageIsChecked:null,lastMessageSenderUid:t},ye={...ie.reduce((J,oe)=>(J[`userChats/${oe}/chats/${d}/lastMessageDateUTC`]=le.lastMessageDateUTC,J[`userChats/${oe}/chats/${d}/lastMessageIsChecked`]=le.lastMessageIsChecked,J[`userChats/${oe}/chats/${d}/lastMessageSenderUid`]=le.lastMessageSenderUid,J[`userChats/${oe}/chats/${d}/lastMessageText`]=le.lastMessageText,J),{}),...ae};await mt(fe(he),ye);return}if((H==null?void 0:H.messageDateUTC)!==$&&H!==null){const ie=l.map(ye=>ye.uid),ae=ie.reduce((ye,J)=>(ye[`chats/${d}/unreadMessages/${J}/${e.messageId}`]=null,ye),{}),Ee={...ie.reduce((ye,J)=>(ye[`userChats/${J}/chats/${d}/lastMessageDateUTC`]=H.messageDateUTC,ye[`userChats/${J}/chats/${d}/lastMessageIsChecked`]=H.isChecked,ye[`userChats/${J}/chats/${d}/lastMessageSenderUid`]=H.senderUid,ye[`userChats/${J}/chats/${d}/lastMessageText`]=H.messageText,ye),{}),...ae};await mt(fe(he),Ee)}}catch(z){throw console.error("Ошибка удаления сообщения:",z),z}}}},w=z=>{r.current[z]&&(Object.values(r.current[z]).forEach(({task:q,fileRef:$})=>{q.cancel(),Cj($).then(()=>{}).catch(H=>{console.error("Ошибка при удалении файла: ",H)})}),delete r.current[z])},S=z=>{if(z.preventDefault(),z.stopPropagation(),m)return;const q=document.getElementById("message-context-backdrop"),{width:$,left:H}=q.getBoundingClientRect();o({positionY:z.clientY,positionX:z.clientX-H,backdropHeight:document.documentElement.scrollHeight,backdropWidth:$,isActive:!0})},T=()=>{if(!(!m||d===null||l===null))if(_){const z=new Date(e.messageDateUTC).getTime();p(F$({selectedMessage:{messageId:e.messageId,messageDateUTC:z}}))}else{const z=new Date(e.messageDateUTC).getTime();p(gR({selectedMessage:{messageId:e.messageId,messageDateUTC:z},selectedChatId:d,selectedChatMembers:l}))}};return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:`${Ze.message} ${m?Ze.selecting:""}`,id:e.messageId,onContextMenu:S,onClick:T,children:[C.jsxs("div",{className:`${Ze["message__selecting-icon-wrapper"]} ${m?Ze.selecting:""}`,children:[C.jsx(kG,{className:Ze["message__selecting-icon"]}),C.jsx(LG,{className:`${Ze["message__selected-icon"]} ${_?Ze.selected:""}`})]}),n&&t&&e.senderUid!=t&&C.jsx(na,{AvatarImg:A,isLittle:!0}),C.jsxs("div",{className:`${Ze.message__wrapper} ${e.senderUid===t?Ze.own:""} ${n?`${Ze.border} ${Ze["margin-left"]}`:""} ${i&&s!==0?Ze["margin-top"]:""} ${_?Ze.selected:""}`,children:[i===!0&&c===!0&&E!==void 0&&e.senderUid!==t&&C.jsx("div",{className:`${Ze["message__username-wrapper"]} ${((k=e.media)==null?void 0:k.length)>0?Ze["message__username-wrapper--befor-media"]:""}  ${((N=e.media)==null?void 0:N.length)===0&&((L=e.files)==null?void 0:L.length)>0?Ze["message__username-wrapper--before-files"]:""}`,children:C.jsx("span",{className:Ze.message__username,children:E})}),((R=e.media)==null?void 0:R.length)>0&&C.jsxs("div",{className:Ze.message__album,children:[e==null?void 0:e.media.map((z,q)=>{const $=e.media.length%2!==0,H=q%2!==0,Z=q===e.media.length-1,ie=q>0&&e.media[q-1].isHorizontal,ae=q>0&&e.media[q-1].isSquare,le=q<e.media.length-1&&e.media[q+1].isHorizontal,Ee=q<e.media.length-1&&e.media[q+1].isSquare,ye=e.media.length===1||$&&Z?"100%":!H&&z.isSquare&&e.media.length>1&&Ee||H&&z.isSquare&&e.media.length>1&&ae?"50%":e.media.length>1&&!H&&z.isSquare&&le&&!Ee||e.media.length>1&&H&&z.isSquare&&ie&&!ae?"33.33%":e.media.length>1&&!H&&Ee&&z.isHorizontal&&!z.isSquare||e.media.length>1&&H&&ae&&z.isHorizontal&&!z.isSquare?"66.66%":H&&ie&&z.isHorizontal&&!$&&e.media.length===2||!H&&le&&z.isHorizontal&&!$&&e.media.length===2?"100%":H&&ie&&z.isHorizontal&&e.media.length>2||!H&&le&&z.isHorizontal&&e.media.length>2?"50%":e.media.length>1&&!H&&z.isHorizontal&&!le||e.media.length>1&&H&&z.isHorizontal&&!ie?"66.66%":e.media.length>1&&!H&&!z.isHorizontal&&le||e.media.length>1&&H&&!z.isHorizontal&&ie?"33.33%":e.media.length>1&&H&&!z.isHorizontal&&!ie||e.media.length>1&&!H&&!z.isHorizontal&&!le?"50%":"100%";return C.jsx(TG,{width:ye,progress:"progress"in z?z.progress:void 0,imgUrl:"imgUrl"in z?z.imgUrl:void 0,videoUrl:"videoUrl"in z?z.videoUrl:void 0,videoPreview:"videoPreview"in z?z.videoPreview:void 0,progressPreview:"progressPreview"in z?z.progressPreview:void 0,messageData:e,index:q,cancelUploads:()=>w(e.messageId)},q)}),((O=e.messageText)==null?void 0:O.length)===0&&((P=e.files)==null?void 0:P.length)===0&&((U=e.media)==null?void 0:U.length)>0&&C.jsx("div",{className:Ze["message__image-info-wrapper"],children:C.jsx(lp,{isCanceled:"isCanceled"in e?e.isCanceled:void 0,isLoading:e.isLoading,isChecked:e.isChecked,time:e.messageDateUTC,isForImage:!0,isOwn:e.senderUid===t})})]}),((B=e.files)==null?void 0:B.length)>0&&C.jsx("div",{className:`${Ze["message__files-wrapper"]} ${e.messageText.length===0?Ze["message__files-wrapper--padding-bottom"]:""}`,children:e.files.map((z,q)=>C.jsx(AG,{fileUrl:z.fileUrl,fileName:z.fileName,fileSize:z.fileSize,progress:"progress"in z?z.progress:void 0,isStatusesVisible:e.messageText.length===0&&e.files.length-1===q,isCheckedStatus:e.isChecked,isLoadingStatus:e.isLoading,isCanceledStatus:"isCanceled"in e?e.isCanceled:void 0,timeStatus:e.messageDateUTC,isMessageOwn:e.senderUid===t,cancelUploads:()=>w(e.messageId)},q))}),((V=e.messageText)==null?void 0:V.length)>0&&C.jsx("div",{className:Ze["message__text-wrapper"],children:e.messageText.length>0&&C.jsxs("span",{className:Ze.message__text,onContextMenu:z=>{z.stopPropagation(),v||z.preventDefault()},children:[C.jsx(jV,{options:{target:"_blank"},children:e.messageText}),C.jsx("div",{className:Ze["message__text-info-wrapper"],children:C.jsx(lp,{isCanceled:"isCanceled"in e?e.isCanceled:void 0,isLoading:e.isLoading,isChecked:e.isChecked,time:e.messageDateUTC,isOwn:e.senderUid===t})})]})})]})]}),a.isActive&&C.jsx(DG,{selectingMessageData:{messageId:e.messageId,messageDateUTC:e.messageDateUTC},setModalOpen:z=>h(z),messageText:e.messageText,setContextMenuActive:o,сontextMenuActive:a}),f&&C.jsx(Nd,{transitionDuration:b,toggleModal:()=>y(!1,b),divIdFromIndexHtml:"modal-backdrop",children:C.jsx(ub,{isMobileScreen:v,title:M[f].title,subtitle:M[f].subtitle,actionBtnText:M[f].actionBtnText,action:M[f].action})})]})},PG=({messagesArray:t,uid:e,uploadTasksRef:n,chatMessagesRef:i})=>{const r=t.filter(a=>a.isDeleted!==!0),s=new Map;return r.forEach((a,o)=>{s.set(a,o)}),C.jsxs("div",{children:[C.jsx(hV,{messageData:t[0],chatMessagesRef:i}),t.length>0&&t.map((a,o)=>{var u,c;if(a.isDeleted===!0)return null;const l=s.get(a);return C.jsx(UG,{uid:e,uploadTasksRef:n,messageData:a,messageIndex:o,isLastOfGroup:l===r.length-1||a.senderUid!==((u=r[l+1])==null?void 0:u.senderUid),isFirstOfGroup:l===0||a.senderUid!==((c=r[l-1])==null?void 0:c.senderUid)},o)})]})},jG=({isMobileScreen:t,uploadTasksRef:e,activeChatId:n,isSubscribeLoading:i,duringMessageSendingToggle:r,isChatExist:s})=>{const a=t?"section":"div",{uid:o}=Ji(),{messagesArray:l}=BR(),u=x.useRef(null),c=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=x.useRef({scrollTop:0,scrollHeight:0,clientHeight:0}),p=x.useRef(new Set),[v,y]=x.useState(!1),[m,g]=x.useState(!1),[_,b]=x.useState(!0),[A,E]=x.useState(!0),[M,w]=x.useState(!1),[S,T]=x.useState(!1),[D,I]=x.useState(!1),[k,N]=x.useState(null),[L,R]=x.useState(!1),[O,P]=x.useState({toggle:!1,locked:!1}),[U,B]=x.useState({isDualSubscribe:!1,firstUnreadMessageId:""}),[V,z]=x.useState({isObserverBeforeLocked:!1,isObserverAfterLocked:!1}),[q,$]=x.useState({beforeCount:0,afterCount:0}),[H,Z]=x.useState([]),ie=Ln();x.useLayoutEffect(()=>{P({toggle:!1,locked:!1}),$({beforeCount:0,afterCount:0}),z({isObserverBeforeLocked:!1,isObserverAfterLocked:!1}),R(!1),N(null)},[n]),x.useEffect(()=>{if(!n||!o)return;const J={root:f.current,rootMargin:"0px",threshold:.3},oe=se=>{const de=se.filter(ue=>ue.isIntersecting).map(ue=>{const F=ue.target.id;return l.find(G=>G.messageId===F)}).filter(ue=>ue!==void 0&&ue.senderUid!==o&&!ue.isChecked);de.length>0&&Z(ue=>[...ue,...de.filter(j=>!ue.some(F=>F.messageId===j.messageId))])},ge=new IntersectionObserver(oe,J);return l.forEach(se=>{if(se.senderUid!==o&&!se.isChecked){const de=document.getElementById(se.messageId);de&&!p.current.has(de)&&(ge.observe(de),p.current.add(de))}}),()=>{p.current.forEach(se=>ge.unobserve(se)),p.current.clear(),ge.disconnect()}},[l,n]),x.useEffect(()=>{if(H.length===0||!n)return;const J=async()=>{try{const ge=H.reduce((se,de)=>(se[`chats/${n}/messages/${de.messageId}/isChecked`]=!0,se[`chats/${n}/unreadMessages/${o}/${de.messageId}`]=null,se),{});await mt(fe(he),ge),Z([])}catch(ge){console.error("Ошибка при обновлении статуса сообщений:",ge)}},oe=setTimeout(()=>{J()},3e3);return()=>clearTimeout(oe)},[H]),x.useEffect(()=>{const J=ue=>{ue.forEach(j=>{j.isIntersecting&&!V.isObserverBeforeLocked&&(N("before"),$(F=>({...F,beforeCount:F.beforeCount+Hn/2})))})},oe=ue=>{ue.forEach(j=>{j.isIntersecting&&!V.isObserverAfterLocked&&U.isDualSubscribe&&!L&&(N(null),$(F=>({...F,afterCount:F.afterCount+Hn/2})),R(!0))})},ge={root:null,rootMargin:"0px",threshold:.1},se=new IntersectionObserver(J,ge),de=new IntersectionObserver(oe,ge);return c.current&&se.observe(c.current),d.current&&de.observe(d.current),()=>{R(!1),c.current&&se.unobserve(c.current),d.current&&de.unobserve(d.current),se.disconnect(),de.disconnect()}},[l]),x.useEffect(()=>{U.isDualSubscribe?U.isDualSubscribe&&l.length>=Hn/2+q.beforeCount&&V.isObserverBeforeLocked&&$(J=>({...J,beforeCount:J.beforeCount+Hn/2})):l.length>=Hn+q.beforeCount&&V.isObserverBeforeLocked&&$(J=>({...J,beforeCount:J.beforeCount+Hn/2}))},[l.length]),x.useEffect(()=>{requestAnimationFrame(()=>{var ge;if(!f.current||!h.current||k!=="before")return;if(!D&&S){f.current.scrollTo({top:h.current.scrollTop,behavior:"auto"}),I(!0);return}if(M){(ge=f.current)==null||ge.scrollTo({top:f.current.scrollHeight,behavior:"auto"}),y(!1),w(!1);return}const oe=f.current.scrollHeight-h.current.scrollHeight;f.current.scrollTo({top:h.current.scrollTop+oe,behavior:"auto"})})},[O]),x.useLayoutEffect(()=>{(async()=>{if(n!==null)try{g(!0);const oe=fe(he,`chats/${n}/unreadMessages/${o}`),ge=await _n(oe);if(ge.exists()){const se=Object.keys(ge.val())[0];B({isDualSubscribe:!0,firstUnreadMessageId:se})}else B({isDualSubscribe:!1,firstUnreadMessageId:""})}catch(oe){console.log("Ошибка получения первого непрочитанного сообщения:",oe)}finally{g(!1)}})()},[n]),x.useLayoutEffect(()=>{if(!(l.length===0||!s)&&_){if(U.isDualSubscribe&&U.firstUnreadMessageId){const J=()=>{const oe=document.getElementById(U.firstUnreadMessageId);oe?(oe.scrollIntoView({behavior:"auto"}),b(!1)):requestAnimationFrame(J)};J()}else if(!U.isDualSubscribe){const J=()=>{if(!f.current)return;const oe=l[l.length-1].messageId;if(document.getElementById(oe))f.current.scrollTo({top:f.current.scrollHeight,behavior:"auto"}),b(!1);else{requestAnimationFrame(J);return}};J()}}},[l.length]),x.useLayoutEffect(()=>{let J,oe;return(async()=>{if(n===null)return;const se=fe(he,`chats/${n}/messages`);if(U.isDualSubscribe&&U.firstUnreadMessageId){const de=f.current?{scrollTop:f.current.scrollTop,scrollHeight:f.current.scrollHeight,clientHeight:f.current.clientHeight}:null,ue=va(se,Hg(),L5(U.firstUnreadMessageId),U5(Hn/2+q.afterCount)),j=va(se,Hg(),KU(U.firstUnreadMessageId),Yv(Hn/2+q.beforeCount));J&&J(),oe&&oe(),J=Vi(j,F=>{const G=Object.values(F.val())||[];G.length<Hn/2+q.beforeCount&&!V.isObserverBeforeLocked?(z(Y=>({...Y,isObserverBeforeLocked:!0})),P(Y=>({...Y,locked:!0}))):P(Y=>({...Y,toggle:!Y.toggle})),ie(a_(G)),E(!1)},F=>{console.error("Ошибка при получении сообщений до первого непрочитанного:",F)}),oe=Vi(ue,F=>{const G=Object.values(F.val())||[];G.length<Hn/2+q.afterCount&&(B({isDualSubscribe:!1,firstUnreadMessageId:""}),$(Y=>({beforeCount:Y.beforeCount+Y.afterCount,afterCount:0})),z(Y=>({...Y,isObserverAfterLocked:!1})),T(!0)),ie(a_(G)),E(!1)},F=>{console.error("Ошибка при получении сообщений после первого непрочитанного:",F)}),de&&(h.current={scrollTop:de.scrollTop,scrollHeight:de.scrollHeight,clientHeight:de.clientHeight})}else if(!U.isDualSubscribe){const de=va(se,Hg(),Yv(Hn+q.beforeCount));J&&J(),oe&&oe(),oe=Vi(de,ue=>{const j=Object.values(ue.val())||[],F=f.current?{scrollTop:f.current.scrollTop,scrollHeight:f.current.scrollHeight,clientHeight:f.current.clientHeight}:null;F&&(h.current={scrollTop:F.scrollTop,scrollHeight:F.scrollHeight,clientHeight:F.clientHeight}),j.length<Hn+q.beforeCount?(z(G=>({...G,isObserverBeforeLocked:!0})),P(G=>({...G,locked:!0}))):P(G=>({...G,toggle:!G.toggle})),ie(a_(j)),E(!1)},ue=>{console.error("Ошибка при получении списка сообщений:",ue)})}})(),()=>{J&&J(),oe&&oe()}},[n,U,q]),x.useEffect(()=>{l.length>0&&!U.isDualSubscribe&&l[l.length-1].senderUid!==o&&le(!1)},[l.length]);const ae=()=>{var J;(J=u.current)==null||J.scrollIntoView({behavior:"smooth"})},le=(J=!0)=>{if(f.current){const oe=f.current,{scrollTop:ge,clientHeight:se,scrollHeight:de}=oe;J?de-ge<=se*WE&&setTimeout(ae,0):J||de-ge-se<15&&setTimeout(ae,0)}},Ee=()=>{if(f.current){const J=f.current,{scrollTop:oe,clientHeight:ge,scrollHeight:se}=J;if(se-oe>ge*WE){const de=se-ge-yB;J.scrollTo({top:de,behavior:"auto"}),setTimeout(ae,0)}}};x.useEffect(()=>{const J=async()=>{const oe=fe(he,`chats/${n}/messages`),ge=va(oe,Wh("isChecked"),Xv(!1)),se=await _n(ge);if(se.exists()&&n){const de=se.val(),ue=Object.keys(de).reduce((G,Y)=>{const K=de[Y];return K.senderUid!==o&&!K.isChecked&&(G[`chats/${n}/messages/${Y}/isChecked`]=!0),G},{}),j={[`chats/${n}/unreadMessages/${o}`]:null},F={...ue,...j};await mt(fe(he),F)}};return U.isDualSubscribe?(y(!0),ie(cp()),B({isDualSubscribe:!1,firstUnreadMessageId:""}),$(oe=>({beforeCount:oe.beforeCount+oe.afterCount,afterCount:0})),z(oe=>({...oe,isObserverAfterLocked:!1})),T(!0),w(!0),J()):(le(),Ee(),J()),()=>{}},[r]);const ye=async()=>{if(U.isDualSubscribe){y(!0);try{ie(cp()),B({isDualSubscribe:!1,firstUnreadMessageId:""}),$(se=>({beforeCount:se.beforeCount+se.afterCount,afterCount:0})),z(se=>({...se,isObserverAfterLocked:!1})),T(!0);const J=fe(he,`chats/${n}/messages`),oe=va(J,Wh("isChecked"),Xv(!1)),ge=await _n(oe);if(ge.exists()&&n){const se=ge.val(),de=Object.keys(se).reduce((F,G)=>{const Y=se[G];return Y.senderUid!==o&&!Y.isChecked&&(F[`chats/${n}/messages/${G}/isChecked`]=!0),F},{}),ue={[`chats/${n}/unreadMessages/${o}`]:null},j={...de,...ue};await mt(fe(he),j)}}catch(J){console.error("Ошибка при выполнении операции",J)}finally{w(!0)}}else le(),Ee()};return C.jsxs(a,{className:`${si["chat-messages"]} ${v?si.loading:""}`,ref:f,id:"chat-messages",onContextMenu:J=>{J.preventDefault()},children:[(v||i||m)&&C.jsx("div",{className:si["chat-messages__scroll-loader"],children:C.jsx("div",{className:si["chat-messages__circular-progressbar-wrapper"],children:C.jsx(Xl,{className:si["chat-messages__circular-progressbar"],value:Yy,styles:Kl({strokeLinecap:"round",pathTransitionDuration:.5,pathColor:"var(--base-accent-blue)",trailColor:"none"})})})}),!i&&C.jsxs("div",{className:t?"container container--height":"container container--max-width-unset container--height",children:[C.jsxs("div",{className:`${si["chat-messages__content"]} ${l.length===0?si["chat-messages__content--no-messages"]:""}`,children:[C.jsx("div",{className:si["chat-messages__messages-observer"],ref:c}),l.length>0&&Object.entries(l.reduce((J,oe)=>{const ge=new Date(oe.messageDateUTC).toLocaleDateString();return J[ge]||(J[ge]=[]),J[ge].push(oe),J},{})).map(([J,oe])=>C.jsx(PG,{messagesArray:oe,uid:o,uploadTasksRef:e,chatMessagesRef:f},J)),C.jsx("div",{className:si["chat-messages__messages-observer"],ref:d}),l.length===0&&!A&&C.jsx("span",{className:si["chat-messages__no-messages"],children:"Нет сообщений"}),C.jsx("div",{className:si["chat-messages__overlay-to-bottom-btn"],children:C.jsx(dV,{isDualSubscribe:U.isDualSubscribe,onBottomBtnClick:ye,chatMessagesRef:f})})]}),C.jsx("div",{ref:u})]})]})},uS=()=>{const t=x.useRef({}),[e,n]=x.useState(!1),[i,r]=x.useState(!1),[s,a]=x.useState(!1),[o,l]=x.useState(!1),u=kl(),c=Ln(),d=Qs(),{isMobileScreen:f}=Md(),{isMessagesForwarding:h,selectedMessages:p,selectedChatId:v,selectedChatMembers:y}=Lm(),{uid:m}=Ji(),{toggleModal:g}=Od({setCbState:n}),_=f?"main":"section",b=d.state,{activeChatId:A,activeChatAvatar:E,activeChatname:M,activeChatMembers:w,activeChatIsGroup:S}=Ql(),T={forward:{title:"Переслать",subtitle:`Переслать ${p.length>1?"сообщения":"сообщение"} в чат?`,actionBtnText:"Переслать",avatar:E,action:async()=>{try{if(y===null)throw new Error(`Ошибка при пересылке ${p.length>1?"сообщений":"сообщения"}`);const L=(await Promise.all(p.map(async $=>{const H=fe(he,`chats/${v}/messages/${$.messageId}`);return(await _n(H)).val()}))).map($=>{const H=fe(he,`chats/${A}/messages`),Z=I5(H).key;return Z===null?null:{...$,messageDateUTC:sl(),messageId:Z,answerToMessage:"",isChecked:!1,isDeleted:!1,isLoading:!1,isEdited:!1,senderUid:m,media:$.media||[],files:$.files||[],messageText:$.messageText||""}}).filter($=>$!==null),R=L.map($=>({...$,isLoading:!0,messageDateUTC:`${new Date}`}));c(Y$(R));const O=y.map($=>$.uid),U=O.filter($=>$!==m).reduce(($,H)=>(L.forEach(Z=>{Z!==null&&($[`chats/${A}/unreadMessages/${H}/${Z.messageId}`]=!0)}),$),{}),B=L[L.length-1],V=O.reduce(($,H)=>($[`userChats/${H}/chats/${A}/lastMessageText`]=B.messageText,$[`userChats/${H}/chats/${A}/lastMessageDateUTC`]=B.messageDateUTC,$[`userChats/${H}/chats/${A}/lastMessageIsChecked`]=B.isChecked,$[`userChats/${H}/chats/${A}/lastMessageSenderUid`]=m,$),{}),z=L.reduce(($,H)=>(H!==null&&($[`chats/${A}/messages/${H.messageId}`]=H),$),{}),q={...U,...V,...z};await mt(fe(he),q)}catch(N){throw console.error("Ошибка пересылки сообщений:",N),N}}}},D=100;x.useLayoutEffect(()=>{a(A!==null)},[b,A]),x.useLayoutEffect(()=>{c(cp()),A!==null&&(c(CF({chatId:A})),h||c(xa()))},[A]),x.useLayoutEffect(()=>{if(b===null&&A===null){u("/chats",{replace:!0});return}let N,L;const R=async(P,U)=>{const B=P.filter($=>!U.some(H=>H.uid===$)),V=U.filter($=>!P.includes($.uid));let z=U.filter($=>!V.some(H=>H.uid===$.uid));const q=await Promise.all(B.map(async $=>{const H=fe(he,`users/${$}`);try{const Z=await _n(H);if(Z.exists()){const ie=Z.val();return{uid:$,username:ie.username||al,avatar:ie.avatar||Us,blocked:ie.blocked||[]}}}catch(Z){console.error(`Ошибка при получении данных пользователя для ${$}:`,Z)}return{uid:$,username:al,avatar:Us,blocked:[]}}));z=[...z,...q],c(T$({activeChatMembers:z})),a(!1)};return(async()=>{var P;if(!(A===null||m===null||w===null))try{if(S===!1){const U=(P=w.find(B=>B.uid!==m))==null?void 0:P.uid;if(U){const B=fe(he,`users/${U}/blocked`);L&&L(),L=Vi(B,V=>{const z=V.val()||[];c(S$({activeChatBlocked:z})),a(!1)},V=>{console.error("Ошибка при получении списка заблокированных:",V)})}}else{const U=fe(he,`userChats/${m}/chats/${A}/membersIds`);N&&N(),N=Vi(U,async B=>{if(!B.exists())return;const V=Object.keys(B.val());await R(V,w||[])},B=>{console.error("Ошибка при подписке на изменения участников:",B)})}}catch(U){console.error("Ошибка при получении данных чата:",U)}})(),()=>{N&&N(),L&&L()}},[A,b]),x.useEffect(()=>(h&&n("forward"),()=>{}),[h]);const I=()=>{c(_R({isMessagesForwarding:!1})),c(xa())},k=N=>{f||(N.preventDefault(),r(!0))};return C.jsxs(C.Fragment,{children:[C.jsxs(_,{onDragEnter:k,className:nF.main,children:[C.jsx(aV,{isMobileScreen:f,isSubscribeLoading:s,locationUid:b?b.userUidFromGlobalSearch:null,avatar:E!==null?E:(b==null?void 0:b.chatAvatarFromGlobalSearch)||Us,chatname:M!==null?M:(b==null?void 0:b.chatnameFromGlobalSearch)||al}),C.jsx(jG,{duringMessageSendingToggle:o,isSubscribeLoading:s,activeChatId:A,uploadTasksRef:t,isMobileScreen:f,isChatExist:!b}),C.jsx(IF,{activeChatId:A,isSubscribeLoading:s,isDrag:i,uploadTasksRef:t,isMobileScreen:f,locationState:b,setIsDrag:r,setDuringMessageSendingToggle:l}),C.jsx(yF,{}),C.jsx("div",{id:"message-context-backdrop"})]}),e&&C.jsx(Nd,{transitionDuration:D,toggleModal:()=>g(!1,D,I),divIdFromIndexHtml:"modal-backdrop",children:C.jsx(ub,{isMobileScreen:f,title:T[e].title,subtitle:T[e].subtitle,actionBtnText:T[e].actionBtnText,action:T[e].action,avatar:T[e].avatar})})]})};function BG(){const{isAuth:t}=Ji(),{isMobileScreen:e}=Md();return C.jsx(wI,{children:C.jsxs(SI,{children:[C.jsx(EI,{}),C.jsx(bB,{children:C.jsx(DN,{children:C.jsxs(Ti,{path:"/",children:[C.jsx(Ti,{index:!0,element:t?C.jsx(bi,{to:"/chats",replace:!0}):C.jsx(bi,{to:"/login",replace:!0})}),C.jsx(Ti,{path:"login",element:t?C.jsx(bi,{to:"/chats",replace:!0}):C.jsx(sz,{})}),C.jsx(Ti,{path:"register",element:t?C.jsx(bi,{to:"/chats",replace:!0}):C.jsx(oz,{})}),C.jsx(Ti,{path:"reset-password",element:t?C.jsx(bi,{to:"/chats",replace:!0}):C.jsx(hz,{})}),C.jsx(Ti,{path:"chats",element:t?C.jsx(eF,{isMobileScreen:e}):C.jsx(bi,{to:"/login",replace:!0}),children:!e&&C.jsx(Ti,{path:"chat",element:t?C.jsx(uS,{}):C.jsx(bi,{to:"/login",replace:!0})})}),e&&C.jsx(Ti,{path:"chats/chat",element:t?C.jsx(uS,{}):C.jsx(bi,{to:"/login",replace:!0})}),C.jsx(Ti,{path:"*",element:t?C.jsx(bi,{to:"/chats",replace:!0}):C.jsx(bi,{to:"/login",replace:!0})})]})})})]})})}var Rb="persist:",Ob="persist/FLUSH",$m="persist/REHYDRATE",Nb="persist/PAUSE",Mb="persist/PERSIST",Ib="persist/PURGE",Db="persist/REGISTER",zG=-1;function zf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zf=function(n){return typeof n}:zf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zf(t)}function dS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function HG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dS(n,!0).forEach(function(i){$G(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dS(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FG(t,e,n,i){i.debug;var r=HG({},n);return t&&zf(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(r[s]=t[s])}),r}function VG(t){var e=t.blacklist||null,n=t.whitelist||null,i=t.transforms||[],r=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:Rb).concat(t.key),a=t.storage,o;t.serialize===!1?o=function(A){return A}:typeof t.serialize=="function"?o=t.serialize:o=qG;var l=t.writeFailHandler||null,u={},c={},d=[],f=null,h=null,p=function(A){Object.keys(A).forEach(function(E){m(E)&&u[E]!==A[E]&&d.indexOf(E)===-1&&d.push(E)}),Object.keys(u).forEach(function(E){A[E]===void 0&&m(E)&&d.indexOf(E)===-1&&u[E]!==void 0&&d.push(E)}),f===null&&(f=setInterval(v,r)),u=A};function v(){if(d.length===0){f&&clearInterval(f),f=null;return}var b=d.shift(),A=i.reduce(function(E,M){return M.in(E,b,u)},u[b]);if(A!==void 0)try{c[b]=o(A)}catch(E){console.error("redux-persist/createPersistoid: error serializing state",E)}else delete c[b];d.length===0&&y()}function y(){Object.keys(c).forEach(function(b){u[b]===void 0&&delete c[b]}),h=a.setItem(s,o(c)).catch(g)}function m(b){return!(n&&n.indexOf(b)===-1&&b!=="_persist"||e&&e.indexOf(b)!==-1)}function g(b){l&&l(b)}var _=function(){for(;d.length!==0;)v();return h||Promise.resolve()};return{update:p,flush:_}}function qG(t){return JSON.stringify(t)}function GG(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Rb).concat(t.key),i=t.storage;t.debug;var r;return t.deserialize===!1?r=function(a){return a}:typeof t.deserialize=="function"?r=t.deserialize:r=WG,i.getItem(n).then(function(s){if(s)try{var a={},o=r(s);return Object.keys(o).forEach(function(l){a[l]=e.reduceRight(function(u,c){return c.out(u,l,o)},r(o[l]))}),a}catch(l){throw l}else return})}function WG(t){return JSON.parse(t)}function YG(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Rb).concat(t.key);return e.removeItem(n,XG)}function XG(t){}function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(n,!0).forEach(function(i){KG(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function KG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QG(t,e){if(t==null)return{};var n=ZG(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function ZG(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var JG=5e3;function eW(t,e){var n=t.version!==void 0?t.version:zG;t.debug;var i=t.stateReconciler===void 0?FG:t.stateReconciler,r=t.getStoredState||GG,s=t.timeout!==void 0?t.timeout:JG,a=null,o=!1,l=!0,u=function(d){return d._persist.rehydrated&&a&&!l&&a.update(d),d};return function(c,d){var f=c||{},h=f._persist,p=QG(f,["_persist"]),v=p;if(d.type===Mb){var y=!1,m=function(w,S){y||(d.rehydrate(t.key,w,S),y=!0)};if(s&&setTimeout(function(){!y&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,a||(a=VG(t)),h)return ur({},e(v,d),{_persist:h});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),r(t).then(function(M){var w=t.migrate||function(S,T){return Promise.resolve(S)};w(M,n).then(function(S){m(S)},function(S){m(void 0,S)})},function(M){m(void 0,M)}),ur({},e(v,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===Ib)return o=!0,d.result(YG(t)),ur({},e(v,d),{_persist:h});if(d.type===Ob)return d.result(a&&a.flush()),ur({},e(v,d),{_persist:h});if(d.type===Nb)l=!0;else if(d.type===$m){if(o)return ur({},v,{_persist:ur({},h,{rehydrated:!0})});if(d.key===t.key){var g=e(v,d),_=d.payload,b=i!==!1&&_!==void 0?i(_,c,g,t):g,A=ur({},b,{_persist:ur({},h,{rehydrated:!0})});return u(A)}}}if(!h)return e(c,d);var E=e(v,d);return E===v?c:u(ur({},E,{_persist:h}))}}function hS(t){return iW(t)||nW(t)||tW()}function tW(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function nW(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function iW(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function pS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function L1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pS(n,!0).forEach(function(i){rW(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pS(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rW(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pO={registry:[],bootstrapped:!1},sW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pO,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Db:return L1({},e,{registry:[].concat(hS(e.registry),[n.key])});case $m:var i=e.registry.indexOf(n.key),r=hS(e.registry);return r.splice(i,1),L1({},e,{registry:r,bootstrapped:r.length===0});default:return e}};function aW(t,e,n){var i=Vy(sW,pO,void 0),r=function(l){i.dispatch({type:Db,key:l})},s=function(l,u,c){var d={type:$m,payload:u,err:c,key:l};t.dispatch(d),i.dispatch(d)},a=L1({},i,{purge:function(){var l=[];return t.dispatch({type:Ib,result:function(c){l.push(c)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:Ob,result:function(c){l.push(c)}}),Promise.all(l)},pause:function(){t.dispatch({type:Nb})},persist:function(){t.dispatch({type:Mb,register:r,rehydrate:s})}});return a.persist(),a}var kb={},Lb={};Lb.__esModule=!0;Lb.default=cW;function Hf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hf=function(n){return typeof n}:Hf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hf(t)}function A_(){}var oW={getItem:A_,setItem:A_,removeItem:A_};function lW(t){if((typeof self>"u"?"undefined":Hf(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function cW(t){var e="".concat(t,"Storage");return lW(e)?self[e]:oW}kb.__esModule=!0;kb.default=fW;var uW=dW(Lb);function dW(t){return t&&t.__esModule?t:{default:t}}function fW(t){var e=(0,uW.default)(t);return{getItem:function(i){return new Promise(function(r,s){r(e.getItem(i))})},setItem:function(i,r){return new Promise(function(s,a){s(e.setItem(i,r))})},removeItem:function(i){return new Promise(function(r,s){r(e.removeItem(i))})}}}var mO=void 0,hW=pW(kb);function pW(t){return t&&t.__esModule?t:{default:t}}var mW=(0,hW.default)("local");mO=mW;const gW={key:"root",storage:mO,whitelist:["user","activeChat"]},_W=aA({user:gB,messagesArray:J$,activeChat:A$,chatInputValues:xF,selectedMessages:G$}),vW=eW(gW,_W),gO=eB({reducer:vW,middleware:t=>t({serializableCheck:{ignoredActions:[Ob,$m,Nb,Mb,Ib,Db,"messagesArray/addLoadingMessage","messagesArray/updateProgressKeyInMessage","chatInputValues/updateChatInputValue","chatInputValues/filterAttachedItemsChatInputValue"],ignoredPaths:["messagesArray.messagesArray","chatInputValues.chatInputValues"]}})}),yW=aW(gO);function $f(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$f=function(n){return typeof n}:$f=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$f(t)}function bW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wW(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function EW(t,e,n){return e&&wW(t.prototype,e),t}function CW(t,e){return e&&($f(e)==="object"||typeof e=="function")?e:Ff(t)}function U1(t){return U1=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},U1(t)}function Ff(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P1(t,e)}function P1(t,e){return P1=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},P1(t,e)}function Vf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _O=function(t){SW(e,t);function e(){var n,i;bW(this,e);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i=CW(this,(n=U1(e)).call.apply(n,[this].concat(s))),Vf(Ff(i),"state",{bootstrapped:!1}),Vf(Ff(i),"_unsubscribe",void 0),Vf(Ff(i),"handlePersistorState",function(){var o=i.props.persistor,l=o.getState(),u=l.bootstrapped;u&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return EW(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(x.PureComponent);Vf(_O,"defaultProps",{children:null,loading:null});bI.createRoot(document.getElementById("root")).render(C.jsx(zN,{children:C.jsx(Uk,{store:gO,children:C.jsx(_O,{loading:null,persistor:yW,children:C.jsx(BG,{})})})}));
